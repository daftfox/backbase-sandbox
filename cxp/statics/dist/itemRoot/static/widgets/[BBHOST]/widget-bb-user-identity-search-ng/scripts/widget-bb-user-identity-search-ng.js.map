{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6***********","webpack:///webpack/bootstrap 634df7e15f979fd11910?e8e7***********","webpack:///./widget-bb-user-identity-search-ng/model.xml","webpack:///external \"vendor-bb-angular\"?a114****","webpack:///external \"lib-bb-widget-extension-ng\"?b547**","webpack:///external \"lib-bb-widget-ng\"?84ad**","webpack:///external \"lib-bb-event-bus-ng\"?8215**","webpack:///external \"lib-bb-intent-ng\"?add1**","webpack:///external \"model-bb-user-ng\"?eba8*","webpack:///external \"lib-bb-state-container-ng\"?8d56*","webpack:///./widget-bb-user-identity-search-ng/scripts/index.js","webpack:///./widget-bb-user-identity-search-ng/scripts/router.js","webpack:///./widget-bb-user-identity-search-ng/scripts/service.js","webpack:///./widget-bb-user-identity-search-ng/scripts/view-model/index.js","webpack:///./widget-bb-user-identity-search-ng/scripts/view-model/list.js","webpack:///./widget-bb-user-identity-search-ng/scripts/view-model/initial-state.js","webpack:///./widget-bb-user-identity-search-ng/scripts/controller.js","webpack:///./widget-bb-user-identity-search-ng/scripts/constants.js","webpack:///./widget-bb-user-identity-search-ng/scripts/default-hooks.js","webpack:///./widget-bb-user-identity-search-ng/scripts/events.js"],"names":["moduleKey","hooksKey","serviceKey","viewModelKey","routerKey","eventServiceKey","angular","module","widgetModuleKey","eventBusModuleKey","stateContainerModuleKey","bbIntentModuleKey","modelUserModuleKey","factory","eventBusKey","widgetEvents","defaultHooks","modelUserKey","UserIdentitySearchService","bbStateContainerKey","Router","ViewModel","controller","widgetKey","bbIntentKey","Controller","extensionContextKey","service","router","run","bbIntent","bbStateContainer","eventBus","widget","viewModel","init","persist","getState","setState","then","publish","id","getId","name","stateContainer","subscribers","setRoute","createAction","state","params","route","notifySubscribers","forEach","subscriber","goto","getParams","createSelector","getRoute","subscribe","callback","filter","sub","userModel","events","getUsersIdentities","list","beforeGetUsersIdentities","data","headers","totalCountHeader","totalCount","parseInt","afterGetUsersIdentitiesSuccess","from","catch","error","afterGetUsersIdentitiesError","current","loadingUserIdentities","items","identities","currentPage","setWidgetPreferences","preferences","$ctrl","unsubscribe","viewDetailsIntent","create","getWidgetPreferences","resultsPerPage","getLongPreference","pagerDefaults","maxNavPages","transformSearchRequest","size","externalId","searchForPage","page","requestParams","searchByPaginator","pagerParams","goToUserIdentityDetails","legalEntityName","internalId","$onInit","$onDestroy","Object","assign","Events","BEFORE_GET_USERS_IDENTITIES","AFTER_GET_USERS_IDENTITIES_SUCCESS","AFTER_GET_USERS_IDENTITIES_ERROR","bus"],"mappings":"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","file":"widget-bb-user-identity-search-ng/scripts/widget-bb-user-identity-search-ng.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vendor-bb-angular\"), require(\"lib-bb-widget-extension-ng\"), require(\"lib-bb-widget-ng\"), require(\"lib-bb-event-bus-ng\"), require(\"lib-bb-intent-ng\"), require(\"model-bb-user-ng\"), require(\"lib-bb-state-container-ng\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"widget-bb-user-identity-search-ng\", [\"vendor-bb-angular\", \"lib-bb-widget-extension-ng\", \"lib-bb-widget-ng\", \"lib-bb-event-bus-ng\", \"lib-bb-intent-ng\", \"model-bb-user-ng\", \"lib-bb-state-container-ng\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"widget-bb-user-identity-search-ng\"] = factory(require(\"vendor-bb-angular\"), require(\"lib-bb-widget-extension-ng\"), require(\"lib-bb-widget-ng\"), require(\"lib-bb-event-bus-ng\"), require(\"lib-bb-intent-ng\"), require(\"model-bb-user-ng\"), require(\"lib-bb-state-container-ng\"));\n\telse\n\t\troot[\"widget-bb-user-identity-search-ng\"] = factory(root[\"vendor-bb-angular\"], root[\"lib-bb-widget-extension-ng\"], root[\"lib-bb-widget-ng\"], root[\"lib-bb-event-bus-ng\"], root[\"lib-bb-intent-ng\"], root[\"model-bb-user-ng\"], root[\"lib-bb-state-container-ng\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_35__, __WEBPACK_EXTERNAL_MODULE_44__, __WEBPACK_EXTERNAL_MODULE_46__, __WEBPACK_EXTERNAL_MODULE_47__, __WEBPACK_EXTERNAL_MODULE_48__, __WEBPACK_EXTERNAL_MODULE_52__, __WEBPACK_EXTERNAL_MODULE_53__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 634df7e15f979fd11910","module.exports = require(\"./scripts/index.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./widget-bb-user-identity-search-ng/model.xml\n// module id = 0\n// module chunks = 12","module.exports = __WEBPACK_EXTERNAL_MODULE_35__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor-bb-angular\"\n// module id = 35\n// module chunks = 7 8 9 10 11 12 13","module.exports = __WEBPACK_EXTERNAL_MODULE_44__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lib-bb-widget-extension-ng\"\n// module id = 44\n// module chunks = 9 10 11 12","module.exports = __WEBPACK_EXTERNAL_MODULE_46__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lib-bb-widget-ng\"\n// module id = 46\n// module chunks = 9 10 11 12 13","module.exports = __WEBPACK_EXTERNAL_MODULE_47__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lib-bb-event-bus-ng\"\n// module id = 47\n// module chunks = 9 10 11 12 13","module.exports = __WEBPACK_EXTERNAL_MODULE_48__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lib-bb-intent-ng\"\n// module id = 48\n// module chunks = 9 10 11 12 13","module.exports = __WEBPACK_EXTERNAL_MODULE_52__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"model-bb-user-ng\"\n// module id = 52\n// module chunks = 10 11 12","module.exports = __WEBPACK_EXTERNAL_MODULE_53__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lib-bb-state-container-ng\"\n// module id = 53\n// module chunks = 10 11 12 13","/**\n * @module widget-bb-user-identity-search-ng\n *\n * @description\n * Search for a user identity\n */\nimport angular from 'vendor-bb-angular';\n\nimport widgetModuleKey, { widgetKey } from 'lib-bb-widget-ng';\nimport eventBusModuleKey, { eventBusKey } from 'lib-bb-event-bus-ng';\nimport extendHooks, { extensionContextKey } from 'lib-bb-widget-extension-ng';\nimport stateContainerModuleKey, { bbStateContainerKey } from 'lib-bb-state-container-ng';\nimport bbIntentModuleKey, { bbIntentKey } from 'lib-bb-intent-ng';\nimport modelUserModuleKey, { modelUserKey } from 'model-bb-user-ng';\n\nimport Router from './router';\nimport UserIdentitySearchService from './service';\nimport ViewModel from './view-model';\nimport Controller from './controller';\n\nimport defaultHooks from './default-hooks';\nimport widgetEvents from './events';\n\nconst moduleKey = 'widget-bb-user-identity-search-ng';\nconst hooksKey = `${moduleKey}:hooks`;\nconst serviceKey = `${moduleKey}:service`;\nconst viewModelKey = `${moduleKey}:view-model`;\nconst routerKey = `${moduleKey}:router`;\nconst eventServiceKey = `${moduleKey}:events`;\n\nexport default angular\n  .module(moduleKey, [\n    widgetModuleKey,\n    eventBusModuleKey,\n    stateContainerModuleKey,\n    bbIntentModuleKey,\n    modelUserModuleKey,\n  ])\n\n  .factory(eventServiceKey, [\n    eventBusKey,\n    /* into */\n    widgetEvents,\n  ])\n\n  .factory(hooksKey, extendHooks(defaultHooks))\n\n  .factory(serviceKey, [\n    viewModelKey,\n    modelUserKey,\n    eventServiceKey,\n    /* into */\n    UserIdentitySearchService,\n  ])\n\n  .factory(routerKey, [\n    bbStateContainerKey,\n    /* into */\n    Router,\n  ])\n\n  .factory(viewModelKey, [\n    bbStateContainerKey,\n    /* into */\n    ViewModel,\n  ])\n\n  .controller('UserIdentitySearchController', [\n    serviceKey,\n    routerKey,\n    widgetKey,\n    viewModelKey,\n    bbIntentKey,\n    /* into */\n    Controller,\n  ])\n\n  // Add `service` to the `context` object\n  // provided to the extension `helpers`, `events`, and `intents`\n  .factory(extensionContextKey, [\n    serviceKey,\n    routerKey,\n    /* into */\n    (service, router) => ({\n      service,\n      router,\n    }),\n  ])\n\n  .run([\n    bbIntentKey, bbStateContainerKey, eventBusKey, widgetKey, viewModelKey,\n    (bbIntent, bbStateContainer, eventBus, widget, viewModel) => {\n      // Initialize the viewModel with an initial state\n      viewModel.init();\n\n      // Persist the current state of the widget when navigating to fulfill an intent\n      bbIntent.persist(bbStateContainer.getState, bbStateContainer.setState);\n\n      // Handle any incoming intents\n      bbIntent.init().then(() => {\n        // Mobile SDK < 3.0\n        eventBus.publish('cxp.item.loaded', {\n          id: widget.getId(),\n        });\n\n        // Mobile SDK >= 3.0\n        eventBus.publish('bb.item.loaded', {\n          id: widget.getId(),\n        });\n      });\n    },\n  ])\n\n  .name;\n\n/**\n * @typedef HelperContext\n * @type {object}\n * @extends module:lib-bb-extension-helpers-ng.HelperContext\n * @property {UserIdentitiySearchService} service\n */\n\n/**\n * @typedef IntentContext\n * @type {object}\n * @extends module:lib-bb-extension-intents-ng.IntentContext\n * @property {UserIdentitySearchService} service\n */\n\n/**\n * @typedef EventContext\n * @type {object}\n * @extends module:lib-bb-extension-events-ng.EventContext\n * @property {UserIdentitySearchService} service\n */\n\n\n\n// WEBPACK FOOTER //\n// ./widget-bb-user-identity-search-ng/scripts/index.js","/**\n * The router service of the UserIdentitySearch widget\n *\n * @constructor Router\n * @param {StateContainer} stateContainer\n */\nexport default (stateContainer) => {\n  let subscribers = [];\n\n  /**\n   * @name setRoute\n   *\n   * @inner\n   * @description Inner method to update state with a new route\n   * @type {function}\n   * @param {{name: string, params: object}} route New route object\n   * @returns {ViewState}\n   */\n  const setRoute = stateContainer.createAction((state, { name, params }) => ({\n    ...state,\n    route: {\n      name,\n      params,\n    },\n  }));\n\n  /**\n   * @name notifySubscribers\n   *\n   * @inner\n   * @description Inner method to notify subscribers\n   * @type {function}\n   * @param {string} name New route name\n   * @param {object} params New route parameters object\n   */\n  const notifySubscribers = (name, params) => {\n    subscribers.forEach(subscriber => {\n      subscriber(name, params);\n    });\n  };\n\n  return {\n    /**\n     * @name Router#goto\n     *\n     * @description Method to navigate to a specific route\n     * @type {function}\n     * @param {string} name New route name\n     * @param {object} params New route parameters object\n     */\n    goto: (name, params = {}) => {\n      setRoute({ name, params });\n      notifySubscribers(name, params);\n    },\n\n    /**\n     * @name Router#getParams\n     *\n     * @description Method to get current route params from the {@link ViewState}\n     * @type {function}\n     * @returns {object} current parameters object\n     */\n    getParams: stateContainer.createSelector(state => state.route.params),\n\n    /**\n     * @name Router#getRoute\n     *\n     * @description Method to get current route name from the state\n     * @type {function}\n     */\n    getRoute: stateContainer.createSelector(state => state.route.name),\n\n    /**\n     * @name Router#subscribe\n     *\n     * @description Method to subscribe to a route change\n     * @type {function}\n     * @param {function} callback A callback to be subscribed\n     * @returns {function} The method to unsubscribe\n     */\n    subscribe: (callback) => {\n      subscribers = [...subscribers, callback];\n      return () => {\n        subscribers = subscribers.filter(sub => sub !== callback);\n      };\n    },\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./widget-bb-user-identity-search-ng/scripts/router.js","/**\n * @name UserIdentitySearchService\n * @type {object}\n * @description\n * The service encapsulates the core functionality of the UserIdentitySearch\n * Widget. It co-ordinates the communication of data from the `Model`\n * with the communication with the user by updating the {@link ViewState}.\n *\n * Asynchronous methods update the {@link ViewState} in 3 potential\n * stages; \"before\", \"success\", and \"error\", to allow the view to\n * provide feedback to the user.\n */\n\n/**\n * @name createUserIdentitySearchService\n * @inner\n * @type {object}\n\n * @param {ViewModel} viewModel\n * @param {module:model-bb-user-ng.UserModel} userModel\n * @param {object} events\n * @return {UserIdentitySearchService}\n */\nexport default (viewModel, userModel, events) => ({\n  /**\n   * @name UserIdentitySearchService#getUsersIdentities\n   * @type {function}\n   * @description Update the view with an list of\n   * items\n   * @param {object} params A set of params for the request\n   * @return {Promise.<void>}\n   */\n  getUsersIdentities(params) {\n    viewModel.list.beforeGetUsersIdentities();\n    events.beforeGetUsersIdentities();\n    return userModel.getUsersIdentities(params)\n      .then(({ data, headers }) => {\n        const totalCountHeader = headers('x-total-count');\n        const totalCount = totalCountHeader ? parseInt(totalCountHeader, 10) : 0;\n        viewModel.list.afterGetUsersIdentitiesSuccess({\n          data,\n          totalCount,\n          ...params && { from: params.from },\n        });\n        events.afterGetUsersIdentitiesSuccess(data, headers);\n      })\n      .catch((error) => {\n        viewModel.list.afterGetUsersIdentitiesError();\n        events.afterGetUsersIdentitiesError(error);\n      });\n  },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./widget-bb-user-identity-search-ng/scripts/service.js","import list from './list';\nimport createInitialState from './initial-state';\n\nexport default (stateContainer) => ({\n  /**\n   * @name ViewModel#init\n   * @type {function}\n   * @description Initialize the container with the initial state if\n   * it isn't already initialized (i.e. the current state is `undefined`)\n   * @param {ViewState} current The current state of the widget\n   * @return {ViewState} The new state of the widget\n   */\n  init: stateContainer.createAction((current = createInitialState()) => current),\n  list: list(stateContainer),\n});\n\n\n\n// WEBPACK FOOTER //\n// ./widget-bb-user-identity-search-ng/scripts/view-model/index.js","\nexport default (stateContainer) => ({\n  /**\n   * @name ViewModel#beforeGetUsersIdentities\n   * @type {function}\n   * @description Amend the view with a loading state\n   * @return {ViewState} The new state of the view model\n   */\n  beforeGetUsersIdentities: stateContainer.createAction((current) => ({\n    ...current,\n    loadingUserIdentities: true,\n  })),\n\n  /**\n   * @name ViewModel#afterGetUsersIdentitiesSuccess\n   * @type {function}\n   * @description Amend the view with the list of users and loading false and currentPage\n   *   starting index from 1 to support bootstrap pager value\n   * @param {Object} response\n   * @param {Object} response.data response data\n   * @param {Array} response.data.identities list of user identities\n   * @param {number} [response.totalCount] defaults to 0 if none provided\n   * @param {number} [response.from] 0 indexed value of the fetched page\n   * @return {ViewState} The new state of the view model\n   */\n  afterGetUsersIdentitiesSuccess: stateContainer.createAction(\n    (current, { data, totalCount = 0, from = 0 }) => ({\n      ...current,\n      items: data.identities || [],\n      totalCount,\n      loadingUserIdentities: false,\n      currentPage: from + 1,\n    })),\n\n  /**\n   * @name ViewModel#afterGetUsersIdentitiesError\n   * @type {function}\n   * @description Amend the view with the error\n   * @param {Object} error\n   * @return {ViewState} The new state of the view model\n   */\n  afterGetUsersIdentitiesError: stateContainer.createAction((current, error) => ({\n    ...current,\n    loadingUserIdentities: false,\n    error,\n  })),\n\n  /**\n   * @name ViewModel#setWidgetPreferences\n   * @type {function}\n   * @description Amend the view with widget preferences\n   * @param {Object} preferences the widget preferences to be set\n   * @return {ViewState} The new state of the view model\n   */\n  setWidgetPreferences: stateContainer.createAction((current, preferences = {}) => ({\n    ...current,\n    ...preferences,\n  })),\n});\n\n\n\n// WEBPACK FOOTER //\n// ./widget-bb-user-identity-search-ng/scripts/view-model/list.js","export default () => ({\n  items: [],\n  route: {\n    name: 'list',\n    params: {},\n  },\n  currentPage: 1,\n});\n\n/**\n * @typedef {object} ViewState\n * @description\n * The current state of the [ViewModel]{@link module:lib-bb-view-model-ng}.\n * @property {Array.<any>} items\n * @property {object} route Indicates current router state\n */\n\n\n\n// WEBPACK FOOTER //\n// ./widget-bb-user-identity-search-ng/scripts/view-model/initial-state.js","import { pagerDefaults } from './constants';\n\n/**\n * @module widget-bb-user-identity-search-ng\n * @name UserIdentitySearchController\n *\n * @description\n * Search for a user identity\n *\n * @param {UserIdentitySearchService} service\n * @param {Router} router\n * @param {Widget} widget\n * @param {module:lib-bb-state-container-ng.StateContainer} viewModel\n * @param {module:lib-bb-intent-ng.BbIntentProvider} bbIntent Widget navigation\n */\nexport default function Controller(service, router, widget, viewModel, bbIntent) {\n  const $ctrl = this;\n  let unsubscribe = null;\n  const { list } = viewModel;\n  const viewDetailsIntent = bbIntent.create('intent.bus.user-identity-details.view');\n\n  /**\n   * @name getWidgetPreferences\n   * @type {function}\n   * @description Get the widget preferences or defaults if none present\n   * @inner\n   */\n  const getWidgetPreferences = () => ({\n    resultsPerPage: widget.getLongPreference('resultsPerPage') || pagerDefaults.resultsPerPage,\n    maxNavPages: widget.getLongPreference('maxNavPages') || pagerDefaults.maxNavPages,\n  });\n\n  /**\n   * @name transformSearchRequest\n   * @type {function}\n   * @description Transform the request data for the current selected page\n   *   or the first page as default\n   * @param state\n   * @param {Object} state The current view state\n   * @param {number} state.resultsPerPage Number of results per page\n   * @param {number} from The page to get\n   * @inner\n   */\n  const transformSearchRequest = (\n    {\n      resultsPerPage,\n    },\n    from = 0\n  ) => ({\n    from,\n    size: resultsPerPage,\n    externalId: ($ctrl.state && $ctrl.state.externalId) || '',\n  });\n\n  /**\n   * @name Controller#searchForPage\n   * @type {function}\n   * @param state\n   * @param {Object} state The current view state\n   * @param {number} [page] The page to be fetched, defaulted to 0\n   *\n   * @description Transform the request data for a specified page\n   */\n  const searchForPage = (state, page = 0) => {\n    const requestParams = transformSearchRequest(state, page);\n    return service.getUsersIdentities(requestParams);\n  };\n\n  /**\n   * @name Controller#searchByPaginator\n   * @type {function}\n   * @param state\n   * @param {Object} state The current view state\n   * @param {number} state.resultsPerPage Number of results displayed per page\n   * @param {Object} [pagerParams] Bootstrap pager params\n   * @param {Number} [pagerParams.currentPage] Bootstrap current page\n   *\n   * @description Transform the request data for the current selected page\n   *   or the first page as default\n   */\n  const searchByPaginator = (state, pagerParams = {}) => {\n    const { currentPage } = pagerParams;\n    return $ctrl.searchForPage(state, currentPage - 1 || 0);\n  };\n\n  /**\n   * @name Controller#goToUserIdentityDetails\n   * @type {function}\n   * @param {Object} userIdentity The selected user identity\n   * @param {string} userIdentity.id The internal Id of the user\n   * @param {Number} userIdentity.legalEntityName The friendly legal identity name\n   *\n   * @description Transform the request data for the current selected page\n   *   or the first page as default\n   */\n  const goToUserIdentityDetails = ({ id, legalEntityName }) =>\n    viewDetailsIntent({ internalId: id, legalEntityName });\n\n  /**\n   * AngularJS Lifecycle hook used to initialize the controller\n   *\n   * @name UserIdentitySearchController#$onInit\n   * @type {function}\n   * @returns {void}\n   */\n  const $onInit = () => {\n    // set the widget preferences on the state\n    const preferences = getWidgetPreferences();\n    list.setWidgetPreferences(preferences);\n\n    service.getUsersIdentities({\n      externalId: '',\n      from: 0,\n      size: preferences.resultsPerPage,\n    });\n    unsubscribe = router.subscribe(route => {\n      if (route === 'list') {\n        $ctrl.searchForPage({ preferences }, 0);\n      }\n    });\n  };\n\n  /**\n   * AngularJS Lifecycle hook used to destroy the controller\n   *\n   * @name UserIdentitySearchController#$onDestroy\n   * @type {function}\n   * @returns {void}\n   */\n  const $onDestroy = () => {\n    if (unsubscribe) unsubscribe();\n  };\n\n  Object.assign($ctrl, {\n    $onInit,\n    $onDestroy,\n    searchForPage,\n    searchByPaginator,\n    goToUserIdentityDetails,\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./widget-bb-user-identity-search-ng/scripts/controller.js","/* eslint-disable import/prefer-default-export */\n\n/**\n * @description\n * Default values for the pager if not set on the widget\n *\n * @name pagerDefaults\n * @type {object}\n */\nexport const pagerDefaults = {\n  resultsPerPage: 10,\n  maxNavPages: 3,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./widget-bb-user-identity-search-ng/scripts/constants.js","export default {\n};\n\n\n\n// WEBPACK FOOTER //\n// ./widget-bb-user-identity-search-ng/scripts/default-hooks.js","/**\n * @description Events that the widget fires\n * @type {object}\n */\nconst Events = {\n  BEFORE_GET_USERS_IDENTITIES: 'bb.event.getUsersIdentities.before',\n  AFTER_GET_USERS_IDENTITIES_SUCCESS: 'bb.event.getUsersIdentitiesSuccess.after',\n  AFTER_GET_USERS_IDENTITIES_ERROR: 'bb.event.getUsersIdentitiesError.after',\n};\n\nexport default (bus) => ({\n\n  /**\n   * @name beforeGetUsersIdentities\n   * @type {function}\n   * @description Before get users identities\n   */\n  beforeGetUsersIdentities: () => {\n    bus.publish(Events.BEFORE_GET_USERS_IDENTITIES);\n  },\n\n  /**\n   * @name afterGetUsersIdentitiesSuccess\n   * @type {function}\n   * @param {Array} data User Data\n   * @param {object} headers Request headers that contain information\n   *   such as total count\n   * @description After get users identities success\n   */\n  afterGetUsersIdentitiesSuccess: (data, headers) => {\n    bus.publish(Events.AFTER_GET_USERS_IDENTITIES_SUCCESS, { data, headers });\n  },\n\n  /**\n   * @name afterGetUsersIdentitiesError\n   * @type {function}\n   * @param {object} error Error while getting users identities\n   * @description After get users identities error\n   */\n  afterGetUsersIdentitiesError: (error) => {\n    bus.publish(Events.AFTER_GET_USERS_IDENTITIES_ERROR, { error });\n  },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./widget-bb-user-identity-search-ng/scripts/events.js"],"sourceRoot":""}