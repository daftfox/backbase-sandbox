{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6******","webpack:///webpack/bootstrap 3ef30015219e38414ee1?dc48******","webpack:///./widget-bb-turnovers-ng/model.xml","webpack:///external \"vendor-bb-angular\"?a114***","webpack:///external \"lib-bb-widget-ng\"?84ad**","webpack:///external \"lib-bb-model-errors\"?7567**","webpack:///external \"lib-bb-event-bus-ng\"?8215","webpack:///external \"lib-bb-currency-ng\"?de3f","webpack:///external \"model-bb-turnovers-ng\"?a943","webpack:///external \"lib-bb-widget-extension-ng\"?b547","webpack:///external \"lib-bb-extension-helpers-ng\"?e731","webpack:///external \"lib-bb-intent-ng\"?add1","webpack:///./widget-bb-turnovers-ng/scripts/index.js","webpack:///./widget-bb-turnovers-ng/scripts/helpers.js","webpack:///./widget-bb-turnovers-ng/scripts/default-hooks.js","webpack:///./widget-bb-turnovers-ng/scripts/constants.js","webpack:///./widget-bb-turnovers-ng/scripts/controller.js","webpack:///./widget-bb-turnovers-ng/scripts/message.js"],"names":["moduleKey","hooksKey","helpersKey","angular","module","widgetModuleKey","eventBusModuleKey","modelTurnoversModuleKey","bbExtensionHelpersModuleKey","libBbCurrencyNgKey","bbIntentModuleKey","factory","defaultHooks","extensionHelpersContextKey","bbCurrencyRuleKey","$compile","getRule","helpers","controller","eventBusKey","modelTurnoversKey","widgetKey","Controller","run","bbIntentKey","bus","widget","bbIntent","publish","id","getId","init","name","$timeout","current","debounce","callback","time","cancel","processTurnoverResponse","data","processTurnoverSeries","series","processSelectedProducts","selectedProducts","processProductsList","products","onTurnoversUpdate","params","defaultPeriodStart","date","Date","setMonth","getMonth","DEFAULT_DURATION","toISOString","slice","defaultPeriodEnd","defaultInterval","interval","DEFAULT_INTERVAL","defaultStartDay","DEFAULT_START_DAY","accountSelectionDebounce","ACCOUNT_CHANGE_DEBOUNCE","processLoadError","error","INTERVAL","DAY","WEEK","MONTH","YEAR","PRODUCT_CHANGE_PFM_FLAG","TurnoversController","PRODUCT_SELECTED","Message","PRODUCTS_SELECTED","PERIOD_START_CHANGED","PERIOD_END_CHANGED","TURNOVERS_LOAD_FAILED","hooks","model","$ctrl","errorMessage","code","E_AUTH","E_CONNECTIVITY","E_USER","E_PARAMS","updateTurnovers","validateTurnoversParameters","arrangementIds","map","product","periodStartDate","periodEndDate","intervalDuration","intervalStartDay","then","loadTurnovers","loaded","transformToSeries","catch","updateProductsList","getFromStorage","getProductsArray","updateProductsSelected","isFirstProductDefault","isMultipleAccount","setSelectedProducts","setSelectedProduct","onPeriodStartDateChanged","onPeriodEndDateChanged","onProductSelected","onProductsSelected","pfmIgnore","payload","initProductSelection","getSelectedProducts","getSelectedProduct","selected","initPeriodData","bindEvents","subscribe","selection","$onInit","isLoading","Object","assign"],"mappings":"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","file":"widget-bb-turnovers-ng/scripts/widget-bb-turnovers-ng.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vendor-bb-angular\"), require(\"lib-bb-widget-ng\"), require(\"lib-bb-model-errors\"), require(\"lib-bb-event-bus-ng\"), require(\"lib-bb-currency-ng\"), require(\"model-bb-turnovers-ng\"), require(\"lib-bb-widget-extension-ng\"), require(\"lib-bb-extension-helpers-ng\"), require(\"lib-bb-intent-ng\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"widget-bb-turnovers-ng\", [\"vendor-bb-angular\", \"lib-bb-widget-ng\", \"lib-bb-model-errors\", \"lib-bb-event-bus-ng\", \"lib-bb-currency-ng\", \"model-bb-turnovers-ng\", \"lib-bb-widget-extension-ng\", \"lib-bb-extension-helpers-ng\", \"lib-bb-intent-ng\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"widget-bb-turnovers-ng\"] = factory(require(\"vendor-bb-angular\"), require(\"lib-bb-widget-ng\"), require(\"lib-bb-model-errors\"), require(\"lib-bb-event-bus-ng\"), require(\"lib-bb-currency-ng\"), require(\"model-bb-turnovers-ng\"), require(\"lib-bb-widget-extension-ng\"), require(\"lib-bb-extension-helpers-ng\"), require(\"lib-bb-intent-ng\"));\n\telse\n\t\troot[\"widget-bb-turnovers-ng\"] = factory(root[\"vendor-bb-angular\"], root[\"lib-bb-widget-ng\"], root[\"lib-bb-model-errors\"], root[\"lib-bb-event-bus-ng\"], root[\"lib-bb-currency-ng\"], root[\"model-bb-turnovers-ng\"], root[\"lib-bb-widget-extension-ng\"], root[\"lib-bb-extension-helpers-ng\"], root[\"lib-bb-intent-ng\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_22__, __WEBPACK_EXTERNAL_MODULE_26__, __WEBPACK_EXTERNAL_MODULE_28__, __WEBPACK_EXTERNAL_MODULE_37__, __WEBPACK_EXTERNAL_MODULE_38__, __WEBPACK_EXTERNAL_MODULE_40__, __WEBPACK_EXTERNAL_MODULE_41__, __WEBPACK_EXTERNAL_MODULE_42__, __WEBPACK_EXTERNAL_MODULE_43__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3ef30015219e38414ee1","module.exports = require(\"./scripts/index.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./widget-bb-turnovers-ng/model.xml\n// module id = 0\n// module chunks = 7","module.exports = __WEBPACK_EXTERNAL_MODULE_22__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor-bb-angular\"\n// module id = 22\n// module chunks = 3 4 5 6 7","module.exports = __WEBPACK_EXTERNAL_MODULE_26__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lib-bb-widget-ng\"\n// module id = 26\n// module chunks = 3 4 6 7","module.exports = __WEBPACK_EXTERNAL_MODULE_28__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lib-bb-model-errors\"\n// module id = 28\n// module chunks = 3 4 6 7","module.exports = __WEBPACK_EXTERNAL_MODULE_37__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lib-bb-event-bus-ng\"\n// module id = 37\n// module chunks = 6 7","module.exports = __WEBPACK_EXTERNAL_MODULE_38__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lib-bb-currency-ng\"\n// module id = 38\n// module chunks = 6 7","module.exports = __WEBPACK_EXTERNAL_MODULE_40__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"model-bb-turnovers-ng\"\n// module id = 40\n// module chunks = 6 7","module.exports = __WEBPACK_EXTERNAL_MODULE_41__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lib-bb-widget-extension-ng\"\n// module id = 41\n// module chunks = 6 7","module.exports = __WEBPACK_EXTERNAL_MODULE_42__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lib-bb-extension-helpers-ng\"\n// module id = 42\n// module chunks = 6 7","module.exports = __WEBPACK_EXTERNAL_MODULE_43__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lib-bb-intent-ng\"\n// module id = 43\n// module chunks = 6 7","/**\n * @module widget-bb-turnovers-ng\n *\n * @description\n * Turnovers\n */\nimport angular from 'vendor-bb-angular';\nimport extendHooks from 'lib-bb-widget-extension-ng';\n\nimport widgetModuleKey, {\n  widgetKey,\n} from 'lib-bb-widget-ng';\n\nimport eventBusModuleKey, {\n  eventBusKey,\n} from 'lib-bb-event-bus-ng';\n\nimport bbIntentModuleKey, {\n  bbIntentKey,\n} from 'lib-bb-intent-ng';\n\nimport modelTurnoversModuleKey, {\n  modelTurnoversKey,\n} from 'model-bb-turnovers-ng';\n\nimport bbExtensionHelpersModuleKey, {\n  extensionHelpersContextKey,\n} from 'lib-bb-extension-helpers-ng';\n\nimport libBbCurrencyNgKey, {\n  bbCurrencyRuleKey,\n} from 'lib-bb-currency-ng';\n\nimport helpers from './helpers';\nimport defaultHooks from './default-hooks';\nimport Controller from './controller';\n\nconst moduleKey = 'widget-bb-turnovers-ng';\nconst hooksKey = `${moduleKey}:hooks`;\nconst helpersKey = `${moduleKey}:helpers`;\n\nexport default angular\n  .module(moduleKey, [\n    widgetModuleKey,\n    eventBusModuleKey,\n\n    modelTurnoversModuleKey,\n\n    bbExtensionHelpersModuleKey,\n    libBbCurrencyNgKey,\n    bbIntentModuleKey,\n  ])\n\n  .factory(hooksKey, extendHooks(defaultHooks))\n\n  .factory(extensionHelpersContextKey, [\n    '$compile',\n    bbCurrencyRuleKey,\n    ($compile, getRule) => ({\n      $compile,\n      getRule,\n    }),\n  ])\n\n  .factory(helpersKey, [\n    '$timeout',\n    helpers,\n  ])\n\n  .controller('TurnoversController', [\n    // dependencies to inject\n    eventBusKey,\n    hooksKey,\n    helpersKey,\n    modelTurnoversKey,\n    widgetKey,\n    /* into */\n    Controller,\n  ])\n\n  .run([eventBusKey, widgetKey, bbIntentKey, (bus, widget, bbIntent) => {\n    bus.publish('cxp.item.loaded', {\n      id: widget.getId(),\n    });\n    bbIntent.init();\n  }])\n\n  .name;\n\n\n\n// WEBPACK FOOTER //\n// ./widget-bb-turnovers-ng/scripts/index.js","/**\n * @name helpers\n * @description Controller helpers\n * @type {Object}\n *\n * @property {function} debounce Executes a callback after some time\n */\nconst helpers = ($timeout) => {\n  /**\n   * @name current\n   * @description Keeps current timeout identifier for debounce helper\n   * @inner\n   * @type {any}\n   */\n  let current = null;\n\n  return {\n    debounce: (callback, time) => {\n      if (current) {\n        $timeout.cancel(current);\n      }\n\n      current = $timeout(callback, time);\n    },\n  };\n};\n\nexport default helpers;\n\n\n\n// WEBPACK FOOTER //\n// ./widget-bb-turnovers-ng/scripts/helpers.js","/* eslint no-unused-vars: [\"error\", { \"args\": \"none\" }] */\n/**\n * @name Default Hooks\n * @type {object}\n *\n * @description\n * Default hooks for widget-bb-turnovers-ng\n */\n\nimport {\n  DEFAULT_DURATION,\n  DEFAULT_INTERVAL,\n  DEFAULT_START_DAY,\n  ACCOUNT_CHANGE_DEBOUNCE,\n} from './constants';\n\n/**\n * @name default-hooks#processTurnoverResponse\n * @type {function}\n *\n * @description\n * Default hook for turnovers response object post processing\n *\n * @param {module:model-bb-turnovers-ng.Turnover} data turnover object to process\n * @returns {module:model-bb-turnovers-ng.Turnover} turnover response object\n */\nconst processTurnoverResponse = data => data;\n\n/**\n * @name default-hooks#processTurnoverSeries\n * @type {function}\n *\n * @description\n * Default hook for turnovers chart series object post processing\n *\n * @param {module:model-bb-turnovers-ng.BBSeries} series chart series data\n * @param {module:model-bb-turnovers-ng.Turnover} data original turnover object\n * @returns {object} processed series\n */\nconst processTurnoverSeries = (series, data) => series;\n\n/**\n * @name default-hooks#processSelectedProducts\n * @type {function}\n *\n * @description\n * Default hook to process products when selection is changed\n * @param {module:model-bb-product-summary-ng.Product[]} product which is selected\n * @returns {module:model-bb-product-summary-ng.Product[]} product after processing\n */\nconst processSelectedProducts = selectedProducts => selectedProducts;\n\n/**\n * @name default-hooks#processProductsList\n * @type {function}\n *\n * @description\n * Process passed products list before passing it to the view.\n *\n * @param {module:model-bb-product-summary-ng.ProductKinds} products to process\n * @returns {module:model-bb-product-summary-ng.ProductKinds} processed products\n */\nconst processProductsList = products => products;\n\n/**\n * @name default-hooks#onTurnoversUpdate\n * @type {function}\n *\n * @description\n * Process parameters before they are sent to the model's load method\n *\n * @param {object} params to process\n * @returns {object} processed params\n */\nconst onTurnoversUpdate = params => params;\n\n/**\n * @name default-hooks#defaultPeriodStart\n * @type {function}\n *\n * @description\n * Sets period start property on init\n *\n * @returns {string} Start period string in format yyyy-mm-dd\n */\nconst defaultPeriodStart = () => {\n  const date = new Date();\n  date.setMonth(date.getMonth() - DEFAULT_DURATION);\n  return date.toISOString().slice(0, 10);\n};\n\n/**\n * @name default-hooks#defaultPeriodEnd\n * @type {function}\n *\n * @description\n * Sets period end property on init\n *\n * @returns {string} End period string in format yyyy-mm-dd\n */\nconst defaultPeriodEnd = () => new Date().toISOString().slice(0, 10);\n\n/**\n * @name default-hooks#defaultInterval\n * @type {function}\n *\n * @description\n * Sets interval property on init\n *\n * @param {Interval} interval Available intervals\n * @returns {string} One of the available intervals\n */\nconst defaultInterval = (interval) => DEFAULT_INTERVAL;\n\n/**\n * @name default-hooks#defaultStartDay\n * @type {function}\n *\n * @description\n * Sets monthly interval start day on init\n *\n * @returns {string} One of the available intervals\n */\nconst defaultStartDay = () => DEFAULT_START_DAY;\n\n/**\n * @name default-hooks#accountSelectionDebounce\n * @type {function}\n *\n * @description\n * Used when multiple account selection is active. Defines account selection change\n * silence interval after which widget should send a new request and refresh\n *\n * @returns {number} Time in ms\n */\nconst accountSelectionDebounce = () => ACCOUNT_CHANGE_DEBOUNCE;\n\n/**\n * @name default-hooks#processLoadError\n * @type {function}\n *\n * @description\n * Sets the error for missing parameters in the turnovers request\n *\n * @param {error} The error passed\n * @returns {error} The actual error\n */\nconst processLoadError = (error) => error;\n\nexport default {\n  processTurnoverResponse,\n  processTurnoverSeries,\n  processProductsList,\n  processSelectedProducts,\n  onTurnoversUpdate,\n  defaultPeriodStart,\n  defaultPeriodEnd,\n  defaultInterval,\n  defaultStartDay,\n  accountSelectionDebounce,\n  processLoadError,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./widget-bb-turnovers-ng/scripts/default-hooks.js","/**\n * Available intervals\n * @name INTERVAL\n * @type {Interval}\n */\nexport const INTERVAL = {\n  DAY: 'DAY',\n  WEEK: 'WEEK',\n  MONTH: 'MONTH',\n  YEAR: 'YEAR',\n};\n\n/**\n * Default load interval\n * @name DEFAULT_INTERVAL\n * @type {string}\n */\nexport const DEFAULT_INTERVAL = INTERVAL.MONTH;\n\n/**\n * Default load duration\n * @name DEFAULT_DURATION\n * @type {number}\n */\nexport const DEFAULT_DURATION = 6;\n\n/**\n * Default start day for monthly interval\n * @name DEFAULT_START_DAY\n * @type {number}\n */\nexport const DEFAULT_START_DAY = 1;\n\n/**\n * Delay for account selection change callback execution\n * @name ACCOUNT_CHANGE_DEBOUNCE\n * @type {number}\n */\nexport const ACCOUNT_CHANGE_DEBOUNCE = 0;\n\n/**\n * @name PRODUCT_CHANGE_PFM_FLAG\n * @description\n * Flag that is appended to the product update event to mark that the update happened\n * because of the setting to load first product by default\n * @type {string}\n */\nexport const PRODUCT_CHANGE_PFM_FLAG = 'pfm.update';\n\n/**\n * Interval object\n * @typedef {object} Interval\n * @property {string} DAY Daily interval\n * @property {string} WEEK Weekly interval\n * @property {string} MONTH Monthly interval\n * @property {string} YEAR Yearly interval\n */\n\n\n\n// WEBPACK FOOTER //\n// ./widget-bb-turnovers-ng/scripts/constants.js","/**\n * @module widget-bb-turnovers-ng\n * @name TurnoversController\n *\n * @description\n * Turnovers\n */\n\nimport { E_AUTH, E_CONNECTIVITY, E_USER } from 'lib-bb-model-errors';\nimport Message from './message';\nimport { INTERVAL, PRODUCT_CHANGE_PFM_FLAG } from './constants';\n\nconst {\n  PRODUCT_SELECTED,\n  PRODUCTS_SELECTED,\n  PERIOD_START_CHANGED,\n  PERIOD_END_CHANGED,\n  TURNOVERS_LOAD_FAILED,\n} = Message;\n\nexport default function TurnoversController(bus, hooks, helpers, model) {\n  const $ctrl = this;\n\n  /**\n   * Converts error code to error message translation key\n   *\n   * @inner\n   * @name errorMessage\n   * @type {function}\n   * @param {string} code Error code\n   * @returns {string} Error message translation key\n   */\n  const errorMessage = (code) => ({\n    [E_AUTH]: 'error.load.auth',\n    [E_CONNECTIVITY]: 'error.load.connectivity',\n    [E_USER]: 'error.load.user',\n    [model.E_PARAMS]: model.E_PARAMS,\n  }[code] || 'error.load.unexpected');\n\n  /**\n   * Updates turnovers list based on selected product\n   *\n   * @inner\n   * @name updateTurnovers\n   * @type {function}\n   * @returns {Promise.<void>}\n   */\n  const updateTurnovers = () => model.validateTurnoversParameters(hooks.onTurnoversUpdate({\n    arrangementIds: $ctrl.selectedProducts.map(product => product.id),\n    periodStartDate: $ctrl.periodStartDate,\n    periodEndDate: $ctrl.periodEndDate,\n    intervalDuration: $ctrl.intervalDuration,\n    intervalStartDay: $ctrl.intervalStartDay,\n  }))\n  .then(model.loadTurnovers)\n  .then(loaded => {\n    $ctrl.error = null;\n    $ctrl.data = hooks.processTurnoverResponse(loaded);\n    $ctrl.series = hooks.processTurnoverSeries(model.transformToSeries(loaded), loaded);\n  })\n  .catch(error => {\n    $ctrl.error = hooks.processLoadError(errorMessage(error.code));\n    bus.publish(TURNOVERS_LOAD_FAILED, { error });\n  });\n\n  /**\n   * Updates the products list for the ui-bb-account-selector.\n   *\n   * @inner\n   * @name updateProductsList\n   * @type {function}\n   * @returns {Promise.<void>}\n   */\n  const updateProductsList = (getFromStorage) => model.getProductsArray(getFromStorage)\n    .then((products) => {\n      $ctrl.error = null;\n      $ctrl.products = hooks.processProductsList(products);\n      return $ctrl.products;\n    });\n\n  /**\n   * Updates selected product\n   *\n   * @inner\n   * @name updateProductsSelected\n   * @type {function}\n   * @param {module:model-bb-product-summary-ng.Product[]} selectedProducts Products to select\n   */\n  const updateProductsSelected = selectedProducts => {\n    $ctrl.selectedProducts = hooks.processSelectedProducts(selectedProducts);\n    // if this widget doesn't do the change in selection there is no need to update storage\n    if (!model.isFirstProductDefault()) {\n      return;\n    }\n\n    if (model.isMultipleAccount()) {\n      model.setSelectedProducts($ctrl.selectedProducts);\n    } else {\n      model.setSelectedProduct($ctrl.selectedProducts[0]);\n    }\n  };\n\n  /**\n   * @description\n   * Handler to be called on period start date change\n   *\n   * @name onPeriodStartDateChanged\n   * @type {function}\n   * @returns {void}\n   */\n  const onPeriodStartDateChanged = () => {\n    bus.publish(PERIOD_START_CHANGED, $ctrl.periodStartDate);\n  };\n\n  /**\n   * @description\n   * Handler to be called on period end date change\n   *\n   * @name onPeriodEndDateChanged\n   * @type {function}\n   * @returns {void}\n   */\n  const onPeriodEndDateChanged = () => {\n    bus.publish(PERIOD_END_CHANGED, $ctrl.periodEndDate);\n  };\n\n  /**\n   * @description\n   * Handler to be used on product selection, is using first item\n   * returned from {@link Hooks.processSelectedProducts} hook\n   *\n   * @name onProductSelected\n   * @type {function}\n   * @returns {void}\n   */\n  const onProductSelected = () => {\n    bus.publish(PRODUCT_SELECTED, {\n      product: $ctrl.selectedProducts[0],\n    });\n  };\n\n  /**\n   * @description\n   * Handler to be used on products selection, is using\n   * selected products value from {@link Hooks.processSelectedProducts} hook\n   *\n   * @name onProductsSelected\n   * @type {function}\n   * @param {?Boolean} pfmIgnore Flag to prevent reaction on an account selection change event.\n   * Can be use to ignore event that has originated\n   * from this widget durring the inital setup of the account selection\n   * @returns {void}\n   */\n  const onProductsSelected = (pfmIgnore = false) => {\n    const payload = {\n      products: $ctrl.selectedProducts,\n    };\n\n    if (pfmIgnore) {\n      payload[PRODUCT_CHANGE_PFM_FLAG] = pfmIgnore;\n    }\n\n    bus.publish(PRODUCTS_SELECTED, payload);\n  };\n\n  /**\n   * Reads product selection from storage\n   *\n   * @inner\n   * @name initProductSelection\n   * @type {function}\n   */\n  const initProductSelection = () => {\n    if (model.isMultipleAccount()) {\n      return model.getSelectedProducts()\n        .then(updateProductsSelected)\n        .then(() => {\n          if (model.isFirstProductDefault()) {\n            onProductsSelected(true);\n          }\n        });\n    }\n\n    return model.getSelectedProduct()\n      .then(selected => {\n        if (selected) {\n          updateProductsSelected([selected]);\n        }\n      });\n  };\n\n  /**\n   * Initializes period data via hooks\n   *\n   * @inner\n   * @name initPeriodData\n   * @type {function}\n   */\n  const initPeriodData = () => {\n    $ctrl.periodStartDate = hooks.defaultPeriodStart();\n    $ctrl.periodEndDate = hooks.defaultPeriodEnd();\n    $ctrl.intervalDuration = hooks.defaultInterval(INTERVAL);\n    $ctrl.intervalStartDay = hooks.defaultStartDay();\n  };\n\n  /**\n   * Adds subscriptions to bus events\n   * @inner\n   * @name bindEvents\n   * @type {function}\n   */\n  function bindEvents() {\n    bus.subscribe(PRODUCT_SELECTED, selection => {\n      updateProductsSelected([selection.product]);\n      updateTurnovers();\n    });\n    bus.subscribe(PRODUCTS_SELECTED, selection => {\n      if (selection[PRODUCT_CHANGE_PFM_FLAG]) {\n        return;\n      }\n\n      helpers.debounce(() => {\n        updateProductsSelected(selection.products);\n        updateTurnovers();\n      }, hooks.accountSelectionDebounce());\n    });\n    bus.subscribe(PERIOD_START_CHANGED, updateTurnovers);\n    bus.subscribe(PERIOD_END_CHANGED, updateTurnovers);\n  }\n\n  /**\n   * AngularJS Lifecycle hook used to initialize the controller\n   *\n   * @name $onInit\n   * @type {function}\n   * @returns {Promise.<void>}\n   */\n  const $onInit = () => {\n    $ctrl.isLoading = true;\n    return updateProductsList()\n      .then(initProductSelection)\n      .then(initPeriodData)\n      .then(updateTurnovers)\n      .then(bindEvents)\n      .then(() => { $ctrl.isLoading = false; })\n      .catch(error => {\n        $ctrl.error = errorMessage(error.code);\n        bus.publish(TURNOVERS_LOAD_FAILED, { error });\n      });\n  };\n\n  Object.assign($ctrl, {\n    $onInit,\n\n    /**\n     * @description\n     * The value returned from {@link Hooks.processTurnoverResponse} hook.\n     * null if the data isn't loaded.\n     *\n     * @name data\n     * @type {module:model-bb-turnovers-ng.Turnover}\n     */\n    data: null,\n\n    /**\n     * @description\n     * The value returned from {@link Hooks.processTurnoverSeries} hook.\n     * Formatted for use within chart UI component.\n     * null if the data isn't loaded\n     *\n     * @name series\n     * @type {module:model-bb-turnovers-ng.BBSeries}\n     */\n    series: null,\n\n    /**\n     * @description\n     * The product selection for turnovers evaluation\n     *\n     * @name selectedProducts\n     * @type {module:model-bb-product-summary-ng.Product[]}\n     */\n    selectedProducts: [],\n\n    /**\n     * @description\n     * List of products to be used by account selector for turnovers evaluation.\n     * Is recieved from {@link Hooks.processProductsList}\n     *\n     * @name products\n     * @type {module:model-bb-product-summary-ng.Product[]}\n     */\n    products: [],\n    onProductSelected,\n    onProductsSelected,\n    onPeriodStartDateChanged,\n    onPeriodEndDateChanged,\n\n    /**\n     * @description\n     * Date of the turnovers evaluation period start\n     *\n     * @name periodStartDate\n     * @type {string}\n     */\n    periodStartDate: null,\n\n    /**\n     * @description\n     * Date of the turnovers evaluation period end\n     *\n     * @name periodEndDate\n     * @type {string}\n     */\n    periodEndDate: null,\n\n    /**\n     * @description\n     * Length of each periodic interval\n     *\n     * @name intervalDuration\n     * @type {string}\n     */\n    intervalDuration: null,\n\n    /**\n     * @description\n     * Day of a month to start turnover interval\n     *\n     * @name intervalStartDay\n     * @type {number}\n     */\n    intervalStartDay: null,\n\n    /**\n     * @description\n     * Loading status\n     *\n     * @name isLoading\n     * @type {boolean}\n     */\n    isLoading: false,\n\n    /**\n     * @description\n     * Object containing all available intervals as key:value pairs\n     *\n     * @name interval\n     * @type {Interval}\n     */\n    interval: INTERVAL,\n\n    /**\n     * @description\n     * The error encountered when attempting to fetch from the model\n     *\n     * @name error\n     * @type {module:lib-bb-model-errors.ModelError}\n     */\n    error: null,\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./widget-bb-turnovers-ng/scripts/controller.js","export default {\n /**\n  * Triggered when product is selected.\n  * @event bb.event.product.selected\n  * @type {any}\n  */\n  PRODUCT_SELECTED: 'bb.event.product.selected',\n /**\n  * Triggered when products selection has changed\n  * @event bb.event.products.selected\n  * @type {any}\n  */\n  PRODUCTS_SELECTED: 'bb.event.products.selected',\n /**\n  * Triggered when period start date is changed.\n  * @event bb.event.turnovers.period.start.date.changed\n  * @type {any}\n  */\n  PERIOD_START_CHANGED: 'bb.event.turnovers.period.start.date.changed',\n /**\n  * Triggered when period end date is changed.\n  * @event bb.event.turnovers.period.end.date.changed\n  * @type {any}\n  */\n  PERIOD_END_CHANGED: 'bb.event.turnovers.period.end.date.changed',\n /**\n  * Triggered when turnovers widget fails to load.\n  * @event widget-bb-turnovers-ng.load.failed\n  * @type {any}\n  */\n  TURNOVERS_LOAD_FAILED: 'widget-bb-turnovers-ng.load.failed',\n};\n\n\n\n// WEBPACK FOOTER //\n// ./widget-bb-turnovers-ng/scripts/message.js"],"sourceRoot":""}