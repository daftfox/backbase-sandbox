{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6*******************************","webpack:///webpack/bootstrap d0309a746b17cd403690?c295*******************************","webpack:///./widget-wm-portfolio-details-ng/model.xml","webpack:///external \"lib-bb-state-container-ng\"","webpack:///external \"lib-wm-portfolio-view-model-helper\"","webpack:///external \"vendor-bb-angular\"?a114**********","webpack:///external \"lib-bb-widget-extension-ng\"?b547***","webpack:///external \"model-wm-portfolio-summary-ng\"?e4f4***","webpack:///./widget-wm-portfolio-details-ng/scripts/index.js","webpack:///./widget-wm-portfolio-details-ng/scripts/controller.js","webpack:///./widget-wm-portfolio-details-ng/scripts/service.js","webpack:///./widget-wm-portfolio-details-ng/scripts/view-model.js"],"names":["defaultHooks","hooksKey","serviceKey","viewModelKey","angular","module","modelPortfolioSummaryModuleKey","stateContainerModuleKey","factory","modelPortfolioSummaryKey","service","bbStateContainerKey","viewModel","controller","Controller","name","PortfolioDetailsController","$ctrl","loadPortfolioDetails","$onInit","init","Object","assign","state","getState","errors","model","beforeLoadPortfolioDetails","getSelectedPortfolioId","then","loadPortfolioSummaryRecord","portfolioId","afterLoadPortfolioDetailsSuccess","catch","afterLoadPortfolioDetailsError","initialState","portfolioDetails","data","loading","initialLoading","portfolioDetailsError","stateContainer","raw","error","code"],"mappings":"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","file":"widget-wm-portfolio-details-ng/scripts/widget-wm-portfolio-details-ng.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"lib-bb-state-container-ng\"), require(\"lib-wm-portfolio-view-model-helper\"), require(\"vendor-bb-angular\"), require(\"lib-bb-widget-extension-ng\"), require(\"model-wm-portfolio-summary-ng\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"widget-wm-portfolio-details-ng\", [\"lib-bb-state-container-ng\", \"lib-wm-portfolio-view-model-helper\", \"vendor-bb-angular\", \"lib-bb-widget-extension-ng\", \"model-wm-portfolio-summary-ng\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"widget-wm-portfolio-details-ng\"] = factory(require(\"lib-bb-state-container-ng\"), require(\"lib-wm-portfolio-view-model-helper\"), require(\"vendor-bb-angular\"), require(\"lib-bb-widget-extension-ng\"), require(\"model-wm-portfolio-summary-ng\"));\n\telse\n\t\troot[\"widget-wm-portfolio-details-ng\"] = factory(root[\"lib-bb-state-container-ng\"], root[\"lib-wm-portfolio-view-model-helper\"], root[\"vendor-bb-angular\"], root[\"lib-bb-widget-extension-ng\"], root[\"model-wm-portfolio-summary-ng\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_86__, __WEBPACK_EXTERNAL_MODULE_88__, __WEBPACK_EXTERNAL_MODULE_93__, __WEBPACK_EXTERNAL_MODULE_125__, __WEBPACK_EXTERNAL_MODULE_126__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d0309a746b17cd403690","module.exports = require(\"./scripts/index.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./widget-wm-portfolio-details-ng/model.xml\n// module id = 0\n// module chunks = 32","module.exports = __WEBPACK_EXTERNAL_MODULE_86__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lib-bb-state-container-ng\"\n// module id = 86\n// module chunks = 19 28 29 30 31 32 33 34 35 36 37","module.exports = __WEBPACK_EXTERNAL_MODULE_88__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lib-wm-portfolio-view-model-helper\"\n// module id = 88\n// module chunks = 19 28 29 30 31 32 33 34 35 36 37","module.exports = __WEBPACK_EXTERNAL_MODULE_93__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor-bb-angular\"\n// module id = 93\n// module chunks = 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37","module.exports = __WEBPACK_EXTERNAL_MODULE_125__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lib-bb-widget-extension-ng\"\n// module id = 125\n// module chunks = 28 29 30 31 32 33 34 35 36","module.exports = __WEBPACK_EXTERNAL_MODULE_126__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"model-wm-portfolio-summary-ng\"\n// module id = 126\n// module chunks = 28 29 30 31 32 33 34 35 36 37","/**\n * @module widget-wm-portfolio-details-ng\n *\n * @description\n * Portfolio details widget\n *\n *\n * @example\n *  <div ng-controller=\"PortfolioDetailsController as $ctrl\">\n *  </div>\n */\n\nimport angular from 'vendor-bb-angular';\nimport extendHooks from 'lib-bb-widget-extension-ng';\nimport stateContainerModuleKey, { bbStateContainerKey } from 'lib-bb-state-container-ng';\nimport modelPortfolioSummaryModuleKey, { modelPortfolioSummaryKey }\n       from 'model-wm-portfolio-summary-ng';\nimport Controller from './controller';\nimport * as defaultHooks from './default-hooks';\nimport service from './service';\nimport viewModel from './view-model';\n\nconst hooksKey = 'widget-wm-portfolio-details-ng:hooks';\nconst serviceKey = 'widget-wm-portfolio-details-ng:service';\nconst viewModelKey = 'widget-wm-portfolio-details-ng:viewModel';\n\n/**\n * @name default\n * @type {string}\n * @description Angular module name\n */\nexport default angular\n  .module('widget-wm-portfolio-details-ng', [\n    modelPortfolioSummaryModuleKey,\n    stateContainerModuleKey,\n  ])\n\n  .factory(hooksKey, extendHooks(defaultHooks))\n  .factory(serviceKey, [\n    modelPortfolioSummaryKey,\n    viewModelKey,\n    hooksKey,\n    service,\n  ])\n  .factory(viewModelKey, [\n    bbStateContainerKey,\n    hooksKey,\n    viewModel,\n  ])\n  .controller('PortfolioDetailsController', [\n    serviceKey,\n    viewModelKey,\n    /* into */\n    Controller,\n  ])\n  .name;\n\n\n\n// WEBPACK FOOTER //\n// ./widget-wm-portfolio-details-ng/scripts/index.js","/**\n * @name PortfolioDetailsController\n * @ngkey PortfolioDetailsController\n * @type {object}\n * @description\n * Porftolio details controller.\n */\n\nexport default function PortfolioDetailsController(\n  service,\n  viewModel\n) {\n  const $ctrl = this;\n\n  /**\n   * @description\n   * Handles loading of portfolio details\n   *\n   * @private\n   * @name PortfolioDetailsController#loadPortfolioDetails\n   * @type {function}\n   * Load positions\n   * @returns {promise.<array>}\n   */\n  const loadPortfolioDetails = () => service.loadPortfolioDetails();\n\n  /*\n   * Widget initialization logic.\n   */\n  const $onInit = () => {\n    viewModel.init();\n    return loadPortfolioDetails();\n  };\n\n\n  Object.assign($ctrl, {\n    loadPortfolioDetails,\n    $onInit,\n  });\n\n  return Object.assign(\n    {\n      get state() {\n        return viewModel.getState();\n      },\n      get errors() {\n        return viewModel.getState().errors;\n      },\n    },\n    $ctrl\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./widget-wm-portfolio-details-ng/scripts/controller.js","export default (model, viewModel) => ({\n  /**\n   * @description\n   * Handles loading of portfolio details\n   *\n   * @public\n   * @name loadPortfolioDetails\n   * @type {function}\n   * @returns {promise.<array>}\n   */\n  loadPortfolioDetails: () => {\n    viewModel.beforeLoadPortfolioDetails();\n    return model.getSelectedPortfolioId()\n      .then(portfolioId => model.loadPortfolioSummaryRecord(portfolioId))\n      .then(viewModel.afterLoadPortfolioDetailsSuccess)\n      .catch(viewModel.afterLoadPortfolioDetailsError);\n  },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./widget-wm-portfolio-details-ng/scripts/service.js","import { wrapActions } from 'lib-wm-portfolio-view-model-helper';\n\n/**\n* @name initialState\n* @description portfolio details store initial state\n* @type {object}\n* @property {object} portfolioDetails an object of portfolio details\n* @property {boolean} initialLoading Boolean flag of initial loading\n* @property {object} errors          portfolios details errors\n*/\n\nconst initialState = {\n  portfolioDetails: {\n    data: null,\n    loading: false,\n  },\n  initialLoading: true,\n  errors: {\n    portfolioDetailsError: null,\n  },\n};\n\nexport default (stateContainer) => ({\n  getState: stateContainer.getState,\n  ...wrapActions(stateContainer, {\n    init: (state = initialState) => state,\n    beforeLoadPortfolioDetails: () => ({\n      initialLoading: true,\n      portfolioDetails: {\n        loading: true,\n      },\n    }),\n    afterLoadPortfolioDetailsSuccess: (state, raw) => ({\n      initialLoading: false,\n      portfolioDetails: {\n        loading: false,\n        data: raw.data,\n      },\n      errors: {\n        portfolioDetailsError: null,\n      },\n    }),\n    afterLoadPortfolioDetailsError: (state, error) => ({\n      initialLoading: false,\n      portfolioDetails: {\n        loading: false,\n        data: null,\n      },\n      errors: {\n        portfolioDetailsError: error.code,\n      },\n    }),\n  }),\n});\n\n\n\n// WEBPACK FOOTER //\n// ./widget-wm-portfolio-details-ng/scripts/view-model.js"],"sourceRoot":""}