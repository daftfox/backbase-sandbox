{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 3162d9cea18411c49a35","webpack:///./ext-bb-places-list-map-ng/model.xml","webpack:///./ext-bb-places-list-map-ng/scripts/index.js","webpack:///external \"ui-bb-i18n-ng\"","webpack:///external \"ui-bb-maps-ng\"","webpack:///external \"ui-bb-loading-indicator-ng\"","webpack:///external \"ui-bb-substitute-error-ng\"","webpack:///external \"vendor-bb-angular-ng-aria\"","webpack:///./ext-bb-places-list-map-ng/scripts/hooks.js","webpack:///./ext-bb-places-list-map-ng/scripts/helpers.js","webpack:///./ext-bb-places-list-map-ng/scripts/constants.js"],"names":["extHooks","dependencyKeys","hooks","helpers","events","processPlaces","assetsPath","getExtensionAssetsPath","places","map","place","Object","assign","icon","onContainerToggle","mapElements","angular","element","activatedElement","find","length","google","maps","event","trigger","data","configuredContextRoot","window","BB","config","contextRoot","v6ContextRoot","cxpFeature","portalClient","getFeature","get","v5ContextRoot","b$","portal","resourceRoot","DEFAULT_CONTEXT_ROOT","EXTENSION_NAME"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA,yC;;;;;;;;;;;;;ACuDA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;KAAYA,Q;;AAEZ;;;;;;;;AAEO,KAAMC,0CAAiB,gJAAvB,C,CAjEP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEO,KAAMC,wBAAQF,QAAd;;AAEA,KAAMG,6CAAN;;AAEA,KAAMC,0BAAS,EAAf,C;;;;;;AC7EP,gD;;;;;;ACAA,gD;;;;;;ACAA,gD;;;;;;ACAA,gD;;;;;;ACAA,gD;;;;;;;;;;;;;ACEA;;;;;;AAEA;;;;;;;;;;;AAWO,KAAMC,wCAAgB,SAAhBA,aAAgB,SAAU;AACrC,OAAMC,aAAa,kBAAQC,sBAAR,EAAnB;AACA,UAAO,CAACC,UAAU,EAAX,EAAeC,GAAf,CAAmB,UAACC,KAAD,EAAW;AACnCC,YAAOC,MAAP,CAAcF,KAAd,EAAqB;AACnBG,aAASP,UAAT;AADmB,MAArB;AAGA,YAAOI,KAAP;AACD,IALM,CAAP;AAMD,EARM;;AAUP;;;;;;;;;;;;;AAzBA;AACA;AAqCO,KAAMI,gDAAoB,SAApBA,iBAAoB,mBAAoB;AACnD,OAAMC,cAAcC,QAAQC,OAAR,CAAgBC,gBAAhB,EAAkCC,IAAlC,CAAuC,aAAvC,CAApB;AACA,OAAIJ,YAAYK,MAAZ,KAAuB,CAA3B,EAA8B;AAC5B;AACD;;AAEDC,UAAOC,IAAP,CAAYC,KAAZ,CAAkBC,OAAlB,CAA0BT,YAAYU,IAAZ,CAAiB,KAAjB,CAA1B,EAAmD,QAAnD;AACD,EAPM,C;;;;;;;;;;;;ACpCP;;AAKA,KAAMtB,UAAU;AACd;;;;;;AAMAI,2BAAwB,kCAAM;AAC5B,SAAMmB,wBAAwBC,OAAOC,EAAP,IAAaD,OAAOC,EAAP,CAAUC,MAAvB,IAAiCF,OAAOC,EAAP,CAAUC,MAAV,CAAiBC,WAAhF;AACA,SAAMC,gBAAgB,SAAhBA,aAAgB,GAAM;AAC1B,WAAMC,aAAaL,OAAOM,YAAP,IACjBN,OAAOM,YAAP,CAAoBC,UADH,IAEjBP,OAAOM,YAAP,CAAoBC,UAApB,CAA+B,KAA/B,CAFF;AAGA,cAAOF,cAAcA,WAAWH,MAAX,CAAkBM,GAAlB,CAAsB,aAAtB,CAArB;AACD,MALD;;AAOA,SAAMC,gBAAgB,SAAhBA,aAAgB;AAAA,cAAOT,OAAOU,EAAP,IAC3BV,OAAOU,EAAP,CAAUC,MADiB,IAE3BX,OAAOU,EAAP,CAAUC,MAAV,CAAiBT,MAAjB,CAAwBU,YAFJ;AAAA,MAAtB;;AAKA,SAAMT,cAAcJ,yBAClBK,eADkB,IAElBK,eAFkB,mCAApB;AAIA,YAAUN,WAAV;AACD;AA1Ba,EAAhB,C,CAPA;;mBAoCe3B,O;;;;;;;;;;;ACpCf;;;;AAIO,KAAMqC,sDAAuB,eAA7B;;AAEP;;;;AAIO,KAAMC,0CAAiB,2BAAvB,C","file":"ext-bb-places-list-map-ng/scripts/ext-bb-places-list-map-ng.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"ui-bb-i18n-ng\"), require(\"ui-bb-maps-ng\"), require(\"ui-bb-loading-indicator-ng\"), require(\"ui-bb-substitute-error-ng\"), require(\"vendor-bb-angular-ng-aria\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ext-bb-places-list-map-ng\", [\"ui-bb-i18n-ng\", \"ui-bb-maps-ng\", \"ui-bb-loading-indicator-ng\", \"ui-bb-substitute-error-ng\", \"vendor-bb-angular-ng-aria\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ext-bb-places-list-map-ng\"] = factory(require(\"ui-bb-i18n-ng\"), require(\"ui-bb-maps-ng\"), require(\"ui-bb-loading-indicator-ng\"), require(\"ui-bb-substitute-error-ng\"), require(\"vendor-bb-angular-ng-aria\"));\n\telse\n\t\troot[\"ext-bb-places-list-map-ng\"] = factory(root[\"ui-bb-i18n-ng\"], root[\"ui-bb-maps-ng\"], root[\"ui-bb-loading-indicator-ng\"], root[\"ui-bb-substitute-error-ng\"], root[\"vendor-bb-angular-ng-aria\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_6__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3162d9cea18411c49a35","module.exports = require(\"./scripts/index.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ext-bb-places-list-map-ng/model.xml\n// module id = 0\n// module chunks = 0","/**\n * @module ext-bb-places-list-map-ng\n *\n * @description\n * Places widget extension that combines list and map view.\n *\n * @requires ui-bb-i18n-ng\n * @requires ui-bb-maps-ng\n * @requires ui-bb-substitute-error-ng\n * @requires ui-bb-loading-indicator-ng\n * @requires vendor-bb-angular-ng-aria\n *\n * @example\n * <!-- places widget model.xml -->\n * <property name=\"extension\" viewHint=\"text-input,admin\">\n *   <value type=\"string\">ext-bb-places-list-map-ng</value>\n * </property>\n *\n * Usage of ui-bb-maps-ng component in template\n *\n * <g-map-api preferences=\"$ctrl.getPlacesPreferences()\">\n *   <div class=\"col-xs-4\">\n *     <!-- Places List area -->\n *     <place-list places=\"$ctrl.loadPlaces\"\n *       messages=\"{\n *         list: ('places.message.setup.list' | i18n),\n *         error: ('places.message.setup.error' | i18n),\n *         empty: ('places.message.setup.empty' | i18n),\n *       }\">\n *       <div class=\"form-group\">\n *         <g-map-search></g-map-search>\n *         <span class=\"fa fa-search text-muted form-control-feedback\" aria-hidden=\"true\"></span>\n *         <span class=\"sr-only\" data-i18n-key=\"places.input.search\"></span>\n *       </div>\n *     </place-list>\n *   </div>\n *   <div class=\"col-xs-8\">\n *   <!-- Map area -->\n *     <g-map places=\"$ctrl.loadPlaces\">\n *       {{ ::'places.message.loading' | i18n }}\n *     </g-map>\n *   </div>\n * </g-map-api>\n *\n * where\n * places {object[]} Array of map points to be placed on map\n * places.latitude {number} Latitude of one point\n * places.longitude {number} Longitude of one point\n * preferences {object} Preference object containing api key, zoom level, etc.\n * messages {object} Object with messages that will be shown in various states of the extension\n * messages.list {string} Message displayed while list is being loaded\n * and distnaces are being calculated\n * messages.error {string} Message displayed if error occured\n * messages.empty {string} Message displayed if there are no items to show\n */\nimport i18nKey from 'ui-bb-i18n-ng';\nimport uiBbMapsKey from 'ui-bb-maps-ng';\nimport uiBbLoadingIndicatorKey from 'ui-bb-loading-indicator-ng';\nimport uiBbSubstituteErrorKey from 'ui-bb-substitute-error-ng';\nimport ngAriaModuleKey from 'vendor-bb-angular-ng-aria';\n\nimport * as extHooks from './hooks';\n\nimport extHelpers from './helpers';\n\nexport const dependencyKeys = [\n  i18nKey,\n  uiBbMapsKey,\n  uiBbLoadingIndicatorKey,\n  uiBbSubstituteErrorKey,\n  ngAriaModuleKey,\n];\n\nexport const hooks = extHooks;\n\nexport const helpers = extHelpers;\n\nexport const events = {};\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bb-places-list-map-ng/scripts/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-i18n-ng\"\n// module id = 2\n// module chunks = 0 1 2 6","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-maps-ng\"\n// module id = 3\n// module chunks = 0 1 2","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-loading-indicator-ng\"\n// module id = 4\n// module chunks = 0 1","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-substitute-error-ng\"\n// module id = 5\n// module chunks = 0 1 2","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor-bb-angular-ng-aria\"\n// module id = 6\n// module chunks = 0 1 2","/* eslint-disable import/prefer-default-export */\n/* global window, google, angular */\nimport helpers from './helpers';\n\n/**\n * @name Hooks#processPlaces\n * @type {function}\n *\n * @description\n * Hook for processing places list\n * Assigned to [$ctrl.loadPlaces]\n *\n * @param {Place[]} places Array of places\n * @returns {Place[]} Processed array of places\n */\nexport const processPlaces = places => {\n  const assetsPath = helpers.getExtensionAssetsPath();\n  return (places || []).map((place) => {\n    Object.assign(place, {\n      icon: `${assetsPath}/images/atm-marker.png`,\n    });\n    return place;\n  });\n};\n\n/**\n * @name Hooks#onContainerToggle\n * @type {function}\n *\n * @description\n * Hook that is being triggered in case when parent container\n * that has the ability to show/hide part of it's content (tabs, deck, carousel)\n * toggles the child element\n * Assigned to [$ctrl.$onInit]\n *\n * @param {object} activatedElement Child element that became visible\n * @returns {void}\n */\nexport const onContainerToggle = activatedElement => {\n  const mapElements = angular.element(activatedElement).find('.places-map');\n  if (mapElements.length === 0) {\n    return;\n  }\n\n  google.maps.event.trigger(mapElements.data('map'), 'resize');\n};\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bb-places-list-map-ng/scripts/hooks.js","/* globals window */\n\nimport {\n  DEFAULT_CONTEXT_ROOT,\n  EXTENSION_NAME,\n} from './constants';\n\nconst helpers = {\n  /**\n   * @description\n   * Get extension assets' directory path\n   *\n   * @returns {string}\n   */\n  getExtensionAssetsPath: () => {\n    const configuredContextRoot = window.BB && window.BB.config && window.BB.config.contextRoot;\n    const v6ContextRoot = () => {\n      const cxpFeature = window.portalClient &&\n        window.portalClient.getFeature &&\n        window.portalClient.getFeature('cxp');\n      return cxpFeature && cxpFeature.config.get('contextRoot');\n    };\n\n    const v5ContextRoot = () => (window.b$ &&\n      window.b$.portal &&\n      window.b$.portal.config.resourceRoot\n    );\n\n    const contextRoot = configuredContextRoot ||\n      v6ContextRoot() ||\n      v5ContextRoot() ||\n      DEFAULT_CONTEXT_ROOT;\n    return `${contextRoot}/static/features/%5BBBHOST%5D/${EXTENSION_NAME}/assets`;\n  },\n};\n\nexport default helpers;\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bb-places-list-map-ng/scripts/helpers.js","/**\n * Default context root\n * @type {string}\n */\nexport const DEFAULT_CONTEXT_ROOT = '/portalserver';\n\n/**\n * Default extension name\n * @type {string}\n */\nexport const EXTENSION_NAME = 'ext-bb-places-list-map-ng';\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bb-places-list-map-ng/scripts/constants.js"],"sourceRoot":""}