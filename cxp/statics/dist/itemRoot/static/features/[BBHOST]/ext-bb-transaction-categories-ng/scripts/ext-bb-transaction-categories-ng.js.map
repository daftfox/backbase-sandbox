{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 661d8b4c9ef6c2bf3c28","webpack:///./ext-bb-transaction-categories-ng/model.xml","webpack:///./ext-bb-transaction-categories-ng/scripts/index.js","webpack:///external \"vendor-bb-angular-ng-aria\"","webpack:///external \"ui-bb-loading-indicator-ng\"","webpack:///external \"ui-bb-modal-ng\"","webpack:///external \"ui-bb-format-amount-ng\"","webpack:///external \"ui-bb-i18n-ng\"","webpack:///./ext-bb-transaction-categories-ng/scripts/helpers.js","webpack:///./ext-bb-transaction-categories-ng/scripts/debit-credit-sign.js","webpack:///./ext-bb-transaction-categories-ng/scripts/constants.js","webpack:///./ext-bb-transaction-categories-ng/scripts/hooks.js"],"names":["extHooks","dependencyKeys","ngAriaModuleKey","uiBbLoadingIndicatorKey","uiBbModalKey","uiBbFormatAmountKey","i18nKey","hooks","helpers","extHelpers","events","modal","$ctrl","getCategoryIconClass","transactionCategory","CATEGORY_CLASS_PREFIX","toLowerCase","replace","DEFAULT_ICON_CLASS","getSignedAmount","transaction","amount","creditDebitIndicator","negativeSignKey","getModalData","initModal","ctrl","isModalOpen","Object","assign","items","selectedTransaction","newCategory","category","cancel","submit","data","transactionId","id","arrangementId","categoryName","intentResolve","onClose","positiveSignKey","creditDebitKeysToSign","debitCreditSign","UNCATEGORIZED_ICON_CLASS","addChildWithParentName","subCategories","length","afterCategoriesLoad","categories","map"],"mappings":"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","file":"ext-bb-transaction-categories-ng/scripts/ext-bb-transaction-categories-ng.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vendor-bb-angular-ng-aria\"), require(\"ui-bb-loading-indicator-ng\"), require(\"ui-bb-modal-ng\"), require(\"ui-bb-format-amount-ng\"), require(\"ui-bb-i18n-ng\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ext-bb-transaction-categories-ng\", [\"vendor-bb-angular-ng-aria\", \"ui-bb-loading-indicator-ng\", \"ui-bb-modal-ng\", \"ui-bb-format-amount-ng\", \"ui-bb-i18n-ng\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ext-bb-transaction-categories-ng\"] = factory(require(\"vendor-bb-angular-ng-aria\"), require(\"ui-bb-loading-indicator-ng\"), require(\"ui-bb-modal-ng\"), require(\"ui-bb-format-amount-ng\"), require(\"ui-bb-i18n-ng\"));\n\telse\n\t\troot[\"ext-bb-transaction-categories-ng\"] = factory(root[\"vendor-bb-angular-ng-aria\"], root[\"ui-bb-loading-indicator-ng\"], root[\"ui-bb-modal-ng\"], root[\"ui-bb-format-amount-ng\"], root[\"ui-bb-i18n-ng\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_6__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 661d8b4c9ef6c2bf3c28","module.exports = require(\"./scripts/index.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ext-bb-transaction-categories-ng/model.xml\n// module id = 0\n// module chunks = 0","/**\n * @module ext-bb-transaction-categories-ng\n *\n * @description\n * Default extension for widget-bb-transaction-categories-ng\n *\n * @requires vendor-bb-angular-ng-aria\n */\nimport ngAriaModuleKey from 'vendor-bb-angular-ng-aria';\nimport uiBbLoadingIndicatorKey from 'ui-bb-loading-indicator-ng';\nimport uiBbModalKey from 'ui-bb-modal-ng';\nimport uiBbFormatAmountKey from 'ui-bb-format-amount-ng';\nimport i18nKey from 'ui-bb-i18n-ng';\n\nimport extHelpers from './helpers';\nimport * as extHooks from './hooks';\n\nexport const dependencyKeys = [\n  ngAriaModuleKey,\n  uiBbLoadingIndicatorKey,\n  uiBbModalKey,\n  uiBbFormatAmountKey,\n  i18nKey,\n];\n\nexport const hooks = extHooks;\n\nexport const helpers = extHelpers;\n\nexport const events = {};\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bb-transaction-categories-ng/scripts/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor-bb-angular-ng-aria\"\n// module id = 2\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-loading-indicator-ng\"\n// module id = 3\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-modal-ng\"\n// module id = 4\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-format-amount-ng\"\n// module id = 5\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-i18n-ng\"\n// module id = 6\n// module chunks = 0","import { negativeSignKey } from './debit-credit-sign';\n\nimport CATEGORY_CLASS_PREFIX, {\n  UNCATEGORIZED_ICON_CLASS as DEFAULT_ICON_CLASS,\n} from './constants';\n\n/**\n * @description\n * Contains default modal config (if any) used to init the modal window\n *\n * @name modal\n * @type {object}\n */\nconst modal = {};\n\nlet $ctrl;\n\n/**\n * @name getCategoryIconClass\n * @description\n * Converts transaction category name into category CSS icon class\n *\n * @type {function}\n * @param {string} transactionCategory Transaction category\n * @returns {string}\n */\nconst getCategoryIconClass = (transactionCategory) =>\n  `${CATEGORY_CLASS_PREFIX}${transactionCategory.toLowerCase()\n    .replace(/\\W/g, '-').replace(/-{2,}/g, '-') || DEFAULT_ICON_CLASS}`;\n\n\n/**\n * @name getSignedAmount\n *\n * @description\n * Based on credit/debit indicator, put right sign on the transaction amount\n *\n * @type {function}\n * @param {object} transaction Transaction object\n * @returns {number} Signed amount\n */\nconst getSignedAmount = (transaction) => {\n  let amount;\n  if (transaction) {\n    amount = transaction.amount * (transaction.creditDebitIndicator === negativeSignKey ? -1 : 1);\n  }\n\n  return amount;\n};\n\n/**\n * @name getModalData\n *\n * @description\n * Get modal widget data\n *\n * @type {function}\n * @returns {object}\n */\nconst getModalData = () => modal;\n\n/**\n * @name initModal\n *\n * @description\n * Get modal widget data\n *\n * @param {object} ctrl\n * @type {function}\n * @returns {void}\n */\nconst initModal = (ctrl) => {\n  $ctrl = ctrl;\n  $ctrl.isModalOpen = true;\n  Object.assign(modal, {\n    items: $ctrl.items,\n    transaction: $ctrl.selectedTransaction,\n    newCategory: $ctrl.selectedTransaction.category,\n  });\n};\n\n/**\n * @name cancel\n *\n * @description\n * Cancel / close the modal window\n *\n * @type {function}\n * @returns {void}\n */\nconst cancel = () => {\n  $ctrl.isModalOpen = false;\n};\n\n/**\n * @name submit\n *\n * @description\n * Submit a category object to update transactions' category\n *\n * @type {function}\n * @returns {void}\n */\nconst submit = () => {\n  const data = {\n    transactionId: modal.transaction.id,\n    arrangementId: modal.transaction.arrangementId,\n    categoryName: modal.newCategory,\n  };\n\n  $ctrl.intentResolve(data);\n  cancel();\n};\n\n/**\n * @name onClose\n *\n * @description\n * Handler to call cancel()\n *\n * @type {function}\n * @returns {void}\n */\nconst onClose = () => cancel();\n\nexport default () => ({\n  getCategoryIconClass,\n  initModal,\n  onClose,\n  submit,\n  cancel,\n  getModalData,\n  getSignedAmount,\n});\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bb-transaction-categories-ng/scripts/helpers.js","/**\n * @description\n * Credit transaction type\n *\n * @name positiveSignKey\n * @type {string}\n */\nexport const positiveSignKey = 'CRDT';\n\n/**\n * @description\n * Debit transaction type\n *\n * @name positiveSignKey\n * @type {string}\n */\nexport const negativeSignKey = 'DBIT';\n\nconst creditDebitKeysToSign = {};\ncreditDebitKeysToSign[positiveSignKey] = '+';\ncreditDebitKeysToSign[negativeSignKey] = '-';\n\n/**\n * @description\n * Adds debitCreditSign property to transaction object based on debitCreditIndicator key\n *\n * @param {Object} transaction Transaction object\n * @returns {Object} new copy of Transaction object\n */\nexport default (transaction) =>\n  Object.assign({\n    debitCreditSign: creditDebitKeysToSign[transaction.creditDebitIndicator],\n  }, transaction);\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bb-transaction-categories-ng/scripts/debit-credit-sign.js","/**\n * @description\n * Category icon CSS class prefix\n *\n * @name CATEGORY_CLASS_PREFIX\n * @type {string}\n */\nconst CATEGORY_CLASS_PREFIX = 'bb-transaction-category-';\n\nexport default CATEGORY_CLASS_PREFIX;\n\n/**\n * @description\n * Uncategorized CSS icon class\n *\n * @name UNCATEGORIZED_ICON_CLASS\n * @type {string}\n */\nexport const UNCATEGORIZED_ICON_CLASS = 'uncategorized';\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bb-transaction-categories-ng/scripts/constants.js","/* eslint-disable import/prefer-default-export */\n\nconst addChildWithParentName = (category) => (\n  (category.subCategories && category.subCategories.length !== 0) ? category : {\n    ...category,\n    subCategories: [{ ...category }],\n  }\n);\n\n/**\n* @name afterCategoriesLoad\n* @type {function}\n* @description\n* A hook to add fake child with the same properties of parent if parent\n* does not have children\n*\n* @param {array} categories\n* @returns {array}\n*/\nexport const afterCategoriesLoad = (categories) => categories.map(addChildWithParentName);\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bb-transaction-categories-ng/scripts/hooks.js"],"sourceRoot":""}