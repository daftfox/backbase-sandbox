{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6**********************************","webpack:///webpack/bootstrap 16ce69979da567ada154?cec8**********************************","webpack:///./ui-bb-select-items-modal-ng/model.xml","webpack:///external \"vendor-bb-angular\"?a114**********************************","webpack:///external \"ui-bb-search-box-ng\"?ad90*","webpack:///external \"ui-bb-list-ng\"?ee09*","webpack:///external \"ui-bb-modal-ng\"?53b9","webpack:///./ui-bb-select-items-modal-ng/scripts/index.js","webpack:///external \"ui-bb-empty-state-ng\"","webpack:///external \"ui-bb-loading-overlay-ng\"","webpack:///./ui-bb-select-items-modal-ng/scripts/component.js","webpack:///./ui-bb-select-items-modal-ng/scripts/controller.js"],"names":["angular","module","uiBbModalKey","uiBbSearchBoxKey","uiBbEmptyStateKey","uiBbLoadingOverlayKey","uiBbListKey","component","controller","name","bindings","isOpen","labels","columns","items","isLoading","isSearchEnabled","preventLoadMore","itemIdSelector","onSubmit","onSearch","onLoadMore","template","uiBbSelectItemsModalController","$timeout","$ctrl","state","selectedItems","searchQuery","searchApplied","mainLoading","loadMoreLoading","resetState","close","submit","Object","keys","getItemId","item","id","areAllItemsSelected","every","toggleSelectAll","forEach","toggleItemCheckbox","itemId","isSelectedAllCheckboxIndeterminate","numberOfSelected","filter","length","clearSearch","query","submitSearch","search","getSelectedItemsCount","onEndReached","assign"],"mappings":"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","file":"ui-bb-select-items-modal-ng/scripts/ui-bb-select-items-modal-ng.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vendor-bb-angular\"), require(\"ui-bb-search-box-ng\"), require(\"ui-bb-list-ng\"), require(\"ui-bb-modal-ng\"), require(\"ui-bb-empty-state-ng\"), require(\"ui-bb-loading-overlay-ng\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ui-bb-select-items-modal-ng\", [\"vendor-bb-angular\", \"ui-bb-search-box-ng\", \"ui-bb-list-ng\", \"ui-bb-modal-ng\", \"ui-bb-empty-state-ng\", \"ui-bb-loading-overlay-ng\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ui-bb-select-items-modal-ng\"] = factory(require(\"vendor-bb-angular\"), require(\"ui-bb-search-box-ng\"), require(\"ui-bb-list-ng\"), require(\"ui-bb-modal-ng\"), require(\"ui-bb-empty-state-ng\"), require(\"ui-bb-loading-overlay-ng\"));\n\telse\n\t\troot[\"ui-bb-select-items-modal-ng\"] = factory(root[\"vendor-bb-angular\"], root[\"ui-bb-search-box-ng\"], root[\"ui-bb-list-ng\"], root[\"ui-bb-modal-ng\"], root[\"ui-bb-empty-state-ng\"], root[\"ui-bb-loading-overlay-ng\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_9__, __WEBPACK_EXTERNAL_MODULE_43__, __WEBPACK_EXTERNAL_MODULE_129__, __WEBPACK_EXTERNAL_MODULE_130__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 16ce69979da567ada154","module.exports = require(\"./scripts/index.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ui-bb-select-items-modal-ng/model.xml\n// module id = 0\n// module chunks = 35","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor-bb-angular\"\n// module id = 2\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41","module.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-search-box-ng\"\n// module id = 8\n// module chunks = 1 2 35","module.exports = __WEBPACK_EXTERNAL_MODULE_9__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-list-ng\"\n// module id = 9\n// module chunks = 1 2 35","module.exports = __WEBPACK_EXTERNAL_MODULE_43__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-modal-ng\"\n// module id = 43\n// module chunks = 9 35","/**\n * @module ui-bb-select-items-modal-ng\n * @description\n * This component is a modal window that shows list of items\n * and upon selection it invokes a callback that is provided to\n * it with the selected items.\n * The modal window has a checkbox that can select all provided\n * items, search, and Cancel and Add buttons.\n * The listing of the items is provided by the extension\n *\n * @example\n * // in the extension\n * import uiBbSelectItemsModalNg from 'ui-bb-select-items-modal-ng';\n *\n * export const dependencyKeys = [\n *   uiBbSelectItemsModalNg,\n * ];\n *\n * // in template file\n * <button data-on-click=\"isSelectItemsModalOpen = true\"></button>\n *\n * <ui-bb-select-items-modal-ng\n *   data-is-open=\"isSelectItemsModalOpen\"\n *   data-on-submit=\"$ctrl.submit(items)\"\n *   data-item-id-selector=\"$ctrl.itemIdSelector(item)\"\n *   data-is-loading=\"false\"\n *   data-is-search-enabled=\"true\"\n *   data-on-search=\"$ctrl.search(query)\"\n *   data-on-load-more=\"$ctrl.loadMore()\"\n *   data-prevent-load-more=\"false\"\n *   data-labels=\"{\n *     cancel: 'Cancel',\n *     addItemsBaseTitle: 'Select',\n *     header: {\n *       title: 'Select items',\n *     },\n *     search: {\n *       title: ('Search' | i18n),\n *       placeholder: ('Search' | i18n),\n *       clear: ('Clear text' | i18n),\n *     },\n *     emptyState: {\n *       title: ('emptyState.title' | i18n),\n *       subtitle: ('emptyState.subtitle' | i18n),\n *     },\n *     searchEmptyState: {\n *       title: ('searchEmptyState.title' | i18n),\n *       subtitle: ('searchEmptyState.subtitle' | i18n),\n *     }\n *   }\"\n *   data-items=\"[1, 2, 3]\"\n *   data-columns=\"[\n *     { label: ('column.label' | i18n), class: '', template: #ext-bb/items-list.ng.html' },\n *   ]\">\n * </ui-bb-select-items-modal-ng>\n */\nimport angular from 'vendor-bb-angular';\n\nimport uiBbModalKey from 'ui-bb-modal-ng';\nimport uiBbSearchBoxKey from 'ui-bb-search-box-ng';\nimport uiBbEmptyStateKey from 'ui-bb-empty-state-ng';\nimport uiBbLoadingOverlayKey from 'ui-bb-loading-overlay-ng';\nimport uiBbListKey from 'ui-bb-list-ng';\n\nimport component from './component';\nimport controller from './controller';\n\nexport default angular\n  .module('ui-bb-select-items-modal-ng', [\n    uiBbModalKey,\n    uiBbSearchBoxKey,\n    uiBbEmptyStateKey,\n    uiBbLoadingOverlayKey,\n    uiBbListKey,\n  ])\n  .component('uiBbSelectItemsModalNg', component)\n  .controller('uiBbSelectItemsModalController', ['$timeout', controller])\n  .name;\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-select-items-modal-ng/scripts/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_129__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-empty-state-ng\"\n// module id = 129\n// module chunks = 35","module.exports = __WEBPACK_EXTERNAL_MODULE_130__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-loading-overlay-ng\"\n// module id = 130\n// module chunks = 35","/**\n * @name uiBbSelectItemsModalComponent\n * @type {object}\n * @description\n * Component that allows selecting items in a modal\n *\n * @property {boolean} isOpen - Modal open state\n * @property {Labels} labels - Labels\n * @property {Column[]} columns - Column definitions\n * @property {object[]} items - List of items\n * @property {boolean} isLoading - Loading flag\n * @property {boolean} isSearchEnabled - Search enabled flag\n * @property {boolean} preventLoadMore - Prevents calling `onLoadMore`\n *           (usually when there are no more items)\n * @property {function} itemIdSelector - Callback function used to get the items id\n * @property {function} onSubmit - Callback function to invoke when finished selecting items\n * @property {function} onSearch - Callback function to invoke when search query is changed\n * @property {function} onLoadMore - Callback function to invoke when end of list is reached\n */\nconst component = {\n  controller: 'uiBbSelectItemsModalController',\n  bindings: {\n    isOpen: '=',\n    labels: '<',\n    columns: '<',\n    items: '<',\n    isLoading: '<',\n    isSearchEnabled: '<',\n    preventLoadMore: '<',\n    itemIdSelector: '&',\n    onSubmit: '&',\n    onSearch: '&',\n    onLoadMore: '&',\n  },\n  template: `\n    <ui-bb-modal-ng\n      data-is-open=\"$ctrl.isOpen\"\n      data-on-close=\"$ctrl.close()\"\n      data-animation=\"false\"\n      data-size=\"'lg'\"\n      data-backdrop=\"'static'\"\n      data-keyboard=\"true\">\n\n      <!--Modal Header-->\n      <div class=\"modal-header d-flex justify-content-between align-items-center\">\n        <h5 class=\"modal-title\" data-ng-bind=\"$ctrl.labels.header.title\"></h5>\n        <ui-bb-search-box-ng\n          data-ng-if=\"$ctrl.isSearchEnabled\"\n          data-config=\"{ labels: $ctrl.labels.search }\"\n          data-is-loading=\"$ctrl.isLoading && $ctrl.state.mainLoading\"\n          data-ng-model=\"$ctrl.state.searchQuery\"\n          data-on-clear=\"$ctrl.clearSearch()\"\n          data-on-submit=\"$ctrl.submitSearch(search)\"\n          data-forced-submit=\"true\"\n        >\n        </ui-bb-search-box-ng>\n      </div>\n\n      <ui-bb-loading-overlay-ng data-is-loading=\"$ctrl.isLoading && $ctrl.state.mainLoading\">\n\n        <ui-bb-empty-state-ng\n          data-icon-classes=\"fa fa-4x {{ $ctrl.state.searchApplied ? 'fa-search' : 'fa-file-alt' }}\"\n          data-title=\"{{ $ctrl.state.searchApplied ?\n            $ctrl.labels.searchEmptyState.title : $ctrl.labels.emptyState.title }}\"\n          data-subtitle=\"{{ $ctrl.state.searchApplied ?\n            $ctrl.labels.searchEmptyState.subtitle : $ctrl.labels.emptyState.subtitle }}\"\n          data-is-empty=\"$ctrl.items.length === 0\"\n        >\n\n          <div class=\"modal-body py-0\">\n            <!--Modal Body-->\n            <div class=\"bb-card bb-card-header pb-0 pt-3 px-3 d-flex\">\n              <div class=\"bb-card-checkbox d-flex align-items-center mr-3\">\n                <input type=\"checkbox\"\n                  data-role=\"ui-bb-select-items-modal-select-all-checkbox\"\n                  data-ng-checked=\"$ctrl.areAllItemsSelected()\"\n                  data-ng-click=\"$ctrl.toggleSelectAll()\"\n                  data-ng-if=\"!$ctrl.isSelectedAllCheckboxIndeterminate()\"/>\n                <span\n                  data-role=\"ui-bb-select-items-modal-indeterminate-checkbox\"\n                  class=\"checkbox-indeterminate far fa-minus-square\"\n                  data-ng-click=\"$ctrl.toggleSelectAll()\"\n                  data-ng-if=\"$ctrl.isSelectedAllCheckboxIndeterminate()\"></span>\n              </div>\n              <h6 data-ng-repeat=\"column in $ctrl.columns\"\n                class=\"bb-card-content m-0\"\n                data-ng-class=\"[column.class, {'mr-auto': $index == 0}, {'ml-1': $last}]\"\n                data-ng-bind=\"column.label\">\n              </h6>\n            </div>\n          </div>\n          <ui-bb-list-ng class=\"list-group modal-body-scrollable\"\n            data-on-scroll-to-end=\"$ctrl.onEndReached()\">\n            <div class=\"modal-body pt-0\">\n              <div class=\"d-flex align-items-stretch justify-content-start rounded border\n                bb-card bb-card-hoverable mt-3 p-3 w-100\"\n                data-ng-repeat=\"item in $ctrl.items track by $ctrl.getItemId(item)\"\n                data-ng-click=\"$ctrl.toggleItemCheckbox(item)\"\n                data-ng-class=\"{'selected': $ctrl.state.selectedItems[$ctrl.getItemId(item)]}\"\n                >\n                <div class=\"bb-card-checkbox d-flex align-items-center mr-3\">\n                  <input type=\"checkbox\"\n                    tabindex=\"-1\"\n                    data-ng-checked=\"$ctrl.state.selectedItems[$ctrl.getItemId(item)]\">\n                </div>\n                <div data-ng-repeat=\"column in $ctrl.columns track by $index\"\n                  class=\"bb-card-content\"\n                  data-ng-class=\"[column.class, {'mr-auto': $index == 0}, {'ml-1': $last}]\">\n                  <div class=\"text-overflow ml-0\"\n                    data-ng-include=\"column.template\">\n                  </div>\n                </div>\n              </div>\n              <div class=\"d-flex justify-content-center m-3\"\n                data-ng-if=\"$ctrl.isLoading && $ctrl.state.loadMoreLoading\">\n                <i class=\"fas fa-spinner fa-spin fa-2x text-muted\"></i>\n              </div>\n            </div>\n          </ui-bb-list-ng>\n        </ui-bb-empty-state-ng>\n      </ui-bb-loading-overlay-ng>\n      <!--Modal Footer-->\n      <div class=\"modal-footer\">\n        <button class=\"btn btn-secondary select-items-btn-cancel\"\n          type=\"button\"\n          title=\"{{ $ctrl.labels.cancel }}\"\n          data-ng-click=\"$ctrl.close()\"\n          data-ng-bind=\"$ctrl.labels.cancel\">\n        </button>\n        <button class=\"btn btn-primary select-items-btn-select\"\n          type=\"button\"\n          title=\"{{ $ctrl.labels.addItems }}\"\n          data-ng-click=\"$ctrl.submit()\"\n          data-ng-disabled=\"$ctrl.getSelectedItemsCount() === 0\">\n          {{ $ctrl.labels.addItemsBaseTitle }}\n          <span data-ng-if=\"$ctrl.getSelectedItemsCount() > 0\">\n            ({{ $ctrl.getSelectedItemsCount() }})\n          </span>\n        </button>\n      </div>\n    </ui-bb-modal-ng>\n  `,\n};\n\nexport default component;\n\n/**\n * @name Labels\n * @type {object}\n * @description\n * Labels for the component\n *\n * @property {string} cancel - Cancel text\n * @property {string} addItems - Add items tooltip\n * @property {string} addItemsBaseTitle - Add items button text\n * @property {object} header - Header related labels\n * @property {string} header.title - Header title\n * @property {object} search - Search related labels\n * @property {string} search.title - Accessibility label for component\n * @property {string} search.placeholder - Placeholder label for the search input\n * @property {string} search.clear - Accesibility label for clear button\n * @property {object} emptyState - Empty state related labels\n * @property {string} emptyState.title - Title for empty state\n * @property {string} emptyState.subtitle - Subtitle for empty state\n * @property {object} searchEmptyState - Empty state related labels when searching\n * @property {string} searchEmptyState.title - Title for empty state when searching\n * @property {string} searchEmptyState.subtitle - Subtitle for empty state when searching\n */\n\n/**\n * @name Column\n * @type {object}\n * @description\n * Column definition\n *\n * @property {string} label - Label for the column\n * @property {string} class - Class to add to the column items\n * @property {string} template - Angular template\n */\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-select-items-modal-ng/scripts/component.js","/**\n * @name uiBbSelectItemsModalController\n * @type {function}\n */\nexport default function uiBbSelectItemsModalController($timeout) {\n  const $ctrl = this;\n\n  /**\n   * @name state\n   * @description\n   * State object of the controller\n   * @type {Object}\n   */\n  const state = {\n    selectedItems: {},\n    searchQuery: '',\n    searchApplied: false,\n    mainLoading: true,\n    loadMoreLoading: false,\n  };\n\n  /**\n   * @name resetState\n   * @description\n   * Resets controller state\n   * @type {function}\n   * @inner\n   */\n  const resetState = () => {\n    $ctrl.state.selectedItems = {};\n    $ctrl.state.searchQuery = '';\n    $ctrl.state.searchApplied = false;\n  };\n\n  /**\n   * @name close\n   * @description\n   * Closes select items modal dialog and resets state\n   * @type {function}\n   */\n  const close = () => {\n    $ctrl.isOpen = false;\n    resetState();\n  };\n\n  /**\n   * @name submit\n   * @description\n   * Submits selected items and closes dialog\n   * @type {function}\n   */\n  const submit = () => {\n    if ($ctrl.onSubmit) {\n      const selectedItems = Object.keys($ctrl.state.selectedItems);\n      $ctrl.onSubmit({ items: selectedItems });\n    }\n    $ctrl.close();\n  };\n\n  /**\n   * @name getItemId\n   * @description\n   * Returns the id used for the item, if itemIdSelector is not\n   * defined it uses 'id' as default value.\n   * @type {function}\n   * @param {Object} item\n   * @returns {string} items id\n   */\n  const getItemId = (item) =>\n    ($ctrl.itemIdSelector ? $ctrl.itemIdSelector({ item }) : item.id);\n\n  /**\n   * @name uiBbSelectItemsModalController#areAllItemsSelected\n   * @description\n   * Checks if all items are selected\n   * @type {function}\n   * @returns {boolean}\n   */\n  const areAllItemsSelected = () =>\n    $ctrl.items.every(item => $ctrl.state.selectedItems[$ctrl.getItemId(item)]);\n\n  /**\n   * @name toggleSelectAll\n   * @description\n   * Toggles selected all state\n   * @type {function}\n   */\n  const toggleSelectAll = () => {\n    if (areAllItemsSelected()) {\n      $ctrl.items.forEach(item => {\n        delete $ctrl.state.selectedItems[$ctrl.getItemId(item)];\n      });\n    } else {\n      $ctrl.items.forEach(item => {\n        $ctrl.state.selectedItems[$ctrl.getItemId(item)] = item;\n      });\n    }\n  };\n\n  /**\n   * @name uiBbSelectItemsModalController#toggleItemCheckbox\n   * @description\n   * Click listener for the items checkbox\n   * @type {function}\n   * @param {Object}  Item that was toggled\n   */\n  const toggleItemCheckbox = (item) => {\n    const itemId = $ctrl.getItemId(item);\n    if ($ctrl.state.selectedItems[itemId]) {\n      delete $ctrl.state.selectedItems[itemId];\n    } else {\n      $ctrl.state.selectedItems[itemId] = item;\n    }\n  };\n\n  /**\n   * @name uiBbSelectItemsModalController#isSelectedAllCheckboxIndeterminate\n   * @description\n   * Checks if all items are selected or none is selected\n   * @type {function}\n   * @returns {boolean}\n   */\n  const isSelectedAllCheckboxIndeterminate = () => {\n    const numberOfSelected = $ctrl.items\n      .filter(item => $ctrl.state.selectedItems[$ctrl.getItemId(item)]).length;\n\n    return numberOfSelected > 0 && numberOfSelected < $ctrl.items.length;\n  };\n\n  /**\n   * @name uiBbSelectItemsModalController#clearSearch\n   * @description\n   * Clears the search\n   * @type {function}\n   */\n  const clearSearch = () => {\n    $ctrl.state.searchQuery = '';\n    $ctrl.state.searchApplied = false;\n    $ctrl.state.mainLoading = true;\n    $ctrl.state.loadMoreLoading = false;\n    if ($ctrl.onSearch) {\n      $ctrl.onSearch({ query: '' });\n    }\n  };\n\n  /**\n   * @name uiBbSelectItemsModalController#submitSearch\n   * @description\n   * Calls the `onSearch` callback with the search query\n   * @type {function}\n   */\n  const submitSearch = (search) => {\n    $ctrl.state.searchApplied = true;\n    $ctrl.state.mainLoading = true;\n    $ctrl.state.loadMoreLoading = false;\n    if ($ctrl.onSearch) {\n      $ctrl.onSearch({ query: search });\n    }\n  };\n\n  /**\n   * @name uiBbSelectItemsModalController#getSelectedItemsCount\n   * @description\n   * Returns the number of selected items\n   * @type {function}\n   * @returns {Number} number of selected items\n   */\n  const getSelectedItemsCount = () => Object.keys($ctrl.state.selectedItems).length;\n\n  /**\n   * @name uiBbSelectItemsModalController#onEndReached\n   * @description\n   * Calls the `onLoadMore` callback if there are more items and isLoading is false\n   * @type {function}\n   */\n  const onEndReached = () => {\n    if (!$ctrl.preventLoadMore && !$ctrl.isLoading) {\n      $ctrl.state.mainLoading = false;\n      $ctrl.state.loadMoreLoading = true;\n      $timeout(() => {\n        $ctrl.onLoadMore();\n      });\n    }\n  };\n\n  Object.assign($ctrl, {\n    state,\n    close,\n    submit,\n    getItemId,\n    toggleSelectAll,\n    toggleItemCheckbox,\n    isSelectedAllCheckboxIndeterminate,\n    clearSearch,\n    submitSearch,\n    areAllItemsSelected,\n    getSelectedItemsCount,\n    onEndReached,\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-select-items-modal-ng/scripts/controller.js"],"sourceRoot":""}