{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6************************","webpack:///webpack/bootstrap 59b29c6361f41ebec32c?d678************************","webpack:///./ui-bus-beneficiary-select-modal-ng/model.xml","webpack:///external \"vendor-bb-angular\"?a114***************","webpack:///external \"lib-bb-iban\"?bb02****","webpack:///./ui-bus-beneficiary-select-modal-ng/scripts/index.js","webpack:///external \"ui-bb-list-ng\"","webpack:///./ui-bus-beneficiary-select-modal-ng/scripts/component.js","webpack:///./ui-bus-beneficiary-select-modal-ng/templates/main.html","webpack:///./ui-bus-beneficiary-select-modal-ng/scripts/controller.js","webpack:///./ui-bus-beneficiary-select-modal-ng/scripts/constants.js","webpack:///./ui-bus-beneficiary-select-modal-ng/scripts/state.js"],"names":["angular","module","uiBbListKey","component","controller","filter","input","query","replace","RegExp","name","bindings","isOpen","contacts","accounts","config","onSelect","loadMore","template","require","$scope","$timeout","$ctrl","signature","pageSize","selectTab","state","setActiveTab","tab","formattedIdentifier","identifier","IBAN","formatIban","iban","getItemContact","contact","direct","account","getItemAccount","getProcessedContacts","result","forEach","length","push","firstLetterList","list","reduce","acc","val","index","letter","toUpperCase","accumulator","undefined","doneLoadMoreAccounts","hasMore","hasMoreItems","setSpinner","Tabs","ACCOUNTS","flag","setLoadMore","setIncrementedPage","params","setTotalCounter","totalCount","doneLoadMoreContacts","CONTACTS","data","loadMoreAccounts","overwrite","stopLoadingMore","type","done","request","loadMoreContacts","loadMoreAccountsWithDigest","$digest","loadMoreContactsWithDigest","onSearchClearAccounts","setRequestParams","from","onSearchClearContacts","onSearchAccounts","limit","onSearchContacts","$onInit","getInitialState","parseInt","size","Object","assign","activeTab","loading","orderBy","direction","payload"],"mappings":"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","file":"ui-bus-beneficiary-select-modal-ng/scripts/ui-bus-beneficiary-select-modal-ng.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vendor-bb-angular\"), require(\"lib-bb-iban\"), require(\"ui-bb-list-ng\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ui-bus-beneficiary-select-modal-ng\", [\"vendor-bb-angular\", \"lib-bb-iban\", \"ui-bb-list-ng\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ui-bus-beneficiary-select-modal-ng\"] = factory(require(\"vendor-bb-angular\"), require(\"lib-bb-iban\"), require(\"ui-bb-list-ng\"));\n\telse\n\t\troot[\"ui-bus-beneficiary-select-modal-ng\"] = factory(root[\"vendor-bb-angular\"], root[\"lib-bb-iban\"], root[\"ui-bb-list-ng\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_18__, __WEBPACK_EXTERNAL_MODULE_93__, __WEBPACK_EXTERNAL_MODULE_184__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 59b29c6361f41ebec32c","module.exports = require(\"./scripts/index.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ui-bus-beneficiary-select-modal-ng/model.xml\n// module id = 0\n// module chunks = 25","module.exports = __WEBPACK_EXTERNAL_MODULE_18__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor-bb-angular\"\n// module id = 18\n// module chunks = 0 8 9 10 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33","module.exports = __WEBPACK_EXTERNAL_MODULE_93__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lib-bb-iban\"\n// module id = 93\n// module chunks = 9 10 13 14 19 25","import angular from 'vendor-bb-angular';\nimport uiBbListKey from 'ui-bb-list-ng';\n\nimport component from './component';\nimport controller from './controller';\n\nexport default angular\n  .module('ui-bus-beneficiary-select-modal-ng', [uiBbListKey])\n  .component('uiBusBeneficiarySelectModalNg', component)\n  .controller('uiBusBeneficiarySelectModalNgController', ['$scope', '$timeout', controller])\n  .filter('searchFilter', () => (input, query) => {\n    if (input && query) {\n      return input.replace(RegExp(`(${query})`, 'gi'), '<b>$1</b>');\n    }\n    return input;\n  })\n  .name;\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bus-beneficiary-select-modal-ng/scripts/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_184__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-list-ng\"\n// module id = 184\n// module chunks = 25","const component = {\n  bindings: {\n    isOpen: '=',\n    contacts: '<',\n    accounts: '<',\n    config: '<',\n    onSelect: '&',\n    loadMore: '&',\n  },\n  controller: 'uiBusBeneficiarySelectModalNgController',\n  // eslint-disable-next-line global-require\n  template: require('../templates/main.html'),\n};\n\nexport default component;\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bus-beneficiary-select-modal-ng/scripts/component.js","module.exports = \"<ui-bb-modal-ng data-is-open=\\\"$ctrl.isOpen\\\">\\n  <div class=\\\"p-3\\\">\\n    <header class=\\\"d-flex justify-content-between\\\">\\n      <h5 data-role=\\\"heading\\\">{{:: $ctrl.config.labels.headerText }}</h5>\\n      <button type=\\\"button\\\" class=\\\"close\\\" data-ng-click=\\\"$ctrl.isOpen = false\\\">\\n        <i class=\\\"fa fa-times\\\"></i>\\n      </button>\\n    </header>\\n\\n    <!-- Tabs -->\\n    <ul class=\\\"nav nav-tabs\\\" role=\\\"tablist\\\">\\n      <li tabindex=\\\"1\\\" class=\\\"nav-item\\\"\\n          data-ng-click=\\\"$ctrl.selectTab($ctrl.Tabs.CONTACTS)\\\"\\n          data-ng-class=\\\"{active: $ctrl.state.activeTab === $ctrl.Tabs.CONTACTS}\\\">\\n        <a class=\\\"nav-link\\\" href=\\\"javascript:void(0)\\\" role=\\\"tab\\\">\\n          {{:: $ctrl.config.labels.contactsTab }} (<span data-ng-if=\\\"$ctrl.contacts.totalCount > 0 && $ctrl.contacts.totalCount !== $ctrl.state[$ctrl.Tabs.CONTACTS].totalCount\\\">{{ $ctrl.contacts.totalCount }} {{ $ctrl.config.labels.outOf }} </span>{{ $ctrl.state[$ctrl.Tabs.CONTACTS].totalCount }})</a>\\n      </li>\\n      <li tabindex=\\\"2\\\" class=\\\"nav-item\\\"\\n          data-ng-click=\\\"$ctrl.selectTab($ctrl.Tabs.ACCOUNTS)\\\"\\n          data-ng-class=\\\"{active: $ctrl.state.activeTab === $ctrl.Tabs.ACCOUNTS}\\\">\\n        <a class=\\\"nav-link\\\" href=\\\"javascript:void(0)\\\" role=\\\"tab\\\">\\n          {{:: $ctrl.config.labels.ownAccountsTab }} (<span data-ng-if=\\\"$ctrl.accounts.totalCount > 0 && $ctrl.accounts.totalCount !== $ctrl.state[$ctrl.Tabs.ACCOUNTS].totalCount\\\">{{ $ctrl.accounts.totalCount }} {{ $ctrl.config.labels.outOf }} </span>{{ $ctrl.state[$ctrl.Tabs.ACCOUNTS].totalCount }})</a>\\n      </li>\\n    </ul>\\n\\n    <!-- Tabs content -->\\n    <div data-ng-hide=\\\"$ctrl.state.activeTab !== $ctrl.Tabs.CONTACTS\\\">\\n      <div data-ng-include=\\\"'templates/beneficiary-select-modal/contacts.html'\\\"></div>\\n    </div>\\n    <div data-ng-hide=\\\"$ctrl.state.activeTab !== $ctrl.Tabs.ACCOUNTS\\\">\\n      <div data-ng-include=\\\"'templates/beneficiary-select-modal/accounts.html'\\\"></div>\\n    </div>\\n  </div>\\n</ui-bb-modal-ng>\\n\\n<!-- CONTACTS -->\\n<script type=\\\"text/ng-template\\\" id=\\\"templates/beneficiary-select-modal/contacts.html\\\">\\n  <div class=\\\"list-group pt-3\\\">\\n    <ui-bb-search-box-ng\\n      class=\\\"pb-3\\\"\\n      data-ng-model=\\\"$ctrl.state.contacts.params.query\\\"\\n      data-ng-model-options=\\\"{ debounce: 500 }\\\"\\n      data-config=\\\"{ labels: { placeholder: $ctrl.config.labels.placeholderContacts } }\\\"\\n      data-on-change=\\\"$ctrl.onSearchContacts(search)\\\"\\n      data-on-clear=\\\"$ctrl.onSearchClearContacts()\\\"\\n      data-is-loading=\\\"$ctrl.state.contacts.loading\\\"\\n      data-forced-submit=\\\"true\\\">\\n    </ui-bb-search-box-ng>\\n    <ui-bb-list-ng class=\\\"pre-scrollable\\\"\\n                   data-on-scrolled-to-bottom=\\\"$ctrl.loadMoreContactsWithDigest()\\\">\\n      <div class=\\\"list-group-item pb-2\\\"\\n           data-ng-repeat=\\\"contact in $ctrl.contacts.data track by $index\\\"\\n           data-ng-click=\\\"$ctrl.onSelect($ctrl.getItemContact(contact, $ctrl.config.direct)); $ctrl.isOpen = false;\\\">\\n        <div class=\\\"alert alert-secondary d-inline-block\\\"\\n             data-ng-if=\\\"$ctrl.signature[contact.name[0].toUpperCase()] === $index\\\"\\n             data-ng-bind-html=\\\"contact.name[0].toUpperCase() | searchFilter:$ctrl.state.contacts.params.query\\\">\\n        </div>\\n        <div><span data-ng-bind-html=\\\"contact.name | searchFilter:$ctrl.state.contacts.params.query\\\"></span> &mdash; <span data-ng-bind-html=\\\"contact.accounts[0].name | searchFilter:$ctrl.state.contacts.params.query\\\"></span></div>\\n        <div class=\\\"text-muted\\\" data-ng-bind-html=\\\"($ctrl.formatIban(contact.accounts[0].IBAN) || contact.accounts[0].accountNumber || contact.accounts[0].BBAN).toUpperCase() | searchFilter:$ctrl.state.contacts.params.query\\\"></div>\\n      </div>\\n    </ui-bb-list-ng>\\n    <div class=\\\"text-center\\\" data-ng-if=\\\"$ctrl.state.contacts.params.query && !$ctrl.contacts.data.length\\\">\\n      <!-- No search results -->\\n      <div class=\\\"p-5 text-muted\\\">{{:: $ctrl.config.labels.noSearchResults }}</div>\\n    </div>\\n    <div class=\\\"text-center text-muted mt-2\\\" data-ng-if=\\\"$ctrl.state.contacts.loading\\\"><i class=\\\"fa fa-spinner fa-spin\\\"></i></div>\\n  </div>\\n</script>\\n\\n<!-- ACCOUNTS -->\\n<script type=\\\"text/ng-template\\\" id=\\\"templates/beneficiary-select-modal/accounts.html\\\">\\n  <div class=\\\"list-group pt-3\\\">\\n    <ui-bb-search-box-ng\\n      class=\\\"pb-3\\\"\\n      data-ng-model=\\\"$ctrl.state.accounts.params.query\\\"\\n      data-ng-model-options=\\\"{ debounce: 500 }\\\"\\n      data-config=\\\"{ labels: { placeholder: $ctrl.config.labels.placeholderAccounts } }\\\"\\n      data-on-change=\\\"$ctrl.onSearchAccounts(search)\\\"\\n      data-on-clear=\\\"$ctrl.onSearchClearAccounts()\\\"\\n      data-is-loading=\\\"$ctrl.state.accounts.loading\\\"\\n      data-forced-submit=\\\"true\\\">\\n    </ui-bb-search-box-ng>\\n    <ui-bb-list-ng class=\\\"pre-scrollable\\\"\\n                   data-on-scrolled-to-bottom=\\\"$ctrl.loadMoreAccountsWithDigest()\\\">\\n      <div class=\\\"list-group-item d-flex align-items-center row mr-0 ml-0\\\"\\n           data-ng-repeat=\\\"account in $ctrl.accounts.data track by $index\\\"\\n           data-ng-click=\\\"$ctrl.onSelect($ctrl.getItemAccount(account)); $ctrl.isOpen = false;\\\">\\n        <div class=\\\"col-sm-8 p-0\\\">\\n          <div data-ng-bind-html=\\\"account.name | searchFilter:$ctrl.state.accounts.params.query\\\"></div>\\n          <div class=\\\"text-muted\\\" data-ng-bind-html=\\\"$ctrl.formattedIdentifier(account)  | searchFilter:$ctrl.state.accounts.params.query\\\"></div>\\n        </div>\\n        <div class=\\\"text-info text-right col-sm-4 p-0\\\">\\n          <ui-bus-format-amount-ng\\n            data-amount=\\\"account.amount\\\"\\n            data-currency=\\\"account.currency\\\">\\n          </ui-bus-format-amount-ng>\\n        </div>\\n      </div>\\n    </ui-bb-list-ng>\\n    <div class=\\\"text-center\\\" data-ng-if=\\\"$ctrl.state.accounts.params.query && !$ctrl.accounts.data.length\\\">\\n      <!-- No search results -->\\n      <div class=\\\"p-5 text-muted\\\">{{:: $ctrl.config.labels.noSearchResults }}</div>\\n    </div>\\n    <div class=\\\"text-center text-muted mt-2\\\" data-ng-if=\\\"$ctrl.state.accounts.loading\\\"><i class=\\\"fa fa-spinner fa-spin\\\"></i></div>\\n  </div>\\n</script>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ui-bus-beneficiary-select-modal-ng/templates/main.html\n// module id = 186\n// module chunks = 25","import { isValidIBAN, formatByGroups } from 'lib-bb-iban';\nimport Tabs from './constants';\nimport state from './state';\n\nexport default function controller($scope, $timeout) {\n  const $ctrl = this;\n\n  // Contacts letter signature\n  let signature;\n\n  // Paging parameter\n  let pageSize;\n\n  /**\n   * @name uiBusBeneficiarySelectModalNgController#selectTab\n   * @type {function}\n   * @description\n   * Selects tab by its name\n   *\n   * @param {String} tab Tab name\n   */\n  const selectTab = tab => {\n    $ctrl.state = state.setActiveTab($ctrl.state, { tab });\n  };\n\n  /**\n   * @name uiBusBeneficiarySelectModalNgController#formattedIdentifier\n   * @type {function}\n   * @description\n   * Format account if it is IBAN, and leaves untouched otherwise\n   *\n   * @param {Object} account\n   * @param {String} account.identifier\n   * @param {String} account.IBAN\n   * @returns {String}\n   */\n  const formattedIdentifier = ({ identifier, IBAN }) => (\n    IBAN === identifier ? formatByGroups(identifier) : identifier\n  );\n\n  /**\n   * @name uiBusBeneficiarySelectModalNgController#formatIban\n   * @type {function}\n   * @description\n   * Format account if it is IBAN, and leaves untouched otherwise\n   *\n   * @param {String} iban\n   * @returns {String}\n   */\n  const formatIban = (iban) => (\n    isValidIBAN(iban) ? formatByGroups(iban) : iban\n  );\n\n  /**\n   * @name uiBusBeneficiarySelectModalNgController#getItemContact\n   * @type {function}\n   * @description\n   * Format selected contact to use as selected item\n   *\n   * @param {Object} contact\n   * @param {Boolean} direct flag for US widgets\n   * @returns {Object}\n   */\n  const getItemContact = (contact, direct = false) => {\n    const account = contact.accounts[0];\n\n    if (direct) {\n      return { account: { ...account, ...contact } };\n    }\n\n    return { account: { ...account, ...{ name: contact.name } } };\n  };\n\n  /**\n   * @name uiBusBeneficiarySelectModalNgController#getItemAccount\n   * @type {function}\n   * @description\n   * Format selected account to use as selected item\n   *\n   * @param {Object} account\n   * @returns {Object}\n   */\n  const getItemAccount = (account) => ({ account });\n\n  /**\n   * @name uiBusBeneficiarySelectModalNgController#getProcessedContacts\n   * @type {function}\n   * @inner\n   *\n   * @description\n   * Flatten contacts with several accounts into one\n   *\n   * @param {Object[]} contacts\n   * @returns {Object[]}\n   */\n  const getProcessedContacts = (contacts) => {\n    const result = [];\n\n    (contacts || []).forEach((contact) => {\n      if (contact.accounts && contact.accounts.length > 1) {\n        contact.accounts.forEach((account) => {\n          result.push({\n            ...contact,\n            accounts: [account],\n          });\n        });\n      } else {\n        result.push(contact);\n      }\n    });\n\n    return result;\n  };\n\n  /**\n   * @name uiBusBeneficiarySelectModalNgController#firstLetterList\n   * @type {function}\n   * @inner\n   *\n   * @description\n   * Calculates letters \"signature\" for items list\n   * @param {Object[]} list\n   */\n  const firstLetterList = (list) => (list || []).reduce((acc, val, index) =>\n    [...acc, { letter: val.name[0].toUpperCase(), index }], []).reduce((acc, val) => {\n      const accumulator = acc;\n      if (accumulator[val.letter] === undefined) {\n        accumulator[val.letter] = val.index;\n      }\n      return accumulator;\n    }, {});\n\n\n  /**\n   * @name uiBusBeneficiarySelectModalNgController#doneLoadMoreAccounts\n   * @type {function}\n   * @description\n   * Callback after load more accounts finishes\n   * @inner\n   * @param {Boolean} [hasMore] flag to indicate if there should be more requests\n   */\n  const doneLoadMoreAccounts = (hasMore) => {\n    const hasMoreItems = hasMore === true;\n\n    // hide loadMore spinner\n    $ctrl.state = state.setSpinner($ctrl.state, { tab: Tabs.ACCOUNTS, flag: false });\n\n    // set Load More ability\n    $ctrl.state = state.setLoadMore($ctrl.state, { tab: Tabs.ACCOUNTS, hasMoreItems });\n\n    // Increase paging param (if needed)\n    $ctrl.state = state.setIncrementedPage($ctrl.state, {\n      tab: Tabs.ACCOUNTS,\n      hasMoreItems,\n      pageSize,\n    });\n\n    $timeout(() => {\n      // If no search -- save total count\n      if (!$ctrl.state[Tabs.ACCOUNTS].params.query) {\n        $ctrl.state = state.setTotalCounter($ctrl.state, {\n          tab: Tabs.ACCOUNTS,\n          totalCount: ($ctrl.accounts && $ctrl.accounts.totalCount) || 0,\n        });\n      }\n    });\n  };\n\n  /**\n   * @name uiBusBeneficiarySelectModalNgController#doneLoadMoreContacts\n   * @type {function}\n   * @description\n   * Callback after load more contacts finishes\n   * @inner\n   * @param {Boolean|Object} hasMore flag to indicate if there should be more requests\n   */\n  const doneLoadMoreContacts = (hasMore) => {\n    const hasMoreItems = hasMore === true;\n\n    // hide loadMore spinner\n    $ctrl.state = state.setSpinner($ctrl.state, { tab: Tabs.CONTACTS, flag: false });\n\n    // set Load More ability\n    $ctrl.state = state.setLoadMore($ctrl.state, { tab: Tabs.CONTACTS, hasMoreItems });\n\n    // Increase paging param (if needed)\n    $ctrl.state = state.setIncrementedPage($ctrl.state, {\n      tab: Tabs.CONTACTS,\n      hasMoreItems,\n      pageSize,\n    });\n\n    $timeout(() => {\n      if ($ctrl.contacts) {\n        $ctrl.contacts.data = getProcessedContacts($ctrl.contacts.data);\n        $ctrl.signature = firstLetterList($ctrl.contacts.data);\n      }\n\n      // If no search -- save total count\n      if (!$ctrl.state[Tabs.CONTACTS].params.query) {\n        $ctrl.state = state.setTotalCounter($ctrl.state, {\n          tab: Tabs.CONTACTS,\n          totalCount: ($ctrl.contacts && $ctrl.contacts.totalCount) || 0,\n        });\n      }\n    });\n  };\n\n  /**\n   * @name uiBusBeneficiarySelectModalNgController#loadMoreAccounts\n   * @type {function}\n   *\n   * @description\n   * Starts load more accounts flow\n   * @param {Boolean} [overwrite] Flag to indicate if the new response\n   *                              should overwrite previous list\n   */\n  const loadMoreAccounts = (overwrite = false) => {\n    if (!overwrite && $ctrl.state.accounts.stopLoadingMore) {\n      return;\n    }\n\n    // show loadMore spinner\n    $ctrl.state = state.setSpinner($ctrl.state, { tab: Tabs.ACCOUNTS, flag: true });\n\n    $ctrl.loadMore({\n      params: {\n        type: Tabs.ACCOUNTS,\n        done: doneLoadMoreAccounts,\n        request: $ctrl.state.accounts.params,\n        overwrite,\n      },\n    });\n  };\n\n  /**\n   * @name uiBusBeneficiarySelectModalNgController#loadMoreContacts\n   * @type {function}\n   *\n   * @description\n   * Starts load more contacts flow\n   * @param {Boolean} [overwrite] Flag to indicate if the new response\n   *                              should overwrite previous list\n   */\n  const loadMoreContacts = (overwrite = false) => {\n    if (!overwrite && $ctrl.state.contacts.stopLoadingMore) {\n      return;\n    }\n\n    // show loadMore spinner\n    $ctrl.state = state.setSpinner($ctrl.state, { tab: Tabs.CONTACTS, flag: true });\n\n    $ctrl.loadMore({\n      params: {\n        type: Tabs.CONTACTS,\n        done: doneLoadMoreContacts,\n        request: $ctrl.state.contacts.params,\n        overwrite,\n      },\n    });\n  };\n\n  /**\n   * @name uiBusBeneficiarySelectModalNgController#loadMoreAccountsWithDigest\n   * @type {function}\n   *\n   * @description\n   * Starts load more contacts flow with $digest\n   */\n  const loadMoreAccountsWithDigest = () => {\n    loadMoreAccounts();\n    $scope.$digest();\n  };\n\n  /**\n   * @name uiBusBeneficiarySelectModalNgController#loadMoreContactsWithDigest\n   * @type {function}\n   *\n   * @description\n   * Starts load more contacts flow with $digest\n   */\n  const loadMoreContactsWithDigest = () => {\n    loadMoreContacts();\n    $scope.$digest();\n  };\n\n  /**\n   * @name uiBusBeneficiarySelectModalNgController#onSearchClearAccounts\n   * @type {function}\n   *\n   * @description\n   * Clears search and loads default first page of accounts\n   */\n  const onSearchClearAccounts = () => {\n    $ctrl.state = state.setRequestParams($ctrl.state,\n      { tab: Tabs.ACCOUNTS, params: { from: 0, query: null } });\n    loadMoreAccounts(true); // overwrite\n  };\n\n  /**\n   * @name uiBusBeneficiarySelectModalNgController#onSearchClearContacts\n   * @type {function}\n   *\n   * @description\n   * Clears search and loads default first page of contatcs\n   */\n  const onSearchClearContacts = () => {\n    $ctrl.state = state.setRequestParams($ctrl.state,\n      { tab: Tabs.CONTACTS, params: { from: 0, query: null } });\n    loadMoreContacts(true); // overwrite\n  };\n\n  /**\n   * @name uiBusBeneficiarySelectModalNgController#onSearchAccounts\n   * @type {function}\n   *\n   * @description\n   * Initiates search of accounts\n   * @param {String} query\n   * @param {Number} [limit]\n   */\n  const onSearchAccounts = (query = '', limit = 3) => {\n    if (query && query.length >= limit) {\n      $ctrl.state = state.setRequestParams($ctrl.state,\n        { tab: Tabs.ACCOUNTS, params: { from: 0, query } });\n      loadMoreAccounts(true); // overwrite\n    }\n\n    if (!query) {\n      onSearchClearAccounts();\n    }\n  };\n\n  /**\n   * @name uiBusBeneficiarySelectModalNgController#onSearchContacts\n   * @type {function}\n   *\n   * @description\n   * Initiates search of contacts\n   * @param {String} query\n   * @param {Number} [limit]\n   */\n  const onSearchContacts = (query = '', limit = 3) => {\n    if (query && query.length >= limit) {\n      $ctrl.state = state.setRequestParams($ctrl.state,\n        { tab: Tabs.CONTACTS, params: { from: 0, query } });\n      loadMoreContacts(true);  // overwrite\n    }\n\n    if (!query) {\n      onSearchClearContacts();\n    }\n  };\n\n  /**\n   * $onInit hook\n   */\n  function $onInit() {\n    // Init state\n    $ctrl.state = state.getInitialState();\n    pageSize = parseInt($ctrl.config.pageSize, 10);\n\n    // Initial loading\n    loadMoreAccounts();\n    loadMoreContacts();\n\n    // Init request params for Accounts\n    $ctrl.state = state.setRequestParams($ctrl.state,\n      { tab: Tabs.ACCOUNTS, params: { size: pageSize } });\n\n    // Init request params for Contacts\n    $ctrl.state = state.setRequestParams($ctrl.state,\n      { tab: Tabs.CONTACTS, params: { size: pageSize } });\n  }\n\n  // Assign $ctrl props\n  Object.assign($ctrl, {\n    Tabs,\n    signature,\n    state: null,\n\n    selectTab,\n    formattedIdentifier,\n    formatIban,\n    getItemContact,\n    getItemAccount,\n    loadMoreAccounts,\n    loadMoreContacts,\n    loadMoreAccountsWithDigest,\n    loadMoreContactsWithDigest,\n    onSearchAccounts,\n    onSearchContacts,\n    onSearchClearAccounts,\n    onSearchClearContacts,\n    $onInit,\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bus-beneficiary-select-modal-ng/scripts/controller.js","/**\n * @name Constants#tabs\n * @description\n * Map of tab types\n * @type {Object}\n */\nconst Tabs = {\n  CONTACTS: 'contacts',\n  ACCOUNTS: 'accounts',\n};\n\nexport default Tabs;\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bus-beneficiary-select-modal-ng/scripts/constants.js","import Tabs from './constants';\n\n/**\n * @name getInitialState\n * @type {function}\n * @description\n * Returns initial state\n */\nconst getInitialState = () => ({\n  activeTab: Tabs.CONTACTS,\n  [Tabs.CONTACTS]: {\n    params: {\n      from: 0,\n      size: 30,\n      query: null,\n    },\n    loading: false,\n  },\n  [Tabs.ACCOUNTS]: {\n    params: {\n      from: 0,\n      size: 30,\n      orderBy: 'name',\n      direction: 'ASC',\n      query: null,\n    },\n    loading: false,\n  },\n});\n\n/**\n * @name setRequestParams\n * @type {function}\n * @description\n * Sets request params\n *\n * @param {Object} state\n * @param {Object} payload\n */\nconst setRequestParams = (state, payload) => ({\n  ...state,\n  [payload.tab]: {\n    ...state[payload.tab],\n    params: {\n      ...state[payload.tab].params,\n      ...payload.params,\n    },\n  },\n});\n\n/**\n * @name setSpinner\n * @type {function}\n * @description\n * Sets flag, which toggles (shows/hides) loading spinner\n *\n * @param {Object} state\n * @param {Object} payload\n */\nconst setSpinner = (state, payload) => ({\n  ...state,\n  [payload.tab]: {\n    ...state[payload.tab],\n    loading: payload.flag,\n  },\n});\n\n/**\n * @name setLoadMore\n * @type {function}\n * @description\n * Sets flag, which stops loading items for specific Tab\n *\n * @param {Object} state\n * @param {Object} payload\n */\nconst setLoadMore = (state, payload) => ({\n  ...state,\n  [payload.tab]: {\n    ...state[payload.tab],\n    stopLoadingMore: !payload.hasMoreItems,\n  },\n});\n\n/**\n * @name setActiveTab\n * @type {function}\n * @description\n * Update state with selected tab\n *\n * @param {Object} state\n * @param {Object} payload\n */\nconst setActiveTab = (state, payload) => ({\n  ...state,\n  activeTab: payload.tab,\n});\n\n/**\n * @name setIncrementedPage\n * @type {function}\n * @description\n * Update state with incremented paging param (if needed)\n *\n * @param {Object} state\n * @param {Object} payload\n */\nconst setIncrementedPage = (state, payload) => setRequestParams(state, {\n  tab: payload.tab,\n  params: {\n    from: payload.hasMoreItems ? state[payload.tab].params.from + 1 :\n      state[payload.tab].params.from,\n  },\n});\n\n/**\n * @name setTotalCounter\n * @type {function}\n * @description\n * Update state with total items counter\n *\n * @param {Object} state\n * @param {Object} payload\n */\nconst setTotalCounter = (state, payload) => ({\n  ...state,\n  [payload.tab]: {\n    ...state[payload.tab],\n    totalCount: payload.totalCount,\n  },\n});\n\nexport default {\n  getInitialState,\n  setRequestParams,\n  setSpinner,\n  setLoadMore,\n  setActiveTab,\n  setIncrementedPage,\n  setTotalCounter,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bus-beneficiary-select-modal-ng/scripts/state.js"],"sourceRoot":""}