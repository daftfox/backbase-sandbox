{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6******","webpack:///webpack/bootstrap 70052c6c6190d07a36f3?d006******","webpack:///./ext-bbm-initiate-payment-select-beneficiary-ng/model.xml","webpack:///external \"ui-bb-format-amount-ng\"?8f72***","webpack:///./ext-bbm-initiate-payment-select-beneficiary-ng/scripts/index.js","webpack:///external \"ui-bb-avatar-ng\"","webpack:///./ext-bbm-initiate-payment-select-beneficiary-ng/scripts/helpers.js","webpack:///./ext-bbm-initiate-payment-select-beneficiary-ng/scripts/intents.js","webpack:///./ext-bbm-initiate-payment-select-beneficiary-ng/scripts/constants.js"],"names":["events","helpers","extHelpers","hooks","intents","extIntents","dependencyKeys","uiBbAvatarKey","uiBbFormatAmountKey","stateContainer","getBeneficiaries","createSelector","state","beneficiaries","data","groupContacts","contacts","reduce","result","contact","char","name","charAt","toUpperCase","push","processContacts","groups","Object","keys","sort","map","getAccountDisplayName","account","alias","getCreditAccounts","creditAccounts","getContacts","selectBeneficiary","beneficiary","createRequest","handleRequest","Intent","SELECT_BENEFICIARY","showBeneficiaries","SHOW_BENEFICIARIES"],"mappings":"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","file":"ext-bbm-initiate-payment-select-beneficiary-ng/scripts/ext-bbm-initiate-payment-select-beneficiary-ng.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"ui-bb-format-amount-ng\"), require(\"ui-bb-avatar-ng\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ext-bbm-initiate-payment-select-beneficiary-ng\", [\"ui-bb-format-amount-ng\", \"ui-bb-avatar-ng\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ext-bbm-initiate-payment-select-beneficiary-ng\"] = factory(require(\"ui-bb-format-amount-ng\"), require(\"ui-bb-avatar-ng\"));\n\telse\n\t\troot[\"ext-bbm-initiate-payment-select-beneficiary-ng\"] = factory(root[\"ui-bb-format-amount-ng\"], root[\"ui-bb-avatar-ng\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_15__, __WEBPACK_EXTERNAL_MODULE_71__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 70052c6c6190d07a36f3","module.exports = require(\"./scripts/index.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ext-bbm-initiate-payment-select-beneficiary-ng/model.xml\n// module id = 0\n// module chunks = 6","module.exports = __WEBPACK_EXTERNAL_MODULE_15__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-format-amount-ng\"\n// module id = 15\n// module chunks = 0 2 3 4 6 7","/**\n * @module ext-bbm-initiate-payment-select-account-ng\n *\n * @description\n * Mobile extension for the payment select account page in the Mobile initiate payment widget.\n * Renders either a list of debit accounts, or a list of credit accounts and contacts.\n *\n * @example\n * <!-- File model.xml of widget-bbm-initiate-payment-ng -->\n * <property name=\"extension\" viewHint=\"text-input,admin\">\n *   <value type=\"string\">ext-bbm-initiate-payment-select-account-ng</value>\n * </property>\n */\nimport uiBbAvatarKey from 'ui-bb-avatar-ng';\nimport uiBbFormatAmountKey from 'ui-bb-format-amount-ng';\n\nimport extHelpers from './helpers';\nimport extIntents from './intents';\n\nexport const events = {};\nexport const helpers = extHelpers;\nexport const hooks = {};\nexport const intents = extIntents;\n\nexport const dependencyKeys = [\n  uiBbAvatarKey,\n  uiBbFormatAmountKey,\n];\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bbm-initiate-payment-select-beneficiary-ng/scripts/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_71__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-avatar-ng\"\n// module id = 71\n// module chunks = 6 7 19","/**\n * @description\n * Helpers for ext-bbm-initiate-payment-select-account-ng\n *\n * @name Helpers\n * @type {Object}\n */\nexport default ({ intents, stateContainer }) => {\n  const getBeneficiaries = stateContainer.createSelector(\n    state => state.beneficiaries.data\n  );\n\n  const groupContacts = contacts => contacts.reduce(\n    (result, contact) => {\n      const char = contact.name.charAt(0).toUpperCase();\n\n      if (!result[char]) {\n        // Allow mutation of a local empty object\n        // See: https://github.com/airbnb/javascript/issues/719\n        // eslint-disable-next-line no-param-reassign\n        result[char] = [];\n      }\n\n      result[char].push(contact);\n\n      return result;\n    }, {}\n  );\n\n  const processContacts = contacts => {\n    const groups = groupContacts(contacts);\n    return Object.keys(groups)\n      .sort()\n      .map(char => ({\n        contacts: groups[char],\n        char,\n      }));\n  };\n\n  /**\n   * @name Helpers#getAccountDisplayName\n   * @type {function}\n   * @description\n   * Returns a string that will be displayed as a name of the given payment.\n   * @param {module:widget-bbm-initiate-payment-ng.AccountView} account Account to display\n   * @returns {string}\n   */\n  const getAccountDisplayName = account => account.alias || account.name || '';\n\n  /**\n   * @name Helpers#getCreditAccounts\n   * @type {function}\n   * @description\n   * Returns the list of credit accounts.\n   * @returns {module:widget-bbm-initiate-payment-ng.AccountView}\n   */\n  const getCreditAccounts = stateContainer.createSelector(\n    () => (getBeneficiaries() ? getBeneficiaries().creditAccounts : null)\n  );\n\n  /**\n   * @name Helpers#getContactsAccounts\n   * @type {function}\n   * @description\n   * Returns the list of contacts.\n   * @returns {module:widget-bbm-initiate-payment-ng.AccountView}\n   */\n  const getContacts = stateContainer.createSelector(\n    () => processContacts(getBeneficiaries() ? getBeneficiaries().contacts : [])\n  );\n\n  /**\n   * @name Helpers#selectBeneficiary\n   * @type {function}\n   * @description\n   * Selects the given beneficiary\n   * @param {module:widget-bbm-initiate-payment-ng.AccountView} beneficiary\n   */\n  const selectBeneficiary = beneficiary => intents.selectBeneficiary(beneficiary);\n\n  return {\n    getAccountDisplayName,\n    getContacts,\n    getCreditAccounts,\n    selectBeneficiary,\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bbm-initiate-payment-select-beneficiary-ng/scripts/helpers.js","import { Intent } from './constants';\n\n/**\n * @name Intents\n * @type {Object}\n */\nexport default ({ createRequest, handleRequest }) => ({\n  /**\n   * @name Intents#showBeneficiaries\n   * @description The intent to select a beneficiary.\n   * @type {function}\n   */\n  selectBeneficiary: createRequest(Intent.SELECT_BENEFICIARY),\n\n  /**\n   * @name Intents#showBeneficiaries\n   * @description Handles the intent to show the list of beneficiaries.\n   * @type {function}\n   */\n  showBeneficiaries: handleRequest(Intent.SHOW_BENEFICIARIES),\n});\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bbm-initiate-payment-select-beneficiary-ng/scripts/intents.js","/* eslint import/prefer-default-export: \"off\" */\n\n/**\n * Intents\n * @type {Object}\n */\nexport const Intent = {\n  SELECT_BENEFICIARY: 'intent.rbm.paymentOrder.beneficiary.select',\n  SHOW_BENEFICIARIES: 'intent.rbm.paymentOrder.beneficiaries.show',\n};\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bbm-initiate-payment-select-beneficiary-ng/scripts/constants.js"],"sourceRoot":""}