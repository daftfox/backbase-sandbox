{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6*******","webpack:///webpack/bootstrap 110596ed019bd8a9816a?8523*******","webpack:///./ui-bb-transaction-search-filter-ng/model.xml","webpack:///external \"vendor-bb-angular\"?a114","webpack:///./ui-bb-transaction-search-filter-ng/scripts/index.js","webpack:///external \"ui-bb-calendar-popup-ng\"","webpack:///external \"ui-bb-track-form-changes-ng\"","webpack:///external \"ui-bb-search-box-ng\"","webpack:///external \"ui-bb-dropdown-select-ng\"","webpack:///./ui-bb-transaction-search-filter-ng/scripts/component.js","webpack:///./ui-bb-transaction-search-filter-ng/scripts/controller.js","webpack:///./ui-bb-transaction-search-filter-ng/scripts/constants.js"],"names":["angular","module","uiBbCalendarPopupKey","uiBbTrackChangesKey","uiBbSearchBoxKey","uiBbDropdownSelectKey","component","Component","controller","Controller","name","uiBbTransactionSearchFilterComponent","bindings","onFilter","buttonLabels","fieldLabels","currencies","categories","transactionsEnumValues","filters","template","uiBbTransactionSearchFilterController","$ctrl","state","isFilterOpen","immutableFilter","filterConstants","filterParams","Object","assign","query","copy","calendarPopupConfig","minDate","maxDate","Date","maxMode","creditDebitIndicatorOptions","billingStatusOptions","toggleFilter","getNormalizedDate","date","undefined","userOffset","getTimezoneOffset","toISOString","slice","normalizeQueryParam","param","normalizeCreditDebitIndicatorParam","value","normalizeBillingStatusParam","normalizeCategoriesParam","categoriesArray","length","map","category","categoryName","getParams","fromDate","dateRange","startDate","toDate","endDate","amountFrom","amountTo","currency","creditDebitIndicator","billingStatus","checkSerialNumberFrom","checkSerialNumberTo","resetFormState","form","$setUntouched","$setPristine","onApplyFilter","params","onClearFilter","validateAmountKeypress","event","validKey","metaKey","which","test","String","fromCharCode","preventDefault","validateAmountPaste","pasteData","clipboardData","getData","match","isFormValid","$pristine","$invalid","validateFilters","defaultFilters","validFilters","values","Filter","filter","indexOf","$onInit","creditDebitIndicators","option","label","labelKey","role","billingStatuses","CREDIT_DEBIT_INDICATOR","BILLING_STATUS","CURRENCY","AMOUNT_RANGE","DATE_RANGE","CATEGORIES","CHECK_SERIAL_NUMBER_RANGE"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;ACtCA,0C;;;;;;;ACAA,iD;;;;;;;;;;;;;ACsCA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;;;AAEA;;;;;;;;mBAQeA,0BACZC,MADY,CACL,oCADK,EACiC,CAC5CC,6BAD4C,EAE5CC,gCAF4C,EAG5CC,yBAH4C,EAI5CC,8BAJ4C,CADjC,EAOZC,SAPY,CAOF,+BAPE,EAO+BC,mBAP/B,EAQZC,UARY,CAQD,uCARC,EAQwC,CAAC,QAAD,EAAWC,oBAAX,CARxC,EASZC,I,EAhEH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA,iD;;;;;;;ACAA,iD;;;;;;;ACAA,iD;;;;;;;ACAA,iD;;;;;;;;;;;;ACAA,KAAMC,uCAAuC;AAC3CH,eAAY,uCAD+B;AAE3CI,aAAU;AACRC,eAAU,GADF;AAERC,mBAAc,GAFN;AAGRC,kBAAa,GAHL;AAIRC,iBAAY,GAJJ;AAKRC,iBAAY,GALJ;AAMRC,6BAAwB,GANhB;AAORC,cAAS;AAPD,IAFiC;AAW3CC;AAX2C,EAA7C;;mBAqVeT,oC;;;;;;;;;;;;mBC7USU,qC;;AAPxB;;;;;;AAOe,UAASA,qCAAT,GAAiD;AAC9D;;;;;;;;AAQA,OAAMC,QAAQ,IAAd;;AAEA;;;;;;;AAOA,OAAMC,QAAQ;AACZC,mBAAc;AADF,IAAd;AAGA;;;;;;;;AAQA,OAAMC,oCAAuBC,mBAAvB,CAAN;;AAEA;;;;;;;AAOA,OAAMC,eAAeC,OAAOC,MAAP,CAAc,EAAEC,OAAO,EAAT,EAAd,EAA6B9B,QAAQ+B,IAAR,CAAaN,eAAb,CAA7B,CAArB;;AAEA,OAAMO,sBAAsB,EAAEC,SAAS,GAAX,EAAgBC,SAAS,IAAIC,IAAJ,EAAzB,EAAqCC,SAAS,MAA9C,EAA5B;;AAEA;;;;;;;AAOA,OAAIC,oCAAJ;;AAEA;;;;;;;AAOA,OAAIC,6BAAJ;;AAEA;;;;;;;;AAQA,OAAMC,eAAe,SAAfA,YAAe;AAAA,YAAOhB,MAAMC,YAAN,GAAqB,CAACD,MAAMC,YAAnC;AAAA,IAArB;;AAEA;;;;;;;;;AASA,OAAMgB,oBAAoB,SAApBA,iBAAoB,CAACC,IAAD,EAAU;AAClC,SAAIA,SAAS,IAAT,IAAiBA,SAASC,SAA9B,EAAyC;AACvC,cAAO,IAAP;AACD;AACD,SAAMC,aAAaF,KAAKG,iBAAL,KAA2B,KAA9C;AACA,iBAAU,IAAIT,IAAJ,CAASM,OAAOE,UAAhB,EAA4BE,WAA5B,GAA0CC,KAA1C,CAAgD,CAAhD,EAAmD,EAAnD,CAAV;AACD,IAND;;AAQA;;;;;;;;;AASA,OAAMC,sBAAsB,SAAtBA,mBAAsB;AAAA,YAAUC,UAAU,EAAV,GAAe,IAAf,GAAsBA,KAAhC;AAAA,IAA5B;;AAEA;;;;;;;;;AASA,OAAMC,qCAAqC,SAArCA,kCAAqC;AAAA,YAAU,CAACD,KAAD,GAAS,IAAT,GAAgBA,MAAME,KAAhC;AAAA,IAA3C;;AAEA;;;;;;;;;AASA,OAAMC,8BAA8B,SAA9BA,2BAA8B;AAAA,YAAU,CAACH,KAAD,GAAS,IAAT,GAAgBA,MAAME,KAAhC;AAAA,IAApC;;AAEA;;;;;;;;;AASA,OAAME,2BAA2B,SAA3BA,wBAA2B;AAAA,YAC9BC,gBAAgBC,MAAhB,KAA2B,CAA3B,GAA+B,IAA/B,GAAsCD,gBAAgBE,GAAhB,CAAoB;AAAA,cAAYC,SAASC,YAArB;AAAA,MAApB,CADR;AAAA,IAAjC;;AAGA;;;;;;;;;AASA,OAAMC,YAAY,SAAZA,SAAY;AAAA,YAAM9B,OAAOC,MAAP,CAAc,EAAd,EAAkB;AACxCC,cAAOiB,oBAAoBpB,aAAaG,KAAjC,CADiC;AAExC6B,iBAAUnB,kBAAkBb,aAAaiC,SAAb,CAAuBC,SAAzC,CAF8B;AAGxCC,eAAQtB,kBAAkBb,aAAaiC,SAAb,CAAuBG,OAAzC,CAHgC;AAIxCC,mBAAYrC,aAAaqC,UAJe;AAKxCC,iBAAUtC,aAAasC,QALiB;AAMxCC,iBAAUvC,aAAauC,QANiB;AAOxCC,6BAAsBlB,mCAAmCtB,aAAawC,oBAAhD,CAPkB;AAQxCC,sBAAejB,4BAA4BxB,aAAayC,aAAzC,CARyB;AASxCnD,mBAAYmC,yBAAyBzB,aAAaV,UAAtC,CAT4B;AAUxCoD,8BAAuB1C,aAAa0C,qBAVI;AAWxCC,4BAAqB3C,aAAa2C;AAXM,MAAlB,CAAN;AAAA,IAAlB;;AAcA;;;;;;;;AAQA,OAAMC,iBAAiB,SAAjBA,cAAiB,OAAQ;AAC7B,SAAIC,IAAJ,EAAU;AACRA,YAAKC,aAAL;AACAD,YAAKE,YAAL;AACD;AACF,IALD;;AAOA;;;;;;;AAOA,OAAMC,gBAAgB,SAAhBA,aAAgB,GAAM;AAC1BrD,WAAMT,QAAN,CAAe,EAAE+D,QAAQlB,WAAV,EAAf;AACD,IAFD;;AAIA;;;;;;;AAOA,OAAMmB,gBAAgB,SAAhBA,aAAgB,CAACL,IAAD,EAAU;AAC9B5C,YAAOC,MAAP,CAAcF,YAAd,EAA4B3B,QAAQ+B,IAAR,CAAaN,eAAb,CAA5B;;AAEAkD,mBAAcH,IAAd;AACAD,oBAAeC,IAAf;AACD,IALD;;AAOA;;;;;;;;;;AAUA,OAAMM,yBAAyB,SAAzBA,sBAAyB,CAACC,KAAD,EAAW;AACxC,SAAMC,WAAWD,MAAME,OAAN,CAAc;AAAd,QACZF,MAAMG,KAAN,IAAe,CADH,CACK;AADL,QAEZH,MAAMG,KAAN,KAAgB,CAFJ,CAEM;AAFN,QAGZ,QAAQC,IAAR,CAAaC,OAAOC,YAAP,CAAoBN,MAAMG,KAA1B,CAAb,CAHL,CADwC,CAIa;;AAErD,SAAI,CAACF,QAAL,EAAe;AACbD,aAAMO,cAAN;AACD;AACF,IATD;;AAWA;;;;;;;;;AASA,OAAMC,sBAAsB,SAAtBA,mBAAsB,CAACR,KAAD,EAAW;AACrC,SAAMS,YAAYT,MAAMU,aAAN,CAAoBC,OAApB,CAA4B,YAA5B,CAAlB;AACA,SAAIF,UAAUG,KAAV,CAAgB,QAAhB,CAAJ,EAA+B;AAC7BZ,aAAMO,cAAN;AACD;AACF,IALD;;AAOA;;;;;;;AAOA,OAAMM,cAAc,SAAdA,WAAc,CAACpB,IAAD;AAAA,YAAW,CAACA,IAAD,IAASA,KAAKqB,SAAd,IAA2BrB,KAAKsB,QAA3C;AAAA,IAApB;;AAEA;;;;;;;;;;;AAWA,OAAMC,kBAAkB,SAAlBA,eAAkB,CAAC5E,OAAD,EAAa;AACnC,SAAIA,QAAQmC,MAAR,KAAmB,CAAvB,EAA0B;AACxB,cAAO0C,yBAAP;AACD;;AAED,SAAMC,eAAerE,OAAOsE,MAAP,CAAcC,iBAAd,CAArB;AACA,YAAOhF,QAAQiF,MAAR,CAAe,UAACA,MAAD;AAAA,cAAYH,aAAaI,OAAb,CAAqBD,MAArB,IAA+B,CAAC,CAA5C;AAAA,MAAf,CAAP;AACD,IAPD;;AASA,OAAME,UAAU,SAAVA,OAAU,GAAM;AACpBhF,WAAMH,OAAN,GAAgB4E,gBAAgBzE,MAAMH,OAAN,IAAiB,EAAjC,CAAhB;;AAEAG,WAAMe,2BAAN,GAAoCkE,iCACjChD,GADiC,CAC7B,UAACiD,MAAD;AAAA,cAAY5E,OAAOC,MAAP,CAAc2E,MAAd,EAAsB;AACrCC,gBAAOnF,MAAMP,WAAN,GAAoBO,MAAMP,WAAN,CAAkByF,OAAOE,QAAzB,CAApB,GAAyDF,OAAOE,QADlC;AAErCC,eAAMH,OAAOE;AAFwB,QAAtB,CAAZ;AAAA,MAD6B,CAApC;;AAMApF,WAAMgB,oBAAN,GAA6BsE,2BAC1BrD,GAD0B,CACtB,UAACiD,MAAD;AAAA,cAAY5E,OAAOC,MAAP,CAAc2E,MAAd,EAAsB;AACrCC,gBAAOnF,MAAMP,WAAN,GAAoBO,MAAMP,WAAN,CAAkByF,OAAOE,QAAzB,CAApB,GAAyDF,OAAOE,QADlC;AAErCC,eAAMH,OAAOE;AAFwB,QAAtB,CAAZ;AAAA,MADsB,CAA7B;AAKD,IAdD;;AAgBA9E,UAAOC,MAAP,CAAcP,KAAd,EAAqB;AACnBC,iBADmB;AAEnBS,6CAFmB;AAGnBL,+BAHmB;AAInBgD,iCAJmB;AAKnBE,iCALmB;AAMnBtC,+BANmB;AAOnBqD,6BAPmB;AAQnBd,mDARmB;AASnBS,6CATmB;AAUnBlD,6DAVmB;AAWnBC,+CAXmB;AAYnBgE;AAZmB,IAArB;AAcD,E,CA3SD,oB;;;;;;;;;;;;ACAA;;;;;;;AAOA,KAAM5E,kBAAkB;AACtBsC,eAAY,IADU;AAEtBC,aAAU,IAFY;AAGtBC,aAAU,IAHY;AAItBN,cAAW;AACTC,gBAAW,IADF;AAETE,cAAS;AAFA,IAJW;AAQtBI,yBAAsB,IARA;AAStBC,kBAAe,IATO;AAUtBnD,eAAY,EAVU;AAWtBoD,0BAAuB,IAXD;AAYtBC,wBAAqB;AAZC,EAAxB;;AAeA;;;;;;;AAOO,KAAM6B,0BAAS;AACpBU,2BAAwB,sBADJ;AAEpBC,mBAAgB,eAFI;AAGpBC,aAAU,UAHU;AAIpBC,iBAAc,aAJM;AAKpBC,eAAY,WALQ;AAMpBC,eAAY,YANQ;AAOpBC,8BAA2B;AAPP,EAAf;;AAUP;;;;AAIO,KAAMnB,0CAAiB,CAC5BG,OAAOU,sBADqB,EAE5BV,OAAOW,cAFqB,EAG5BX,OAAOa,YAHqB,EAI5Bb,OAAOc,UAJqB,EAK5Bd,OAAOe,UALqB,EAM5Bf,OAAOgB,yBANqB,CAAvB;;AASP;;;;;;;AAOO,KAAMZ,wDAAwB,CACnC;AACEG,aAAU,QADZ;AAEExD,UAAO;AAFT,EADmC,EAKnC;AACEwD,aAAU,OADZ;AAEExD,UAAO;AAFT,EALmC,CAA9B;;AAWP;;;;;;;AAOO,KAAM0D,4CAAkB,CAC7B;AACEF,aAAU,6BADZ;AAEExD,UAAO;AAFT,EAD6B,EAK7B;AACEwD,aAAU,+BADZ;AAEExD,UAAO;AAFT,EAL6B,EAS7B;AACEwD,aAAU,8BADZ;AAEExD,UAAO;AAFT,EAT6B,CAAxB;;mBAeQxB,e","file":"ui-bb-transaction-search-filter-ng/scripts/ui-bb-transaction-search-filter-ng.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vendor-bb-angular\"), require(\"ui-bb-calendar-popup-ng\"), require(\"ui-bb-track-form-changes-ng\"), require(\"ui-bb-search-box-ng\"), require(\"ui-bb-dropdown-select-ng\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ui-bb-transaction-search-filter-ng\", [\"vendor-bb-angular\", \"ui-bb-calendar-popup-ng\", \"ui-bb-track-form-changes-ng\", \"ui-bb-search-box-ng\", \"ui-bb-dropdown-select-ng\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ui-bb-transaction-search-filter-ng\"] = factory(require(\"vendor-bb-angular\"), require(\"ui-bb-calendar-popup-ng\"), require(\"ui-bb-track-form-changes-ng\"), require(\"ui-bb-search-box-ng\"), require(\"ui-bb-dropdown-select-ng\"));\n\telse\n\t\troot[\"ui-bb-transaction-search-filter-ng\"] = factory(root[\"vendor-bb-angular\"], root[\"ui-bb-calendar-popup-ng\"], root[\"ui-bb-track-form-changes-ng\"], root[\"ui-bb-search-box-ng\"], root[\"ui-bb-dropdown-select-ng\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_63__, __WEBPACK_EXTERNAL_MODULE_74__, __WEBPACK_EXTERNAL_MODULE_75__, __WEBPACK_EXTERNAL_MODULE_76__, __WEBPACK_EXTERNAL_MODULE_77__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 110596ed019bd8a9816a","module.exports = require(\"./scripts/index.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ui-bb-transaction-search-filter-ng/model.xml\n// module id = 0\n// module chunks = 8","module.exports = __WEBPACK_EXTERNAL_MODULE_63__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor-bb-angular\"\n// module id = 63\n// module chunks = 7 8 9 10","/**\n * @module ui-bb-transaction-search-filter-ng\n * @description\n * UI transaction-search filter component\n *\n * @example\n * // In an extension:\n * // file: scripts/index.js\n * import uiBbTransactionSearchFilterKey from 'ui-bb-transaction-search-filter-ng';\n *\n * export const dependencyKeys = [\n *   uiBbTransactionSearchFilterKey,\n * ];\n *\n * // file: templates/template.ng.html\n * <ui-bb-transaction-search-filter-ng\n * on-filter=\"$ctrl.filter()\"\n * button-labels=\"{\n *  main: 'Filter',\n *  apply: 'Apply',\n *  cancel: 'Cancel',\n * }\"\n * field-labels=\"{\n *  transaction: 'Transaction',\n *  credit: 'Credit',\n *  debit: 'Debit',\n *  dateRange: 'Date range',\n *  amountRange: 'Amount range',\n *  amountFrom: 'Amount from',\n *  amountTo: 'Amount to',\n *  billed: 'Billed',\n *  unbilled: 'Unbilled',\n *  pending: 'Pending',\n *  billingStatus: 'Billing status'\n * }\">\n * </ui-bb-transaction-search-filter-ng>\n */\n\nimport angular from 'vendor-bb-angular';\nimport uiBbCalendarPopupKey from 'ui-bb-calendar-popup-ng';\nimport uiBbTrackChangesKey from 'ui-bb-track-form-changes-ng';\nimport uiBbSearchBoxKey from 'ui-bb-search-box-ng';\nimport uiBbDropdownSelectKey from 'ui-bb-dropdown-select-ng';\n\nimport Component from './component';\nimport Controller from './controller';\n\n/**\n * @name default\n * @type {string}\n *\n * @description\n * The angular module name\n */\n\nexport default angular\n  .module('ui-bb-transaction-search-filter-ng', [\n    uiBbCalendarPopupKey,\n    uiBbTrackChangesKey,\n    uiBbSearchBoxKey,\n    uiBbDropdownSelectKey,\n  ])\n  .component('uiBbTransactionSearchFilterNg', Component)\n  .controller('uiBbTransactionSearchFilterController', ['$scope', Controller])\n  .name;\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-transaction-search-filter-ng/scripts/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_74__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-calendar-popup-ng\"\n// module id = 74\n// module chunks = 8","module.exports = __WEBPACK_EXTERNAL_MODULE_75__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-track-form-changes-ng\"\n// module id = 75\n// module chunks = 8","module.exports = __WEBPACK_EXTERNAL_MODULE_76__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-search-box-ng\"\n// module id = 76\n// module chunks = 8","module.exports = __WEBPACK_EXTERNAL_MODULE_77__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-dropdown-select-ng\"\n// module id = 77\n// module chunks = 8","const uiBbTransactionSearchFilterComponent = {\n  controller: 'uiBbTransactionSearchFilterController',\n  bindings: {\n    onFilter: '&',\n    buttonLabels: '<',\n    fieldLabels: '<',\n    currencies: '<',\n    categories: '<',\n    transactionsEnumValues: '<',\n    filters: '<',\n  },\n  template: `\n    <div class=\"border\">\n      <div class=\"input-group p-3\">\n        <ui-bb-search-box-ng\n          class=\"float-left pr-2\"\n          data-config=\"{\n            hideButton: false,\n            showIcon: false,\n            labels: {\n              title: $ctrl.fieldLabels.search,\n              placeholder: $ctrl.fieldLabels.search,\n              clear: $ctrl.fieldLabels.clearSearch,\n              submit: $ctrl.fieldLabels.submitSearch,\n            }\n          }\"\n          data-ng-model=\"$ctrl.filterParams.query\"\n          data-on-submit=\"$ctrl.onApplyFilter(searchFilterForm)\"\n          data-on-clear=\"$ctrl.onApplyFilter(searchFilterForm)\">\n        </ui-bb-search-box-ng>\n        <button\n          type=\"button\"\n          data-ng-class=\"{ 'active' : $ctrl.state.isFilterOpen }\"\n          class=\"btn btn-outline-secondary btn-filter float-left\"\n          data-role=\"filter\"\n          data-ng-click=\"$ctrl.toggleFilter()\"\n          title=\"{{ $ctrl.buttonLabels.main }}\">\n          <i class=\"fa fa-filter\" aria-hidden=\"true\"></i>\n          <span class=\"d-none d-sm-inline\">{{ $ctrl.buttonLabels.main }}</span>\n        </button>\n      </div>\n\n      <form data-role=\"search\"\n        name=\"searchFilterForm\"\n        data-ng-submit=\"$ctrl.onApplyFilter(searchFilterForm)\"\n        data-ui-bb-track-changes-ng=\"$ctrl.filterParams\">\n        \n        <div data-ng-show=\"$ctrl.state.isFilterOpen\">\n          <div class=\"card-body card-body-dark\">\n            <div class=\"row\">\n              <div ng-repeat=\"filter in $ctrl.filters\" class=\"col-lg-6\">\n                <ng-include src=\"'ui-bb-transaction-search-filter-ng/' + filter + '.html'\">\n                </ng-include>\n              </div>\n            </div>\n          </div>\n          \n          <div class=\"card-footer card-footer-darker\">\n            <div class=\"d-flex flex-column-reverse flex-md-row justify-content-md-end\">\n              <div class=\"d-none d-md-block text-right\">\n                <button \n                  type=\"button\"\n                  class=\"btn btn-link\"\n                  data-ng-show=\"searchFilterForm.$dirty\"\n                  data-ng-click=\"$ctrl.onClearFilter(searchFilterForm)\"\n                  title=\"{{ $ctrl.buttonLabels.clearAll }}\"\n                  data-role=\"clear-all\">\n                  {{ $ctrl.buttonLabels.clearAll }}\n                </button>\n                <button\n                  type=\"button\" \n                  class=\"btn btn-secondary\"\n                  data-ng-click=\"$ctrl.toggleFilter()\"\n                  title=\"{{ $ctrl.buttonLabels.closePanel }}\"\n                  data-role=\"cancel\">\n                  {{ $ctrl.buttonLabels.closePanel }}\n                </button>\n                <button\n                  data-ng-disabled=\"$ctrl.isFormValid(searchFilterForm)\"\n                  class=\"btn btn-primary\"\n                  title=\"{{ $ctrl.buttonLabels.apply }}\"\n                  data-ng-click=\"$ctrl.toggleFilter()\"\n                  data-role=\"apply\">\n                  {{ $ctrl.buttonLabels.apply }}\n                </button>\n              </div>\n              <div class=\"d-block d-md-none\">\n                <button\n                  data-ng-disabled=\"$ctrl.isFormValid(searchFilterForm)\"\n                  class=\"btn btn-primary btn-block\"\n                  title=\"{{ $ctrl.buttonLabels.apply }}\"\n                  data-ng-click=\"$ctrl.toggleFilter()\"\n                  data-role=\"apply\">\n                  {{ $ctrl.buttonLabels.apply }}\n                </button>\n                <button\n                  type=\"button\" \n                  class=\"btn btn-secondary btn-block\"\n                  data-ng-click=\"$ctrl.toggleFilter()\"\n                  title=\"{{ $ctrl.buttonLabels.closePanel }}\"\n                  data-role=\"cancel\">\n                  {{ $ctrl.buttonLabels.closePanel }}\n                </button>\n                <button \n                  type=\"button\"\n                  class=\"btn btn-link btn-block\"\n                  data-ng-show=\"searchFilterForm.$dirty\"\n                  data-ng-click=\"$ctrl.onClearFilter(searchFilterForm)\"\n                  title=\"{{ $ctrl.buttonLabels.clearAll }}\"\n                  data-role=\"clear-all\">\n                  {{ $ctrl.buttonLabels.clearAll }}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </form>\n    </div>\n\n    <!-- Credit Debit Indicator -->\n    <script\n      type=\"text/ng-template\"\n      id=\"ui-bb-transaction-search-filter-ng/creditDebitIndicator.html\">\n      <div class=\"form-group\">\n        <label data-role=\"credit-debit-indicator-label\">\n          {{ $ctrl.fieldLabels.transaction }}\n        </label>\n        <ui-bb-dropdown-select-ng\n          data-ng-model=\"$ctrl.filterParams.creditDebitIndicator\"\n          data-role=\"select-debit-credit\"\n          data-selected-as=\"$option.label\">\n          <ui-bb-dropdown-option-ng\n            data-option=\"option\"\n            data-role=\"{{ $option.role }}\"\n            data-arrow-navigation=\"true\"\n            data-ng-repeat=\"option in $ctrl.creditDebitIndicatorOptions\"\n            class=\"list-group-item-text\">\n              {{ $option.label }}\n          </ui-bb-dropdown-option-ng>\n        </ui-bb-dropdown-select-ng>\n      </div>\n    </script>\n\n    <!-- Billing Status -->\n    <script type=\"text/ng-template\" id=\"ui-bb-transaction-search-filter-ng/billingStatus.html\">\n      <div data-ng-if=\"$ctrl.fieldLabels.billingStatus\">\n        <div class=\"form-group\">\n          <label data-role=\"billing-status-label\">\n            {{ $ctrl.fieldLabels.billingStatus }}\n          </label>\n          <ui-bb-dropdown-select-ng\n            data-ng-model=\"$ctrl.filterParams.billingStatus\"\n            data-role=\"select-billing-status\"\n            data-selected-as=\"$option.labelKey | i18n\">\n            <ui-bb-dropdown-option-ng\n              data-option=\"option\"\n              data-role=\"{{ $option.role }}\"\n              data-arrow-navigation=\"true\"\n              data-ng-repeat=\"option in\n                ($ctrl.transactionsEnumValues.billingStatus || $ctrl.billingStatusOptions)\"\n              class=\"list-group-item-text\">\n                {{ $option.labelKey | i18n }}\n            </ui-bb-dropdown-option-ng>\n          </ui-bb-dropdown-select-ng>\n        </div>\n      </div>\n    </script>\n\n    <!-- Currency -->\n    <script type=\"text/ng-template\" id=\"ui-bb-transaction-search-filter-ng/currency.html\">\n      <div data-ng-if=\"$ctrl.currencies\">\n        <div class=\"form-group\">\n          <label data-role=\"currency-label\">{{ $ctrl.fieldLabels.currency }}</label>\n          <div>\n            <select class=\"form-control\"\n              data-ng-model=\"$ctrl.filterParams.currency\"\n              data-role=\"select-currency\">\n              <option\" value=\"\" disabled>{{ $ctrl.fieldLabels.select }}</option>\n              <option\n                data-ng-repeat=\"currency in $ctrl.currencies\"\n                data-role=\"currency-{{ currency.name }}\"\n                value=\"{{ currency.name }}\">\n                {{ currency.name }}\n              </option>\n            </select>\n          </div>\n        </div>\n      </div>\n    </script>\n\n    <!-- Amount Range -->\n    <script type=\"text/ng-template\" id=\"ui-bb-transaction-search-filter-ng/amountRange.html\">\n      <label data-role=\"amount-range-label\">{{ $ctrl.fieldLabels.amountRange }}</label>\n      <div class=\"row\">\n        <div class=\"col-lg-6\">\n          <div class=\"form-group\">\n            <input\n              type=\"number\"\n              min=\"0\"\n              class=\"amount-range-start form-control\"\n              data-ng-model=\"$ctrl.filterParams.amountFrom\"\n              data-ng-keypress=\"$ctrl.validateAmountKeypress($event)\"\n              data-ng-paste=\"$ctrl.validateAmountPaste($event)\"\n              placeholder=\"{{ $ctrl.fieldLabels.amountFrom }}\"\n              title=\"{{ $ctrl.fieldLabels.amountFrom }}\"\n              data-role=\"amount-from\"/>\n            </div>\n        </div>\n        <div class=\"col-lg-6\">\n          <div class=\"form-group\">\n            <input\n              type=\"number\"\n              min=\"0\"\n              class=\"amount-range-end form-control\"\n              data-ng-model=\"$ctrl.filterParams.amountTo\"\n              data-ng-keypress=\"$ctrl.validateAmountKeypress($event)\"\n              data-ng-paste=\"$ctrl.validateAmountPaste($event)\"\n              placeholder=\"{{ $ctrl.fieldLabels.amountTo }}\"\n              title=\"{{ $ctrl.fieldLabels.amountTo }}\"\n              data-role=\"amount-to\"/>\n            </div>\n        </div>\n      </div>\n    </script>\n\n    <!-- Date Range -->\n    <script type=\"text/ng-template\" id=\"ui-bb-transaction-search-filter-ng/dateRange.html\">\n      <div class=\"form-group\">\n        <label data-role=\"date-range-label\">{{ $ctrl.fieldLabels.dateRange }}</label>\n        <ui-bb-calendar-popup-ng\n          class=\"date-range-start\"\n          data-config=\"$ctrl.calendarPopupConfig\"\n          data-date-range=\"$ctrl.filterParams.dateRange\"\n          disabled=\"false\"\n          data-role=\"from-date\">\n        </ui-bb-calendar-popup-ng>\n      </div>\n    </script>\n\n    <!-- Categories -->\n    <script type=\"text/ng-template\" id=\"ui-bb-transaction-search-filter-ng/categories.html\">\n      <div data-ng-if=\"$ctrl.categories\">\n        <div class=\"form-group\">\n          <label data-role=\"category-label\">{{ $ctrl.fieldLabels.category }}</label>\n          <ui-bb-dropdown-select-ng\n            data-ng-model=\"$ctrl.filterParams.categories\"\n            data-multiple=\"true\"\n            data-template-url=\"ui-bb-transaction-search-filter-ng/categoryList.html\"\n            data-menu-class=\"dropdown-menu-no-checkmarks py-0\">\n            <ui-bb-list-ng class=\"d-block pre-scrollable\">\n              <div data-ng-repeat=\"category in $ctrl.categories\">\n                <ui-bb-dropdown-option-ng\n                  data-option=\"category\"\n                  data-arrow-navigation=\"true\"\n                  class=\"{{ category.subCategories ? 'card-header border-top' : '' }}\">\n                  <input type=\"checkbox\"\n                    value=\"{{ $option.id }}\"\n                    tabindex=\"-1\"\n                    data-ng-click=\"$ctrl.select(); $event.stopPropagation()\"\n                    data-ng-checked=\"$ctrl.isSelected()\"\n                    data-ng-disabled=\"$option.disabled\">\n                  <span aria-hidden=\"true\"\n                    class=\"bb-transaction-category bb-transaction-category-icon\n                      bb-transaction-category-icon-small {{ ::$option.categoryIconClass }}\">\n                  </span>\n                  {{ ::$option.categoryName }}\n                </ui-bb-dropdown-option-ng>\n                <div\n                  class=\"list-group list-group-flush\"\n                  data-ng-if=\"category.subCategories\">\n                  <ui-bb-dropdown-option-ng\n                    data-option=\"subCategory\"\n                    data-arrow-navigation=\"true\"\n                    data-ng-repeat=\"subCategory in category.subCategories\"\n                    class=\"list-group-item pl-5\">\n                    <input type=\"checkbox\"\n                      value=\"{{ $option.id }}\"\n                      tabindex=\"-1\"\n                      class=\"mr-2\"\n                      data-ng-click=\"$ctrl.select(); $event.stopPropagation()\"\n                      data-ng-checked=\"$ctrl.isSelected()\"\n                      data-ng-disabled=\"$option.disabled\">\n                    {{ ::$option.categoryName }}\n                  </ui-bb-dropdown-option-ng>\n                </div>\n              </div>\n            </ui-bb-list-ng>\n          </ui-bb-dropdown-select-ng>\n        </div>\n      </div>\n    </script>\n\n    <script type=\"text/ng-template\" id=\"ui-bb-transaction-search-filter-ng/categoryList.html\">\n      <span data-ng-repeat=\"category in $option\">\n        {{ category.categoryName }}{{ $last ? '' : ', ' }}\n      </span>\n    </script>\n\n    <!-- Check Serial Number -->\n    <script\n      type=\"text/ng-template\"\n      id=\"ui-bb-transaction-search-filter-ng/checkSerialNumberRange.html\">\n      <div data-ng-if=\"$ctrl.fieldLabels.checkSerialNumberRange\">\n        <label data-role=\"check-serial-number-range-label\">\n          {{ $ctrl.fieldLabels.checkSerialNumberRange }}\n        </label>\n        <div class=\"row\">\n          <div class=\"col-lg-6\">\n            <div class=\"form-group\">\n              <input\n                type=\"number\"\n                min=\"0\"\n                class=\"check-serial-number-range-start form-control\"\n                data-ng-model=\"$ctrl.filterParams.checkSerialNumberFrom\"\n                data-ng-keypress=\"$ctrl.validateAmountKeypress($event)\"\n                data-ng-paste=\"$ctrl.validateAmountPaste($event)\"\n                placeholder=\"{{ $ctrl.fieldLabels.checkSerialNumberFrom }}\"\n                title=\"{{ $ctrl.fieldLabels.checkSerialNumberFrom }}\"\n                data-role=\"check-serial-number-from\"/>\n            </div>\n          </div>\n          <div class=\"col-lg-6\">\n            <div class=\"form-group\">\n              <input\n                type=\"number\"\n                min=\"0\"\n                class=\"check-serial-number-range-end form-control\"\n                data-ng-model=\"$ctrl.filterParams.checkSerialNumberTo\"\n                data-ng-keypress=\"$ctrl.validateAmountKeypress($event)\"\n                data-ng-paste=\"$ctrl.validateAmountPaste($event)\"\n                placeholder=\"{{ $ctrl.fieldLabels.checkSerialNumberTo }}\"\n                title=\"{{ $ctrl.fieldLabels.checkSerialNumberTo }}\"\n                data-role=\"check-serial-number-to\"/>\n            </div>\n          </div>\n        </div>\n      </div>\n    </script>\n  `,\n};\n\nexport default uiBbTransactionSearchFilterComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-transaction-search-filter-ng/scripts/component.js","/* global angular */\nimport filterConstants, {\n  Filter,\n  defaultFilters,\n  creditDebitIndicators,\n  billingStatuses,\n} from './constants';\n\nexport default function uiBbTransactionSearchFilterController() {\n  /**\n   * @name uiBbTransactionSearchFilterController\n   * @ngkey uiBbTransactionSearchFilterController\n   * @type {object}\n   *\n   * @description\n   * TransactionSearch filter controller\n   */\n  const $ctrl = this;\n\n  /**\n   * @name uiBbTransactionSearchFilterController#state\n   * @type {object}\n   *\n   * @description\n   * State object.\n   */\n  const state = {\n    isFilterOpen: false,\n  };\n  /**\n   * @name uiBbTransactionSearchFilterController#immutableFilter\n   * @type {object}\n   * @inner\n   *\n   * @description\n   * Immutable filter parameters `immutableFilter` object.\n   */\n  const immutableFilter = { ...filterConstants };\n\n  /**\n   * @name uiBbTransactionSearchFilterController#filterParams\n   * @type {object}\n   *\n   * @description\n   * `filterParams` parameters object.\n   */\n  const filterParams = Object.assign({ query: '' }, angular.copy(immutableFilter));\n\n  const calendarPopupConfig = { minDate: '0', maxDate: new Date(), maxMode: 'year' };\n\n  /**\n   * @name creditDebitIndicatorOptions\n   * @type {object[]}\n   *\n   * @description\n   * Array of selectable Credit/Debit indicator options\n   */\n  let creditDebitIndicatorOptions;\n\n  /**\n   * @name billingStatusOptions\n   * @type {object[]}\n   *\n   * @description\n   * Array of selectable Billing status options\n   */\n  let billingStatusOptions;\n\n  /**\n   * @name uiBbTransactionSearchFilterController#toggleFilter\n   * @type {function}\n   * @returns {boolean} A status of filter component\n   *\n   * @description\n   * Toggle filter component.\n   */\n  const toggleFilter = () => (state.isFilterOpen = !state.isFilterOpen);\n\n  /**\n   * @name uiBbTransactionSearchFilterController#getNormalizedDate\n   * @type {function}\n   * @inner\n   * @returns {String|null} Date string or null\n   *\n   * @description\n   * Normalize date to required format.\n   */\n  const getNormalizedDate = (date) => {\n    if (date === null || date === undefined) {\n      return null;\n    }\n    const userOffset = date.getTimezoneOffset() * 60000;\n    return `${new Date(date - userOffset).toISOString().slice(0, 10)}`;\n  };\n\n  /**\n   * @name uiBbTransactionSearchFilterController#normalizeQueryParam\n   * @type {function}\n   * @inner\n   * @returns {String|null} Query parameter string or null\n   *\n   * @description\n   * Normalize search query param.\n   */\n  const normalizeQueryParam = param => (param === '' ? null : param);\n\n  /**\n   * @name uiBbTransactionSearchFilterController#normalizeCreditDebitIndicatorParam\n   * @type {function}\n   * @inner\n   * @returns {String|null} Selected value string or null\n   *\n   * @description\n   * Normalize creditDebitIndicator query param.\n   */\n  const normalizeCreditDebitIndicatorParam = param => (!param ? null : param.value);\n\n  /**\n   * @name uiBbTransactionSearchFilterController#normalizeBillingStatusParam\n   * @type {function}\n   * @inner\n   * @returns {String|null} Selected value string or null\n   *\n   * @description\n   * Normalize billingStatus query param.\n   */\n  const normalizeBillingStatusParam = param => (!param ? null : param.value);\n\n  /**\n   * @name uiBbTransactionSearchFilterController#normalizeCategoriesParam\n   * @type {function}\n   * @inner\n   * @returns {String[]|null} Array of categories or null\n   *\n   * @description\n   * Normalize categories query param.\n   */\n  const normalizeCategoriesParam = categoriesArray =>\n    (categoriesArray.length === 0 ? null : categoriesArray.map(category => category.categoryName));\n\n  /**\n   * @name uiBbTransactionSearchFilterController#getParams\n   * @type {function}\n   * @inner\n   * @returns {Object} Object with normalized filter parameters\n   *\n   * @description\n   * Get all filter params.\n   */\n  const getParams = () => Object.assign({}, {\n    query: normalizeQueryParam(filterParams.query),\n    fromDate: getNormalizedDate(filterParams.dateRange.startDate),\n    toDate: getNormalizedDate(filterParams.dateRange.endDate),\n    amountFrom: filterParams.amountFrom,\n    amountTo: filterParams.amountTo,\n    currency: filterParams.currency,\n    creditDebitIndicator: normalizeCreditDebitIndicatorParam(filterParams.creditDebitIndicator),\n    billingStatus: normalizeBillingStatusParam(filterParams.billingStatus),\n    categories: normalizeCategoriesParam(filterParams.categories),\n    checkSerialNumberFrom: filterParams.checkSerialNumberFrom,\n    checkSerialNumberTo: filterParams.checkSerialNumberTo,\n  });\n\n  /**\n   * @name uiBbTransactionSearchFilterController#resetFormState\n   * @type {function}\n   * @inner\n   *\n   * @description\n   * Reset form state method.\n   */\n  const resetFormState = form => {\n    if (form) {\n      form.$setUntouched();\n      form.$setPristine();\n    }\n  };\n\n  /**\n   * @name uiBbTransactionSearchFilterController#onApplyFilter\n   * @type {function}\n   *\n   * @description\n   * Call filter method.\n   */\n  const onApplyFilter = () => {\n    $ctrl.onFilter({ params: getParams() });\n  };\n\n  /**\n   * @name uiBbTransactionSearchFilterController#onClearFilter\n   * @type {function}\n   *\n   * @description\n   * Reset filter parameters.\n   */\n  const onClearFilter = (form) => {\n    Object.assign(filterParams, angular.copy(immutableFilter));\n\n    onApplyFilter(form);\n    resetFormState(form);\n  };\n\n  /**\n   * @name uiBbTransactionSearchFilterController#validateAmountKeypress\n   * @type {function}\n   * @param {KeyboardEvent} event - the browser event\n   *\n   * @description\n   * Validates the key pressed in the number input field.\n   * Prevents the event if the key is an invalid one (not a number)\n   * Allows arrow keys\n   */\n  const validateAmountKeypress = (event) => {\n    const validKey = event.metaKey // ctrl/alt/cmd\n      || event.which <= 0 // arrow keys\n      || event.which === 8 // delete key\n      || /[0-9]/.test(String.fromCharCode(event.which)); // numbers\n\n    if (!validKey) {\n      event.preventDefault();\n    }\n  };\n\n  /**\n   * @name uiBbTransactionSearchFilterController#validateAmountPaste\n   * @type {function}\n   * @param {KeyboardEvent} event - the browser event\n   *\n   * @description\n   * Validates the pasted value in the input field.\n   * Prevents the event if the value is an invalid one (not a number)\n   */\n  const validateAmountPaste = (event) => {\n    const pasteData = event.clipboardData.getData('text/plain');\n    if (pasteData.match(/[^0-9]/)) {\n      event.preventDefault();\n    }\n  };\n\n  /**\n   * @name uiBbTransactionSearchFilterController#isFormValid\n   * @type {function}\n   *\n   * @description\n   * Check if form state is pristine or invalid.\n   */\n  const isFormValid = (form) => (!form || form.$pristine || form.$invalid);\n\n  /**\n   * @name uiBbTransactionSearchFilterController#validateFilters\n   * @type {function}\n   * @inner\n   * @param {Array.<string>} filters List of filters\n   * @returns {Array.<string>} List of valid filters\n   *\n   * @description\n   * Check if filters passed to component are valid.  Removes unknown filters or returns default\n   * set of filters if empty.\n   */\n  const validateFilters = (filters) => {\n    if (filters.length === 0) {\n      return defaultFilters;\n    }\n\n    const validFilters = Object.values(Filter);\n    return filters.filter((filter) => validFilters.indexOf(filter) > -1);\n  };\n\n  const $onInit = () => {\n    $ctrl.filters = validateFilters($ctrl.filters || []);\n\n    $ctrl.creditDebitIndicatorOptions = creditDebitIndicators\n      .map((option) => Object.assign(option, {\n        label: $ctrl.fieldLabels ? $ctrl.fieldLabels[option.labelKey] : option.labelKey,\n        role: option.labelKey,\n      }));\n\n    $ctrl.billingStatusOptions = billingStatuses\n      .map((option) => Object.assign(option, {\n        label: $ctrl.fieldLabels ? $ctrl.fieldLabels[option.labelKey] : option.labelKey,\n        role: option.labelKey,\n      }));\n  };\n\n  Object.assign($ctrl, {\n    state,\n    calendarPopupConfig,\n    filterParams,\n    onApplyFilter,\n    onClearFilter,\n    toggleFilter,\n    isFormValid,\n    validateAmountKeypress,\n    validateAmountPaste,\n    creditDebitIndicatorOptions,\n    billingStatusOptions,\n    $onInit,\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-transaction-search-filter-ng/scripts/controller.js","/**\n * @name filterConstants\n * @type {object}\n *\n * @description\n * `filterConstants` parameters object.\n */\nconst filterConstants = {\n  amountFrom: null,\n  amountTo: null,\n  currency: null,\n  dateRange: {\n    startDate: null,\n    endDate: null,\n  },\n  creditDebitIndicator: null,\n  billingStatus: null,\n  categories: [],\n  checkSerialNumberFrom: null,\n  checkSerialNumberTo: null,\n};\n\n/**\n * @name Filter\n * @type {object}\n *\n * @description\n * Filter enum\n */\nexport const Filter = {\n  CREDIT_DEBIT_INDICATOR: 'creditDebitIndicator',\n  BILLING_STATUS: 'billingStatus',\n  CURRENCY: 'currency',\n  AMOUNT_RANGE: 'amountRange',\n  DATE_RANGE: 'dateRange',\n  CATEGORIES: 'categories',\n  CHECK_SERIAL_NUMBER_RANGE: 'checkSerialNumberRange',\n};\n\n/**\n * @name defaultFilters\n * @type {Array.<string>}\n */\nexport const defaultFilters = [\n  Filter.CREDIT_DEBIT_INDICATOR,\n  Filter.BILLING_STATUS,\n  Filter.AMOUNT_RANGE,\n  Filter.DATE_RANGE,\n  Filter.CATEGORIES,\n  Filter.CHECK_SERIAL_NUMBER_RANGE,\n];\n\n/**\n * @name creditDebitIndicators\n * @type {Array.<object>}\n *\n * @description\n * Available options in creditDebitIndicator dropdown\n */\nexport const creditDebitIndicators = [\n  {\n    labelKey: 'credit',\n    value: 'CRDT',\n  },\n  {\n    labelKey: 'debit',\n    value: 'DBIT',\n  },\n];\n\n/**\n * @name billingStatuses\n * @type {Array.<object>}\n *\n * @description\n * Available options in billingStatus dropdown\n */\nexport const billingStatuses = [\n  {\n    labelKey: 'billing.status.label.billed',\n    value: 'BILLED',\n  },\n  {\n    labelKey: 'billing.status.label.unbilled',\n    value: 'UNBILLED',\n  },\n  {\n    labelKey: 'billing.status.label.pending',\n    value: 'PENDING',\n  },\n];\n\nexport default filterConstants;\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-transaction-search-filter-ng/scripts/constants.js"],"sourceRoot":""}