{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6*************","webpack:///webpack/bootstrap a983de776e3686600b94?4bc9*************","webpack:///./ext-bus-balance-history-ng/model.xml","webpack:///external \"vendor-bb-angular-ng-aria\"?9d0e******","webpack:///external \"ui-bb-substitute-error-ng\"?f57a*****","webpack:///external \"ui-bb-i18n-ng\"?dc01************","webpack:///external \"ui-bb-empty-state-ng\"?88ee****","webpack:///external \"vendor-bb-uib-tooltip\"?1524*","webpack:///external \"ui-bus-format-amount-ng\"?331c**","webpack:///external \"ui-bb-chartjs-chart-line-ng\"?be7e*","webpack:///external \"ui-bb-navigate-to-ng\"?7691*","webpack:///external \"ui-bb-loading-overlay-ng\"?3561***","webpack:///external \"lib-bb-styles\"?c155*","webpack:///external \"ui-bb-sortable-column-ng\"?59ae","webpack:///external \"ui-bb-load-more-ng\"?8f52","webpack:///external \"ui-bb-paginator-ng\"?0892","webpack:///./ext-bus-balance-history-ng/scripts/index.js","webpack:///external \"ui-bb-calendar-popup-ng\"","webpack:///./ext-bus-balance-history-ng/scripts/helpers.js","webpack:///./ext-bus-balance-history-ng/scripts/constants.js","webpack:///./ext-bus-balance-history-ng/scripts/hooks.js","webpack:///./ext-bus-balance-history-ng/scripts/balance-history-process.js"],"names":["extHooks","dependencyKeys","ngAriaModuleKey","uiBBTooltipKey","uiBbSubstituteErrorKey","i18nKey","uiBusFormatAmountKey","uiBbEmptyStateKey","uiBbPaginatorKey","uiBbLoadMoreKey","uiBbSortableColumnKey","uiBbChartjsChartLineKey","uiBbCalendarPopupKey","uiBbNavigateToKey","uiBbLoadingOverlayKey","hooks","helpers","extHelpers","context","dateFilter","$filter","i18nFilter","headers","label","sortable","key","direction","class","filterParams","dateRange","startDate","endDate","balanceHistoryParams","timePeriod","buttonFilters","filter","isSortableActive","$ctrl","state","accounts","orderBy","isPaginationTypeMatch","type","paginationType","isEmptyArray","value","Array","isArray","Boolean","length","lineChartOptionsInner","legend","display","tooltips","enabled","displayColors","callbacks","title","tooltipItem","yLabel","xLabel","scales","yAxes","gridLines","zeroLineColor","CSS_SELECTORS","yAxisZeroColor","zeroLineWidth","CHART_OPTIONS","xAxes","ticks","callback","layout","padding","paddings","responsive","maintainAspectRatio","calendarPopupConfig","minDate","maxDate","Date","maxMode","getMaxMinLegend","dataSeries","max","Math","map","item","balance","min","lineChartOptions","currency","selected","toFixed","chartPlugins","afterInit","chartInstance","bus","subscribe","CXP_EVENTS","ON_PANEL_LOAD","Object","assign","canvas","style","height","update","render","animation_time","setTimeout","resize","beforeInit","options","clearBalanceHistoryFilter","applyBalanceHistoryFilter","DEFAULT_FILTER_TIME_PERIOD","accountsIds","data","account","id","loadHistoryBalance","applyBalanceHistoryDateFilter","handleErrors","errors","e","join","CHART_DATASET_OPTION","POINT_RADIUS","POINT_HIT_RADIUS","LINE_TENSION","historyBalanceColorPositive","historyBalanceBgPositive","yAxesgridLinescolor","tickMarkLength","top","processBalanceHistorySeries","balanceHistorySeries","historyBalanceChartColorPositive","historyBalanceChartBgPositive","historyBalanceSeriesPrototype","borderColor","backgroundColor","pointBorderColor","pointBackgroundColor","pointBorderWidth","pointRadius","pointHitRadius","lineTension","fill","borderWidth","historyData","keys","arrangementId","datasets","p"],"mappings":"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","file":"ext-bus-balance-history-ng/scripts/ext-bus-balance-history-ng.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vendor-bb-angular-ng-aria\"), require(\"ui-bb-substitute-error-ng\"), require(\"ui-bb-i18n-ng\"), require(\"ui-bb-empty-state-ng\"), require(\"vendor-bb-uib-tooltip\"), require(\"ui-bus-format-amount-ng\"), require(\"ui-bb-chartjs-chart-line-ng\"), require(\"ui-bb-navigate-to-ng\"), require(\"ui-bb-loading-overlay-ng\"), require(\"lib-bb-styles\"), require(\"ui-bb-sortable-column-ng\"), require(\"ui-bb-load-more-ng\"), require(\"ui-bb-paginator-ng\"), require(\"ui-bb-calendar-popup-ng\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ext-bus-balance-history-ng\", [\"vendor-bb-angular-ng-aria\", \"ui-bb-substitute-error-ng\", \"ui-bb-i18n-ng\", \"ui-bb-empty-state-ng\", \"vendor-bb-uib-tooltip\", \"ui-bus-format-amount-ng\", \"ui-bb-chartjs-chart-line-ng\", \"ui-bb-navigate-to-ng\", \"ui-bb-loading-overlay-ng\", \"lib-bb-styles\", \"ui-bb-sortable-column-ng\", \"ui-bb-load-more-ng\", \"ui-bb-paginator-ng\", \"ui-bb-calendar-popup-ng\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ext-bus-balance-history-ng\"] = factory(require(\"vendor-bb-angular-ng-aria\"), require(\"ui-bb-substitute-error-ng\"), require(\"ui-bb-i18n-ng\"), require(\"ui-bb-empty-state-ng\"), require(\"vendor-bb-uib-tooltip\"), require(\"ui-bus-format-amount-ng\"), require(\"ui-bb-chartjs-chart-line-ng\"), require(\"ui-bb-navigate-to-ng\"), require(\"ui-bb-loading-overlay-ng\"), require(\"lib-bb-styles\"), require(\"ui-bb-sortable-column-ng\"), require(\"ui-bb-load-more-ng\"), require(\"ui-bb-paginator-ng\"), require(\"ui-bb-calendar-popup-ng\"));\n\telse\n\t\troot[\"ext-bus-balance-history-ng\"] = factory(root[\"vendor-bb-angular-ng-aria\"], root[\"ui-bb-substitute-error-ng\"], root[\"ui-bb-i18n-ng\"], root[\"ui-bb-empty-state-ng\"], root[\"vendor-bb-uib-tooltip\"], root[\"ui-bus-format-amount-ng\"], root[\"ui-bb-chartjs-chart-line-ng\"], root[\"ui-bb-navigate-to-ng\"], root[\"ui-bb-loading-overlay-ng\"], root[\"lib-bb-styles\"], root[\"ui-bb-sortable-column-ng\"], root[\"ui-bb-load-more-ng\"], root[\"ui-bb-paginator-ng\"], root[\"ui-bb-calendar-popup-ng\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_10__, __WEBPACK_EXTERNAL_MODULE_15__, __WEBPACK_EXTERNAL_MODULE_61__, __WEBPACK_EXTERNAL_MODULE_62__, __WEBPACK_EXTERNAL_MODULE_63__, __WEBPACK_EXTERNAL_MODULE_64__, __WEBPACK_EXTERNAL_MODULE_66__, __WEBPACK_EXTERNAL_MODULE_80__, __WEBPACK_EXTERNAL_MODULE_81__, __WEBPACK_EXTERNAL_MODULE_82__, __WEBPACK_EXTERNAL_MODULE_93__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a983de776e3686600b94","module.exports = require(\"./scripts/index.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ext-bus-balance-history-ng/model.xml\n// module id = 0\n// module chunks = 14","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor-bb-angular-ng-aria\"\n// module id = 2\n// module chunks = 0 1 2 3 5 10 13 14","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-substitute-error-ng\"\n// module id = 5\n// module chunks = 0 1 5 10 12 13 14","module.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-i18n-ng\"\n// module id = 8\n// module chunks = 0 1 2 4 5 6 7 8 9 10 11 12 13 14","module.exports = __WEBPACK_EXTERNAL_MODULE_10__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-empty-state-ng\"\n// module id = 10\n// module chunks = 0 1 10 12 13 14","module.exports = __WEBPACK_EXTERNAL_MODULE_15__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor-bb-uib-tooltip\"\n// module id = 15\n// module chunks = 1 10 14","module.exports = __WEBPACK_EXTERNAL_MODULE_61__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bus-format-amount-ng\"\n// module id = 61\n// module chunks = 10 11 13 14","module.exports = __WEBPACK_EXTERNAL_MODULE_62__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-chartjs-chart-line-ng\"\n// module id = 62\n// module chunks = 10 13 14","module.exports = __WEBPACK_EXTERNAL_MODULE_63__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-navigate-to-ng\"\n// module id = 63\n// module chunks = 10 12 14","module.exports = __WEBPACK_EXTERNAL_MODULE_64__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-loading-overlay-ng\"\n// module id = 64\n// module chunks = 10 11 12 13 14","module.exports = __WEBPACK_EXTERNAL_MODULE_66__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lib-bb-styles\"\n// module id = 66\n// module chunks = 10 13 14","module.exports = __WEBPACK_EXTERNAL_MODULE_80__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-sortable-column-ng\"\n// module id = 80\n// module chunks = 13 14","module.exports = __WEBPACK_EXTERNAL_MODULE_81__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-load-more-ng\"\n// module id = 81\n// module chunks = 13 14","module.exports = __WEBPACK_EXTERNAL_MODULE_82__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-paginator-ng\"\n// module id = 82\n// module chunks = 13 14","/**\n * @module ext-bus-balance-history-ng\n *\n * @description\n * Balance history\n *\n */\nimport ngAriaModuleKey from 'vendor-bb-angular-ng-aria';\nimport uiBBTooltipKey from 'vendor-bb-uib-tooltip';\nimport uiBbSubstituteErrorKey from 'ui-bb-substitute-error-ng';\nimport i18nKey from 'ui-bb-i18n-ng';\nimport uiBusFormatAmountKey from 'ui-bus-format-amount-ng';\nimport uiBbEmptyStateKey from 'ui-bb-empty-state-ng';\nimport uiBbPaginatorKey from 'ui-bb-paginator-ng';\nimport uiBbLoadMoreKey from 'ui-bb-load-more-ng';\nimport uiBbSortableColumnKey from 'ui-bb-sortable-column-ng';\nimport uiBbChartjsChartLineKey from 'ui-bb-chartjs-chart-line-ng';\nimport uiBbCalendarPopupKey from 'ui-bb-calendar-popup-ng';\nimport uiBbNavigateToKey from 'ui-bb-navigate-to-ng';\nimport uiBbLoadingOverlayKey from 'ui-bb-loading-overlay-ng';\n\nimport extHelpers from './helpers';\nimport * as extHooks from './hooks';\n\nexport const dependencyKeys = [\n  ngAriaModuleKey,\n  uiBBTooltipKey,\n  uiBbSubstituteErrorKey,\n  i18nKey,\n  uiBusFormatAmountKey,\n  uiBbEmptyStateKey,\n  uiBbPaginatorKey,\n  uiBbLoadMoreKey,\n  uiBbSortableColumnKey,\n  uiBbChartjsChartLineKey,\n  uiBbCalendarPopupKey,\n  uiBbNavigateToKey,\n  uiBbLoadingOverlayKey,\n];\n\nexport const hooks = extHooks;\n\nexport const helpers = extHelpers;\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bus-balance-history-ng/scripts/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_93__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-calendar-popup-ng\"\n// module id = 93\n// module chunks = 14","import getStyle from 'lib-bb-styles';\nimport {\n  CSS_SELECTORS,\n  CHART_OPTIONS,\n  CXP_EVENTS,\n  DEFAULT_FILTER_TIME_PERIOD,\n } from './constants';\n\nconst helpers = (context) => {\n  const dateFilter = context.$filter('date');\n  const i18nFilter = context.$filter('i18n');\n\n/**\n * @description\n * Table headers configuration\n * @type {Array}\n * @name headers\n */\n  const headers = [{\n    label: 'accounts.header.date',\n    sortable: {\n      key: 'name',\n      direction: 'ASC',\n    },\n  }, {\n    label: 'accounts.header.currency',\n    sortable: {\n      key: 'currency',\n      direction: 'DESC',\n    },\n  }, {\n    label: 'accounts.header.balance',\n    class: 'text-right',\n    sortable: {\n      key: 'bookedBalance',\n      direction: 'DESC',\n    },\n  }];\n\n  /**\n   * @description\n   * Balance History filter params for in date-picker\n   * @type {Object}\n   * @name balanceHistoryParams\n   */\n  const filterParams = {\n    dateRange: {\n      startDate: null,\n      endDate: null,\n    },\n  };\n\n  /**\n   * @description\n   * Balance History params\n   * @type {Object}\n   * @name balanceHistoryParams\n   */\n  const balanceHistoryParams = {\n    startDate: null,\n    endDate: null,\n    timePeriod: null,\n  };\n\n/**\n * @description\n * Filter buttons configuration\n * @type {Array}\n * @name headers\n */\n  const buttonFilters = [{\n    label: 'accounts.button.filter.day',\n    filter: 'lastDay',\n  }, {\n    label: 'accounts.button.filter.week',\n    filter: 'lastWeek',\n  }, {\n    label: 'accounts.button.filter.month',\n    filter: 'lastMonth',\n  }, {\n    label: 'accounts.button.filter.year',\n    filter: 'lastYear',\n  }];\n\n/**\n * @description\n * Checks if the sortable column is the current one, table is sorted by the\n * active column\n * @name isSortableActive\n * @type {function}\n * @param  {object} sortable Sortable configuration\n * @param  {object} $ctrl    Current controller\n * @return {boolean}         True if table is sorted by the column, false otherwise\n */\n  const isSortableActive = (sortable, $ctrl) => sortable.key === $ctrl.state.accounts.orderBy;\n\n/**\n * @description\n * Checks if actual pagination type matches the one, defined in properties\n *\n * @public\n * @name isPaginationTypeMatch\n * @type {function}\n * @param {function} $ctrl      Current controller\n * @param {string} type         Description of pagination type (pagination, load-more)\n *\n * @returns {boolean}\n */\n  const isPaginationTypeMatch = ($ctrl, type) =>\n    $ctrl.state.accounts.paginationType === type;\n\n/**\n * @description\n * Checks if it is an array and it is empty\n * @name isEmptyArray\n * @type {function}\n * @param {*} value The value to check\n * @return {boolean}\n */\n  const isEmptyArray = (value) => !(Array.isArray(value) && Boolean(value.length));\n\n  /**\n   * @description\n   * Configuration object of balance history chart\n   *\n   * @inner\n   * @name lineChartOptionsInner\n   * @type {object}\n   * @returns {object} Configuration object of performance chart\n   */\n  const lineChartOptionsInner = {\n    legend: {\n      display: false,\n    },\n    tooltips: {\n      enabled: true,\n      displayColors: false,\n      callbacks: {\n        title() {\n        },\n        label(tooltipItem) {\n          return `(${tooltipItem.yLabel})  ${dateFilter(tooltipItem.xLabel, 'mediumDate')}`;\n        },\n      },\n    },\n    scales: {\n      yAxes: [{\n        gridLines: {\n          display: true,\n          zeroLineColor: getStyle(CSS_SELECTORS.yAxisZeroColor, 'color'),\n          zeroLineWidth: CHART_OPTIONS.zeroLineWidth,\n        },\n      }],\n      xAxes: [{\n        ticks: {\n          callback(label) {\n            return `${dateFilter(label, 'short')}`;\n          },\n        },\n      }],\n    },\n    layout: {\n      padding: CHART_OPTIONS.paddings,\n    },\n    responsive: true,\n    maintainAspectRatio: false,\n  };\n\n  const calendarPopupConfig = { minDate: '0', maxDate: new Date(), maxMode: 'year' };\n\n  /**\n   * @description\n   * Find max and min for given data series of balance history\n   *\n   * @public\n   * @name getMaxMinLegend\n   * @type {function}\n   * @param {array} dataSeries Balance histiry data series\n   * @return {Object} with max and min\n   */\n  const getMaxMinLegend = (dataSeries) => ({\n    max: Math.max(\n      ...dataSeries.map((item) => item.value.balance)\n    ),\n    min: Math.min(\n      ...dataSeries.map((item) => item.value.balance)\n    ),\n  });\n\n  /**\n   * @description\n   * Configuration of balance history chart\n   *\n   * @public\n   * @name lineChartOptions\n   * @type {function}\n   * @returns {object} Configuration of performance chart\n   */\n  const lineChartOptions = ($ctrl) => {\n    const currency = $ctrl.state.accounts.selected.currency;\n    lineChartOptionsInner.tooltips.callbacks.label = (tooltipItem) =>\n    // eslint-disable-next-line max-len\n      `(${currency} ${tooltipItem.yLabel.toFixed(2)}) ${dateFilter(tooltipItem.xLabel, 'mediumDate')}`;\n    return lineChartOptionsInner;\n  };\n\n  /**\n   * @description\n   * Array of plugins used to transform Chart.js rendering in the extension\n   *\n   * @name chartPlugins\n   * @type {array}\n   */\n  const chartPlugins = [\n    {\n      afterInit: (chartInstance) => {\n        context.bus.subscribe(CXP_EVENTS.ON_PANEL_LOAD, () => {\n          Object.assign(chartInstance.canvas.style, { height: CHART_OPTIONS.height });\n          chartInstance.update();\n          chartInstance.render(CHART_OPTIONS.animation_time, true);\n          setTimeout(() => chartInstance.resize(), 0);\n        });\n      },\n      beforeInit: (chartInstance) => {\n        Object.assign(chartInstance.options, { maintainAspectRatio: false });\n      },\n    },\n  ];\n\n  /**\n   * @description\n   * Reset balance history date range filter\n   *\n   * @inner\n   * @name clearBalanceHistoryFilter\n   * @type {function}\n   */\n  const clearBalanceHistoryFilter = () => {\n    Object.assign(filterParams, {\n      dateRange: {\n        startDate: null,\n        endDate: null,\n      },\n    });\n  };\n\n  /**\n   * @description\n   * Get Balance history filtered by time period enumerators\n   *\n   * @name applyBalanceHistoryFilter\n   * @param {function} $ctrl      Current controller\n   * @param {String} timePeriod    time period enum\n   * ('lastDay', 'lastWeek', 'lastMonth', 'lastYear', 'all')\n   * @type {function}\n   * @returns {Promise.<module:model-bb-product-summary-ng.BalanceHistory, ModelError>}\n   * Balance history data for given arrengements ids filtered\n   */\n  const applyBalanceHistoryFilter = ($ctrl, timePeriod = DEFAULT_FILTER_TIME_PERIOD) => {\n    const accountsIds = $ctrl.state.accounts.data.map((account) => account.id);\n    clearBalanceHistoryFilter();\n    Object.assign(balanceHistoryParams, {\n      startDate: null,\n      endDate: null,\n      timePeriod,\n    });\n\n    $ctrl.loadHistoryBalance(accountsIds, balanceHistoryParams);\n  };\n\n  /**\n   * @description\n   * Get Balance history filtered by time period from date picker filter\n   *\n   * @name applyBalanceHistoryDateFilter\n   * @param {function} $ctrl      Current controller\n   * @param {String} timePeriod    time period enum\n   * ('lastDay', 'lastWeek', 'lastMonth', 'lastYear', 'all')\n   * @type {function}\n   * @returns {Promise.<module:model-bb-product-summary-ng.BalanceHistory, ModelError>}\n   * Balance history data for given arrengements ids filtered\n   */\n  const applyBalanceHistoryDateFilter = ($ctrl) => {\n    const accountsIds = $ctrl.state.accounts.data.map((account) => account.id);\n\n    Object.assign(balanceHistoryParams, {\n      startDate: filterParams.dateRange.startDate,\n      endDate: filterParams.dateRange.endDate,\n      timePeriod: null,\n    });\n\n    $ctrl.loadHistoryBalance(accountsIds, balanceHistoryParams);\n  };\n\n  /**\n   * @description\n   * Handles one or multiple errors messages, mapping error key with propper message\n   *\n   * @name handleErrors\n   * @type {function}\n   * @param {array} errors\n   * @returns {string} message\n   */\n  const handleErrors = (errors) => {\n    if (!errors) {\n      return null;\n    }\n    return errors.map((e) => i18nFilter(e)).join(' ');\n  };\n\n  return {\n    dateFilter,\n    headers,\n    buttonFilters,\n    isSortableActive,\n    isPaginationTypeMatch,\n    isEmptyArray,\n    lineChartOptions,\n    calendarPopupConfig,\n    getMaxMinLegend,\n    chartPlugins,\n    filterParams,\n    applyBalanceHistoryFilter,\n    applyBalanceHistoryDateFilter,\n    handleErrors,\n  };\n};\n\nexport default helpers;\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bus-balance-history-ng/scripts/helpers.js","/**\n * @description\n * chart data set options constants\n * @type {Object}\n * @name CHART_DATASET_OPTION\n */\nexport const CHART_DATASET_OPTION = {\n  POINT_RADIUS: 2,\n  POINT_HIT_RADIUS: 2,\n  LINE_TENSION: 0.02,\n};\n\n/**\n * @description\n * chart css property value selectors\n * @type {Object}\n * @name CSS_SELECTORS\n */\nexport const CSS_SELECTORS = {\n  historyBalanceColorPositive: '.chart-line-card-positive-color',\n  historyBalanceBgPositive: '.chart-line-card-positive-background',\n  yAxisZeroColor: '.chart-line-card-y-axis-zero-color',\n  yAxesgridLinescolor: '.chart-line-card-y-axes-grid-color',\n};\n\n/**\n * @description\n * chart options constants\n * @type {Object}\n * @name CHART_OPTIONS\n */\nexport const CHART_OPTIONS = {\n  zeroLineWidth: 1,\n  tickMarkLength: 0,\n  paddings: {\n    top: 5,\n  },\n  animation_time: 500,\n  height: '30vh',\n};\n\n/**\n * CXP events enum\n * @type {object}\n */\nexport const CXP_EVENTS = {\n  ON_PANEL_LOAD: 'view.chart.on.panel.loaded.event.history',\n};\n\n/**\n * Default filter time period\n * @type {String}\n */\nexport const DEFAULT_FILTER_TIME_PERIOD = 'lastWeek';\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bus-balance-history-ng/scripts/constants.js","/* eslint-disable import/prefer-default-export */\n\nimport balanceHistoryProcess from './balance-history-process';\n\n/**\n * @name Hooks#processBalanceHistorySeries\n * @type {Function}\n *\n * @description\n * Prepare History Balance data for chart\n * @param {module:data-bb-arrangements-http-ng.BalanceHistorySeries} data balance history data\n * @returns {Array.<Object>} transfomed history data suitable for chart implementation\n */\nexport const processBalanceHistorySeries = (balanceHistorySeries) =>\n  balanceHistoryProcess(balanceHistorySeries);\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bus-balance-history-ng/scripts/hooks.js","/* global angular */\nimport getStyle from 'lib-bb-styles';\nimport { CHART_DATASET_OPTION, CSS_SELECTORS } from './constants';\n\nconst historyBalanceChartColorPositive =\n  getStyle(CSS_SELECTORS.historyBalanceColorPositive, 'color');\nconst historyBalanceChartBgPositive =\n  getStyle(CSS_SELECTORS.historyBalanceBgPositive, 'background-color');\n\n/**\n * @description\n * Prototype for history Balance series\n *\n * @private\n * @name historyBalanceSeriesPrototype\n * @type {object}\n *\n */\nconst historyBalanceSeriesPrototype =\n  {\n    borderColor: historyBalanceChartColorPositive,\n    backgroundColor: historyBalanceChartBgPositive,\n    pointBorderColor: historyBalanceChartColorPositive,\n    pointBackgroundColor: historyBalanceChartColorPositive,\n    pointBorderWidth: 0,\n    pointRadius: CHART_DATASET_OPTION.POINT_RADIUS,\n    pointHitRadius: CHART_DATASET_OPTION.POINT_HIT_RADIUS,\n    lineTension: CHART_DATASET_OPTION.LINE_TENSION,\n    fill: 'start',\n    borderWidth: 1,\n  };\n\n/**\n * Prepare Data from balance history, that can be used in Balance history line charts\n *\n * @inner\n * @param {object} historyData {BalanceHistorySeries},\n * Data in format suitable for chart UI components\n *\n * Source from the API balance history\n * @returns {BalanceHistoryChartData}\n */\nexport default (historyData) => {\n  Object.keys(historyData).map(arrangementId =>\n    historyData[arrangementId].datasets.map(p => Object.assign(p, historyBalanceSeriesPrototype))\n  );\n  return historyData;\n};\n\n/**\n * @typedef  {Object} BalanceHistoryChartData\n * @property {string} arrangementId Arrangement Id for mapping balance history\n * @property {number[]} label label data for x-axis\n * @property {Array.<DataSets>} datasets label data for x-axis\n */\n\n/**\n * @typedef {Object} DataSets\n * @property {string} borderColor Border color for data set\n * @property {string} backgroundColor Area Fill Background color\n * @property {string[]} pointBorderColor Border color for each point\n * @property {string[]} pointBackgroundColor Background color for each point\n * @property {string[]} pointRadius Radius value for each point\n * @property {string} pointBorderWidth Point border width\n * @property {string} pointHitRadius Radius width for point hit\n * @property {string} lineTension A line tension value on line graphs\n * @property {boolean} fill fill the line chart (true/false)\n * @property {Array.<DataSetXY>} data Data that is shown on x/y axis\n */\n\n/**\n * @typedef  {Object} DataSetXY\n * @property {string} x X-axis value ticks\n * @property {string} y Y-axis value ticks\n */\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bus-balance-history-ng/scripts/balance-history-process.js"],"sourceRoot":""}