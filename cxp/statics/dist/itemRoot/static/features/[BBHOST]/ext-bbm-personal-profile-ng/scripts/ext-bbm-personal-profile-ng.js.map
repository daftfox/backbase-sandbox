{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6*****","webpack:///webpack/bootstrap 7b758f5beecfb03dfb32?fb10*****","webpack:///./ext-bbm-personal-profile-ng/model.xml","webpack:///external \"ui-bb-avatar-ng\"?29da","webpack:///external \"ui-bb-i18n-ng\"?dc01***","webpack:///./ext-bbm-personal-profile-ng/scripts/index.js","webpack:///./ext-bbm-personal-profile-ng/scripts/helpers.js","webpack:///./ext-bbm-personal-profile-ng/scripts/intents.js","webpack:///./ext-bbm-personal-profile-ng/scripts/constants.js"],"names":["helpers","extHelpers","intents","extIntents","dependencyKeys","uiBbAvatarKey","uiBbI18nKey","stateContainer","service","processUser","user","getLoading","createSelector","state","loading","getLoadingError","error","getUserData","data","hasUser","Boolean","getProcessedUser","showLoadingState","showErrorState","showAddPhoneForm","setInitialPhoneForm","showAddEmailForm","setInitialEmailForm","showEditPhoneForm","phone","phoneIdx","phoneCopy","angular","copy","selectPhone","setPhoneForm","showEditEmailForm","email","emailIdx","emailCopy","selectEmail","setEmailForm","createRequest","handleRequest","showPersonalProfileDetails","Intent","SHOW_PERSONAL_PROFILE_DETAILS","SHOW_ADD_EMAIL_FORM","SHOW_ADD_PHONE_FORM","SHOW_EDIT_EMAIL_FORM","SHOW_EDIT_PHONE_FORM"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;ACtCA,0C;;;;;;;ACAA,gD;;;;;;;ACAA,gD;;;;;;;;;;;;;;ACYA;;;;AACA;;;;AAEA;;;;AACA;;;;;;AAhBA;;;;;;;;;;;;AAkBO,KAAMA,4BAAUC,iBAAhB;AACA,KAAMC,4BAAUC,iBAAhB;;AAEA,KAAMC,0CAAiB,CAC5BC,sBAD4B,EAE5BC,oBAF4B,CAAvB,C;;;;;;;;;;;;;ACrBP;AACA;;;;;;;mBAOe,gBAA0C;AAAA,OAAvCC,cAAuC,QAAvCA,cAAuC;AAAA,OAAvBC,OAAuB,QAAvBA,OAAuB;AAAA,OAAdN,OAAc,QAAdA,OAAc;;AACvD;;;;;;;;;AASA,OAAMO,cAAc,SAAdA,WAAc;AAAA,YAAQC,IAAR;AAAA,IAApB;;AAEA;;;;;;;;AAQA,OAAMC,aAAaJ,eAAeK,cAAf,CAA8B;AAAA,YAASC,MAAMH,IAAN,CAAWI,OAApB;AAAA,IAA9B,CAAnB;;AAEA;;;;;;;;AAQA,OAAMC,kBAAkBR,eAAeK,cAAf,CAA8B;AAAA,YAASC,MAAMH,IAAN,CAAWM,KAApB;AAAA,IAA9B,CAAxB;;AAEA;;;;;;;;AAQA,OAAMC,cAAcV,eAAeK,cAAf,CAA8B;AAAA,YAASC,MAAMH,IAAN,CAAWQ,IAApB;AAAA,IAA9B,CAApB;;AAEA;;;;;;;AAOA,OAAMC,UAAU,SAAVA,OAAU;AAAA,YACdC,QAAQH,aAAR,CADc;AAAA,IAAhB;;AAIA;;;;;;;AAOA,OAAMI,mBAAmBd,eAAeK,cAAf,CAA8B;AAAA,YACrDC,MAAMH,IAAN,CAAWQ,IAAX,GAAkBT,YAAYI,MAAMH,IAAN,CAAWQ,IAAvB,CAAlB,GAAiD,IADI;AAAA,IAA9B,CAAzB;;AAIA;;;;;;;AAOA,OAAMI,mBAAmB,SAAnBA,gBAAmB;AAAA,YACvBX,gBAAgB,CAACQ,SADM;AAAA,IAAzB;;AAIA;;;;;;;AAOA,OAAMI,iBAAiB,SAAjBA,cAAiB;AAAA,YACrBR,qBAAqB,CAACJ,YADD;AAAA,IAAvB;;AAIA;;;;;;;AAOA,OAAMa,mBAAmB,SAAnBA,gBAAmB,GAAM;AAC7BhB,aAAQiB,mBAAR;AACAvB,aAAQsB,gBAAR;AACD,IAHD;;AAKA;;;;;;;AAOA,OAAME,mBAAmB,SAAnBA,gBAAmB,GAAM;AAC7BlB,aAAQmB,mBAAR;AACAzB,aAAQwB,gBAAR;AACD,IAHD;;AAKA;;;;;;;;;AASA,OAAME,oBAAoB,SAApBA,iBAAoB,CAACC,KAAD,EAAQC,QAAR,EAAqB;AAC7C,SAAMC,YAAYC,QAAQC,IAAR,CAAaJ,KAAb,CAAlB;;AAEArB,aAAQ0B,WAAR,CAAoBJ,QAApB;AACAtB,aAAQ2B,YAAR,CAAqBJ,SAArB;AACA7B,aAAQ0B,iBAAR,CAA0BG,SAA1B;AACD,IAND;;AAQA;;;;;;;;;AASA,OAAMK,oBAAoB,SAApBA,iBAAoB,CAACC,KAAD,EAAQC,QAAR,EAAqB;AAC7C,SAAMC,YAAYP,QAAQC,IAAR,CAAaI,KAAb,CAAlB;;AAEA7B,aAAQgC,WAAR,CAAoBF,QAApB;AACA9B,aAAQiC,YAAR,CAAqBF,SAArB;AACArC,aAAQkC,iBAAR,CAA0BG,SAA1B;AACD,IAND;;AAQA,UAAO;AACLpB,qBADK;AAELE,uCAFK;AAGLC,uCAHK;AAILC,mCAJK;AAKLC,uCALK;AAMLE,uCANK;AAOLE,yCAPK;AAQLQ;AARK,IAAP;AAUD,E;;;;;;;;;;;;;AClKD;;AAEA;;;;mBAIe;AAAA,OAAGM,aAAH,QAAGA,aAAH;AAAA,OAAkBC,aAAlB,QAAkBA,aAAlB;AAAA,UAAuC;AACpD;;;;;AAKAC,iCAA4BD,cAAcE,kBAAOC,6BAArB,EAAoD,YAAM,CAAG,CAA7D,CANwB;;AAQpD;;;;;AAKApB,uBAAkBgB,cAAcG,kBAAOE,mBAArB,CAbkC;;AAepD;;;;;AAKAvB,uBAAkBkB,cAAcG,kBAAOG,mBAArB,CApBkC;;AAsBpD;;;;;AAKAZ,wBAAmBM,cAAcG,kBAAOI,oBAArB,CA3BiC;;AA6BpD;;;;;AAKArB,wBAAmBc,cAAcG,kBAAOK,oBAArB;AAlCiC,IAAvC;AAAA,E;;;;;;;;;;;;ACNf;AACA;;;;;;AAMO,KAAML,0BAAS;AACpBC,kCAA+B,yCADX;AAEpBI,yBAAsB,uCAFF;AAGpBD,yBAAsB,uCAHF;AAIpBD,wBAAqB,sCAJD;AAKpBD,wBAAqB;AALD,EAAf,C","file":"ext-bbm-personal-profile-ng/scripts/ext-bbm-personal-profile-ng.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"ui-bb-avatar-ng\"), require(\"ui-bb-i18n-ng\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ext-bbm-personal-profile-ng\", [\"ui-bb-avatar-ng\", \"ui-bb-i18n-ng\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ext-bbm-personal-profile-ng\"] = factory(require(\"ui-bb-avatar-ng\"), require(\"ui-bb-i18n-ng\"));\n\telse\n\t\troot[\"ext-bbm-personal-profile-ng\"] = factory(root[\"ui-bb-avatar-ng\"], root[\"ui-bb-i18n-ng\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_7__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7b758f5beecfb03dfb32","module.exports = require(\"./scripts/index.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ext-bbm-personal-profile-ng/model.xml\n// module id = 0\n// module chunks = 5","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-avatar-ng\"\n// module id = 2\n// module chunks = 0 5","module.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-i18n-ng\"\n// module id = 7\n// module chunks = 1 2 3 4 5 6","/**\n * @module ext-bbm-personal-profile-ng\n *\n * @description\n * Mobile extension for personal profile widget.\n *\n * @example\n * <!-- personal profile widget model.xml -->\n * <property name=\"extension\" viewHint=\"text-input,admin\">\n *  <value type=\"string\">ext-bbm-personal-profile-ng</value>\n * </property>\n */\nimport uiBbAvatarKey from 'ui-bb-avatar-ng';\nimport uiBbI18nKey from 'ui-bb-i18n-ng';\n\nimport extHelpers from './helpers';\nimport extIntents from './intents';\n\nexport const helpers = extHelpers;\nexport const intents = extIntents;\n\nexport const dependencyKeys = [\n  uiBbAvatarKey,\n  uiBbI18nKey,\n];\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bbm-personal-profile-ng/scripts/index.js","/* global angular */\n/**\n * @description\n * Helpers for ext-bbm-personal-profile-ng\n *\n * @name Helpers\n * @type {Object}\n */\nexport default ({ stateContainer, service, intents }) => {\n  /**\n   * @name processUser\n   * @description Processes the user.\n   * @type {function}\n   *\n   * @param {module:model-bb-personal-profile-ng.UserProfile} user\n   * @returns {object} processed user.\n   * @inner\n   */\n  const processUser = user => user;\n\n  /**\n   * @name getLoading\n   * @description Returns the loading state.\n   * @type {function}\n   *\n   * @returns {boolean}\n   * @inner\n   */\n  const getLoading = stateContainer.createSelector(state => state.user.loading);\n\n  /**\n   * @name getLoadingError\n   * @description Returns the error state.\n   * @type {function}\n   *\n   * @returns {boolean}\n   * @inner\n   */\n  const getLoadingError = stateContainer.createSelector(state => state.user.error);\n\n  /**\n   * @name getUserData\n   * @description Returns a user.\n   * @type {function}\n   *\n   * @returns {module:model-bb-personal-profile-ng.UserProfile}\n   * @inner\n   */\n  const getUserData = stateContainer.createSelector(state => state.user.data);\n\n  /**\n   * @name Helpers#hasUser\n   * @description Checks if the user is loaded.\n   * @type {function}\n   *\n   * @returns {boolean}\n   */\n  const hasUser = () => (\n    Boolean(getUserData())\n  );\n\n  /**\n   * @name Helpers#getProcessedUser\n   * @description Returns a processed user.\n   * @type {function}\n   *\n   * @returns {object|null}\n   */\n  const getProcessedUser = stateContainer.createSelector(state => (\n    state.user.data ? processUser(state.user.data) : null\n  ));\n\n  /**\n   * @name Helpers#showLoadingState\n   * @description Checks for the loading.\n   * @type {function}\n   *\n   * @returns {boolean}\n   */\n  const showLoadingState = () => (\n    getLoading() && !hasUser()\n  );\n\n  /**\n   * @name Helpers#showErrorState\n   * @description Checks for the error state.\n   * @type {function}\n   *\n   * @returns {boolean}\n   */\n  const showErrorState = () => (\n    getLoadingError() && !getLoading()\n  );\n\n  /**\n   * @name Helpers#showAddPhoneForm\n   * @description Shows a form to create a new phone.\n   * @type {function}\n   *\n   * @return {void}\n   */\n  const showAddPhoneForm = () => {\n    service.setInitialPhoneForm();\n    intents.showAddPhoneForm();\n  };\n\n  /**\n   * @name Helpers#showAddEmailForm\n   * @description Shows a form to create a new email.\n   * @type {function}\n   *\n   * @return {void}\n   */\n  const showAddEmailForm = () => {\n    service.setInitialEmailForm();\n    intents.showAddEmailForm();\n  };\n\n  /**\n   * @name Helpers#showEditPhoneForm\n   * @description Shows a form to edit an existed phone.\n   * @type {function}\n   *\n   * @param {module:model-bb-personal-profile-ng.Phone} phone\n   * @param {number} phoneIdx The position of the phone in the user's phone list.\n   * @return {void}\n   */\n  const showEditPhoneForm = (phone, phoneIdx) => {\n    const phoneCopy = angular.copy(phone);\n\n    service.selectPhone(phoneIdx);\n    service.setPhoneForm(phoneCopy);\n    intents.showEditPhoneForm(phoneCopy);\n  };\n\n  /**\n   * @name Helpers#showEditEmailForm\n   * @description Shows a form to edit an existed email.\n   * @type {function}\n   *\n   * @param {module:model-bb-personal-profile-ng.Email} email\n   * @param {number} emailIdx The position of the email in the user's email list.\n   * @return {void}\n   */\n  const showEditEmailForm = (email, emailIdx) => {\n    const emailCopy = angular.copy(email);\n\n    service.selectEmail(emailIdx);\n    service.setEmailForm(emailCopy);\n    intents.showEditEmailForm(emailCopy);\n  };\n\n  return {\n    hasUser,\n    getProcessedUser,\n    showLoadingState,\n    showErrorState,\n    showAddPhoneForm,\n    showAddEmailForm,\n    showEditPhoneForm,\n    showEditEmailForm,\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bbm-personal-profile-ng/scripts/helpers.js","import { Intent } from './constants';\n\n/**\n * @name Intents\n * @type {Object}\n */\nexport default ({ createRequest, handleRequest }) => ({\n  /**\n   * @name Intents#showPersonalProfileDetails\n   * @description Handler of the 'intent.bb.personalProfile.details.show' intent.\n   * @type {function}\n   */\n  showPersonalProfileDetails: handleRequest(Intent.SHOW_PERSONAL_PROFILE_DETAILS, () => { }),\n\n  /**\n   * @name Intents#showAddEmailForm\n   * @description The intent to show the form to create an email.\n   * @type {function}\n   */\n  showAddEmailForm: createRequest(Intent.SHOW_ADD_EMAIL_FORM),\n\n  /**\n   * @name Intents#showAddPhoneForm\n   * @description The intent to show the form to create a phone.\n   * @type {function}\n   */\n  showAddPhoneForm: createRequest(Intent.SHOW_ADD_PHONE_FORM),\n\n  /**\n   * @name Intents#showEditEmailForm\n   * @description The intent to show the form to edit an email.\n   * @type {function}\n   */\n  showEditEmailForm: createRequest(Intent.SHOW_EDIT_EMAIL_FORM),\n\n  /**\n   * @name Intents#showEditPhoneForm\n   * @description The intent to show the form to edit a phone.\n   * @type {function}\n   */\n  showEditPhoneForm: createRequest(Intent.SHOW_EDIT_PHONE_FORM),\n});\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bbm-personal-profile-ng/scripts/intents.js","/* eslint-disable import/prefer-default-export */\n/**\n * Extension intent enum\n * @name Intent\n * @type {object}\n * @inner\n */\nexport const Intent = {\n  SHOW_PERSONAL_PROFILE_DETAILS: 'intent.rbm.personalProfile.details.show',\n  SHOW_EDIT_PHONE_FORM: 'intent.rbm.personalProfile.phone.edit',\n  SHOW_EDIT_EMAIL_FORM: 'intent.rbm.personalProfile.email.edit',\n  SHOW_ADD_PHONE_FORM: 'intent.rbm.personalProfile.phone.add',\n  SHOW_ADD_EMAIL_FORM: 'intent.rbm.personalProfile.email.add',\n};\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bbm-personal-profile-ng/scripts/constants.js"],"sourceRoot":""}