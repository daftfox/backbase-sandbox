{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6********************","webpack:///webpack/bootstrap 59b29c6361f41ebec32c?d678********************","webpack:///./ui-bb-iban-autocomplete-search-ng/model.xml","webpack:///external \"ui-bb-autocomplete-search-ng\"?bbd4****","webpack:///external \"vendor-bb-angular\"","webpack:///./ui-bb-iban-autocomplete-search-ng/scripts/index.js","webpack:///external \"lib-bb-bank-codes-ng\"","webpack:///./ui-bb-iban-autocomplete-search-ng/scripts/component.js","webpack:///./ui-bb-iban-autocomplete-search-ng/scripts/constants.js","webpack:///./ui-bb-iban-autocomplete-search-ng/scripts/controller.js"],"names":["angular","module","MODULE_KEY","uiBbAutocompleteSearchNgKey","bbBankCodesModuleKey","component","COMPONENT_KEY","controller","CONTROLLER_KEY","bbBankCodesKey","name","bindings","ngModel","disabled","searchBoxConfig","searchMinLength","loadResult","labelKey","onSelect","onClear","messages","popupTemplateUrl","matchTemplateUrl","template","POPUP_TEMPLATE_URL","IBAN_LENGTH_BOUNDARIES","min","max","uiBbIbanAutocompleteSearchController","element","templateCache","timeout","lookupBankCodes","ctrl","listWrapper","querySelector","searchInput","state","resultScope","clearSuggestions","suggestions","filterSuggestions","ibanSearch","isIbanInBoundaries","ibanString","replace","length","loadResultWithAssistance","options","then","normalizedSearch","searchQuery","toLowerCase","res","getResultSuggestions","selectSuggestion","point","inputValue","value","selection","substring","code","join","trim","focus","expandResultScope","children","isolateScope","Object","assign","breakBySpaces","on","input","e","target","prevValue","nextValue","selectionStart","selectionEnd","includes","spacesCount","match","setSelectionRange","which","key","preventDefault","$onInit","popupTemplate","get","put","$postLink"],"mappings":"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","file":"ui-bb-iban-autocomplete-search-ng/scripts/ui-bb-iban-autocomplete-search-ng.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"ui-bb-autocomplete-search-ng\"), require(\"vendor-bb-angular\"), require(\"lib-bb-bank-codes-ng\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ui-bb-iban-autocomplete-search-ng\", [\"ui-bb-autocomplete-search-ng\", \"vendor-bb-angular\", \"lib-bb-bank-codes-ng\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ui-bb-iban-autocomplete-search-ng\"] = factory(require(\"ui-bb-autocomplete-search-ng\"), require(\"vendor-bb-angular\"), require(\"lib-bb-bank-codes-ng\"));\n\telse\n\t\troot[\"ui-bb-iban-autocomplete-search-ng\"] = factory(root[\"ui-bb-autocomplete-search-ng\"], root[\"vendor-bb-angular\"], root[\"lib-bb-bank-codes-ng\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_14__, __WEBPACK_EXTERNAL_MODULE_18__, __WEBPACK_EXTERNAL_MODULE_166__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 59b29c6361f41ebec32c","module.exports = require(\"./scripts/index.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ui-bb-iban-autocomplete-search-ng/model.xml\n// module id = 0\n// module chunks = 21","module.exports = __WEBPACK_EXTERNAL_MODULE_14__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-autocomplete-search-ng\"\n// module id = 14\n// module chunks = 0 9 10 13 14 21","module.exports = __WEBPACK_EXTERNAL_MODULE_18__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor-bb-angular\"\n// module id = 18\n// module chunks = 0 8 9 10 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33","/**\n * @module ui-bb-iban-autocomplete-search-ng\n *\n * @description\n * IBAN autocomplete search component\n *\n * @example\n * // In an extension:\n * // file: scripts/index.js\n * import uiBbIbanAutocompleteSearchNgKey from 'ui-bb-iban-autocomplete-search-ng';\n *\n * export const dependencyKeys = [\n *   uiBbIbanAutocompleteSearchNgKey,\n * ];\n *\n * // file: templates/template.ng.html\n * <ui-bb-iban-autocomplete-search-ng\n *   searchBoxConfig=\"{\n *     labels: {\n *       title: 'Search',\n *       placeholder: 'Enter search text...',\n *       clear: 'Clear text',\n *       submit: 'Submit search',\n *     },\n *     hideButton: true,\n *     iconClasses: 'fa fa-chevron-down',\n *   }\"\n *   load-result=\"(options) => {}\"\n *   on-select=\"(item, label) => {}\"\n *   label-key=\"'name'\">\n * </ui-bb-iban-autocomplete-search-ng>\n */\n\nimport angular from 'vendor-bb-angular';\nimport uiBbAutocompleteSearchNgKey from 'ui-bb-autocomplete-search-ng';\nimport bbBankCodesModuleKey, { bbBankCodesKey } from 'lib-bb-bank-codes-ng';\n\nimport component from './component';\nimport controller from './controller';\n\nimport { COMPONENT_KEY, CONTROLLER_KEY, MODULE_KEY } from './constants';\n\n/**\n * The angular module name\n * @name default\n * @type {string}\n */\nexport default angular\n  .module(MODULE_KEY, [\n    uiBbAutocompleteSearchNgKey,\n    bbBankCodesModuleKey,\n  ])\n  .component(COMPONENT_KEY, component)\n  .controller(CONTROLLER_KEY, [\n    '$element',\n    '$templateCache',\n    '$timeout',\n    bbBankCodesKey,\n    controller,\n  ])\n  .name;\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-iban-autocomplete-search-ng/scripts/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_166__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lib-bb-bank-codes-ng\"\n// module id = 166\n// module chunks = 21","import { CONTROLLER_KEY, POPUP_TEMPLATE_URL } from './constants';\n\nconst component = {\n  bindings: {\n    ngModel: '=',\n    disabled: '=',\n    searchBoxConfig: '<',\n    searchMinLength: '<',\n    loadResult: '&',\n    labelKey: '@',\n    onSelect: '&',\n    onClear: '&',\n    messages: '<',\n    popupTemplateUrl: '@?',\n    matchTemplateUrl: '@?',\n  },\n  controller: CONTROLLER_KEY,\n  template: `\n    <ui-bb-autocomplete-search-ng\n      data-ng-model=\"$ctrl.ngModel\"\n      data-disabled=\"$ctrl.disabled\"\n      data-label-key=\"IBAN\"\n      data-search-box-config=\"$ctrl.searchBoxConfig\"\n      data-search-min-length=\"$ctrl.searchMinLength\"\n      data-load-result=\"$ctrl.loadResultWithAssistance({ options })\"\n      data-label-key=\"$ctrl.labelKey\"\n      data-on-select=\"$ctrl.onSelect({ $model, $label })\"\n      data-on-clear=\"$ctrl.onClear()\"\n      data-messages=\"$ctrl.messages\"\n      data-popup-template-url=\"${POPUP_TEMPLATE_URL}\"\n      data-match-template-url=\"$ctrl.matchTemplateUrl\">\n    </ui-bb-autocomplete-search-ng>\n\n    <script type=\"text/ng-template\" id=\"${POPUP_TEMPLATE_URL}\">\n      <div\n        class=\"dropdown-menu p-0 w-100\"\n        data-ng-show=\"isDisplayed()\">\n        <ui-bb-list-ng\n          class=\"list-group m-0 pre-scrollable\"\n          data-on-scroll-to-end=\"onLoadMore()\">\n\n          <li class=\"dropdown-header py-1\"\n            data-ng-if=\"getResultSuggestions().length\">\n            <span\n              class=\"badge badge-primary mr-2 my-1 px-2\"\n              data-ng-repeat=\"suggestion in getResultSuggestions() track by $index\"\n              data-ng-bind=\"suggestion.code\"\n              data-ng-click=\"selectSuggestion(suggestion.code)\">\n            </span>\n          </li>\n\n          <li class=\"list-group-item\"\n            data-ng-class=\"{\n              'disabled badge text-dark text-left rounded-0 bg-light py-2': match.model.group,\n              'dropdown-item': !match.model.group && !match.model.more,\n              'disabled': match.model.more,\n            }\"\n            data-ng-repeat=\"match in matches track by $index\"\n            data-ng-class=\"{ active: isActive($index) }\"\n            data-ng-mouseenter=\"selectActive($index)\"\n            data-ng-click=\"selectMatch($index)\">\n            <div data-uib-typeahead-match\n              data-index=\"$index\"\n              data-match=\"match\"\n              data-query=\"query\"\n              data-template-url=\"templateUrl\">\n            </div>\n          </li>\n\n          <li data-ng-show=\"isLoading()\" class=\"list-group-item dropdown-item\">\n            <span class=\"ui-bb-autocomplete-search-spinner center-block\"></span>\n          </li>\n        </ui-bb-list-ng>\n      </div>\n    </script>\n  `,\n};\n\nexport default component;\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-iban-autocomplete-search-ng/scripts/component.js","export const MODULE_KEY = 'ui-bb-iban-autocomplete-search-ng';\n\nexport const CONTROLLER_KEY = `${MODULE_KEY}:controller`;\n\nexport const COMPONENT_KEY = 'uiBbIbanAutocompleteSearchNg';\n\nexport const POPUP_TEMPLATE_URL = `${MODULE_KEY}/popup-template.html`;\n\nexport const IBAN_LENGTH_BOUNDARIES = { min: 3, max: 8 };\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-iban-autocomplete-search-ng/scripts/constants.js","import angular from 'vendor-bb-angular';\n\nimport { POPUP_TEMPLATE_URL, IBAN_LENGTH_BOUNDARIES } from './constants';\n\nexport default function uiBbIbanAutocompleteSearchController(\n  element,\n  templateCache,\n  timeout,\n  lookupBankCodes\n) {\n  const ctrl = this;\n  const listWrapper = angular.element(element[0].querySelector('[data-role=\"list-wrapper\"]'));\n  const searchInput = angular.element(element[0].querySelector('[data-role=\"search-input\"]'));\n  /**\n   * @name uiBbIbanAutocompleteSearchController#state\n   *\n   * @description\n   * Component state object\n   *\n   * @type {Object}\n   */\n  const state = {\n    resultScope: null,\n  };\n\n  /**\n   * @name uiBbIbanAutocompleteSearchController#clearSuggestions\n   *\n   * @description\n   * Clear list of Bank Code suggestions\n   *\n   * @inner\n   */\n  const clearSuggestions = () => {\n    state.resultScope.suggestions = [];\n  };\n\n  /**\n   * @name uiBbIbanAutocompleteSearchController#filterSuggestions\n   *\n   * @description\n   * Filter Bank Code suggestions by given IBAN input\n   *\n   * @inner\n   * @param {String} ibanSearch Given IBAN value\n   */\n  const filterSuggestions = (ibanSearch) => {\n    state.resultScope.suggestions = lookupBankCodes(ibanSearch);\n  };\n\n  /**\n   * @name uiBbIbanAutocompleteSearchController#isIbanInBoundaries\n   * @type {Function}\n   *\n   * @description\n   * Check is IBAN search string in the required boundaries for Bank Code assistance\n   *\n   * @inner\n   * @param {String} ibanString Given IBAN string\n   * @returns {boolean}\n   */\n  const isIbanInBoundaries = (ibanString) => (\n    ibanString &&\n    ibanString.replace(/\\s/g, '').length > IBAN_LENGTH_BOUNDARIES.min &&\n    ibanString.replace(/\\s/g, '').length < IBAN_LENGTH_BOUNDARIES.max\n  );\n\n  /**\n   * @name uiBbIbanAutocompleteSearchController#loadResultWithAssistance\n   * @type {Function}\n   *\n   * @description\n   * Request IBAN search results and enrich it with Bank Code suggestions\n   *\n   * @param {Object} options  Request configuration object\n   * @returns {Promise}       A Promise with retrieved data\n   */\n  const loadResultWithAssistance = ({ options }) =>\n    ctrl.loadResult({ options })\n      .then(res => {\n        const normalizedSearch = options.searchQuery.toLowerCase();\n        if (isIbanInBoundaries(normalizedSearch)) {\n          filterSuggestions(normalizedSearch);\n        } else {\n          clearSuggestions();\n        }\n\n        return res;\n      });\n\n  /**\n   * @name uiBbIbanAutocompleteSearchController#getResultSuggestions\n   *\n   * @description\n   * Get additional input suggestions\n   *\n   * @inner\n   * @type {Function}\n   * @returns {Array.<String>} Additional suggestions list\n   */\n  const getResultSuggestions = () => ((state.resultScope && state.resultScope.suggestions) || []);\n\n  /**\n   * @name uiBbIbanAutocompleteSearchController#seletSuggestion\n   * @type {Function}\n   *\n   * @description\n   * Inject selected Bank Code suggestion to input field\n   *\n   * @inner\n   * @param {String} code  Selected Bank Code\n   */\n  const selectSuggestion = code => {\n    const point = IBAN_LENGTH_BOUNDARIES.min + 1;\n    const inputValue = searchInput && searchInput[0] ? searchInput[0].value : ctrl.ngModel;\n    const selection = [\n      inputValue.substring(0, point),\n      code,\n      inputValue.substring(point + code.length),\n    ].join(' ');\n\n    ctrl.ngModel = selection;\n\n    timeout(() => {\n      searchInput[0].value = (`${(ctrl.ngModel || selection)} `).trim();\n      searchInput[0].focus();\n      clearSuggestions();\n    });\n  };\n\n  /**\n   * @name uiBbIbanAutocompleteSearchController#expandResultScope\n   * @type {Function}\n   *\n   * @description\n   * Adds missing functionality to uib-typeahead like load more result when scrolling and loading\n   * indicalor.\n   *\n   * @inner\n   */\n  const expandResultScope = () => {\n    state.resultScope = state.resultScope || listWrapper.children().isolateScope();\n\n    Object.assign(state.resultScope, {\n      getResultSuggestions,\n      selectSuggestion,\n    });\n  };\n\n  /**\n   * @name uiBbIbanAutocompleteSearchController#breakBySpaces\n   * @type {Function}\n   *\n   * @description\n   * Adds spaces after each 4 characters for better readability. Ignores SPACE key.\n   * Only accept numbers and letters\n   *\n   * @inner\n   */\n  const breakBySpaces = () => {\n    searchInput.on('keyup', e => {\n      const input = e.target;\n      const prevValue = input.value;\n      const nextValue = prevValue\n        .replace(/[^A-Za-z0-9]/g, '')\n        .replace(/(.{4})/g, '$1 ')\n        .trim();\n\n      if (prevValue === nextValue) {\n        return;\n      }\n\n      // cursor position before update the input value\n      const { selectionStart, selectionEnd } = input;\n\n      // set new input value\n      input.value = nextValue;\n\n      // positioning the caret/cursor after new value\n      if (!prevValue.includes(' ')) {\n        const spacesCount = nextValue.match(/(.{4})/g).length;\n        input.setSelectionRange(selectionStart + spacesCount, selectionEnd + spacesCount);\n      } else {\n        if (selectionStart % 5 >= 0 && selectionStart !== nextValue.length - 1) {\n          input.setSelectionRange(selectionStart, selectionEnd);\n        } else {\n          // if cursor positioned before space gap so jump on next keyup\n          input.setSelectionRange(selectionStart + 1, selectionEnd + 1);\n        }\n      }\n    });\n\n    searchInput.on('keydown', e => {\n      if (e.which === 32 || !e.key.match(/[A-Za-z0-9]/)) { // whitespace or not allowed characters\n        e.preventDefault();\n      }\n    });\n  };\n\n  /**\n   * @name uiBbIbanAutocompleteSearchController#$onInit\n   *\n   * @description\n   * Angular $onInit lifecycle hook\n   *\n   * @type {Function}\n   */\n  const $onInit = () => {\n    if (ctrl.popupTemplateUrl) {\n      const popupTemplate = templateCache.get(ctrl.popupTemplateUrl);\n      templateCache.put(POPUP_TEMPLATE_URL, popupTemplate);\n    }\n\n    breakBySpaces();\n  };\n\n  /**\n   * @name uiBbIbanAutocompleteSearchController#$postLink\n   *\n   * @description\n   * Angular $postLink lifecycle hook\n   *\n   * @type {Function}\n   */\n  const $postLink = () => {\n    timeout(() => {\n      expandResultScope();\n    });\n  };\n\n  Object.assign(ctrl, {\n    loadResultWithAssistance,\n    selectSuggestion,\n    /* lifecycle hooks */\n    $onInit,\n    $postLink,\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-iban-autocomplete-search-ng/scripts/controller.js"],"sourceRoot":""}