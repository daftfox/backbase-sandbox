{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 59b29c6361f41ebec32c","webpack:///./ui-bb-bank-validations-ng/model.xml","webpack:///external \"vendor-bb-angular\"?a114********","webpack:///./ui-bb-bank-validations-ng/scripts/index.js","webpack:///./ui-bb-bank-validations-ng/scripts/rtn-aba.directive.js"],"names":["angular","module","directive","rtnAba","name","uiBbBankValidateRtnAbaNg","p","str","parseInt","restrict","require","link","scope","element","attrs","modelCtrl","$parsers","push","inputValue","transformedInput","replace","$setViewValue","$render","Object","assign","$validators","customRtn","v","length","left","mid","right"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;ACtCA,2C;;;;;;;ACAA,iD;;;;;;;;;;;;;ACKA;;;;AAEA;;;;;;AAPA;;;;;mBASeA,0BACZC,MADY,CACL,2BADK,EACwB,EADxB,EAEZC,SAFY,CAEF,0BAFE,EAE0BC,gBAF1B,EAGZC,I;;;;;;;;;;;;mBCVqBC,wB;AAFxB,KAAMC,IAAI,SAAJA,CAAI,CAACC,GAAD;AAAA,UAASC,SAASD,GAAT,EAAc,EAAd,CAAT;AAAA,EAAV;;AAEe,UAASF,wBAAT,GAAoC;AACjD;;;;;;;;;;;;;;;;;;AAkBA,UAAO;AACLI,eAAU,GADL;AAELC,cAAS,SAFJ;AAGLC,WAAM,cAACC,KAAD,EAAQC,OAAR,EAAiBC,KAAjB,EAAwBC,SAAxB,EAAsC;AAC1CA,iBAAUC,QAAV,CAAmBC,IAAnB,CAAwB,UAACC,UAAD,EAAgB;AACtC,aAAMC,mBAAmBD,WAAWE,OAAX,CAAmB,QAAnB,EAA6B,EAA7B,CAAzB;;AAEA,aAAID,qBAAqBD,UAAzB,EAAqC;AACnCH,qBAAUM,aAAV,CAAwBF,gBAAxB;AACAJ,qBAAUO,OAAV;AACD;;AAED,gBAAOH,gBAAP;AACD,QATD;;AAWAI,cAAOC,MAAP,CAAcT,UAAUU,WAAxB,EAAqC;AACnCC,oBAAW,mBAACC,CAAD,EAAO;AAChB,eAAI,CAACA,CAAD,IAAMA,EAAEC,MAAF,GAAW,CAArB,EAAwB;AACtB,oBAAO,IAAP;AACD;AACD,eAAMC,OAAO,KAAKvB,EAAEqB,EAAE,CAAF,CAAF,IAAUrB,EAAEqB,EAAE,CAAF,CAAF,CAAV,GAAoBrB,EAAEqB,EAAE,CAAF,CAAF,CAAzB,CAAb;AACA,eAAMG,MAAM,KAAKxB,EAAEqB,EAAE,CAAF,CAAF,IAAUrB,EAAEqB,EAAE,CAAF,CAAF,CAAV,GAAoBrB,EAAEqB,EAAE,CAAF,CAAF,CAAzB,CAAZ;AACA,eAAMI,QAAQzB,EAAEqB,EAAE,CAAF,CAAF,IAAUrB,EAAEqB,EAAE,CAAF,CAAF,CAAV,GAAoBrB,EAAEqB,EAAE,CAAF,CAAF,CAAlC;;AAEA,kBAAO,CAACE,OAAOC,GAAP,GAAaC,KAAd,IAAuB,EAAvB,KAA8B,CAArC;AACD;AAVkC,QAArC;AAYD;AA3BI,IAAP;AA6BD,E","file":"ui-bb-bank-validations-ng/scripts/ui-bb-bank-validations-ng.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vendor-bb-angular\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ui-bb-bank-validations-ng\", [\"vendor-bb-angular\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ui-bb-bank-validations-ng\"] = factory(require(\"vendor-bb-angular\"));\n\telse\n\t\troot[\"ui-bb-bank-validations-ng\"] = factory(root[\"vendor-bb-angular\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_18__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 59b29c6361f41ebec32c","module.exports = require(\"./scripts/index.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ui-bb-bank-validations-ng/model.xml\n// module id = 0\n// module chunks = 17","module.exports = __WEBPACK_EXTERNAL_MODULE_18__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor-bb-angular\"\n// module id = 18\n// module chunks = 0 8 9 10 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33","/**\n * @module ui-bb-bank-validations-ng\n * @description\n * Set of bank fields custom validations\n */\nimport angular from 'vendor-bb-angular';\n\nimport rtnAba from './rtn-aba.directive';\n\nexport default angular\n  .module('ui-bb-bank-validations-ng', [])\n  .directive('uiBbBankValidateRtnAbaNg', rtnAba)\n  .name;\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-bank-validations-ng/scripts/index.js","const p = (str) => parseInt(str, 10);\n\nexport default function uiBbBankValidateRtnAbaNg() {\n  /**\n   * @name uiBbBankValidateRtnAbaNg\n   * @type {object}\n   * @description\n   * Custom form validation for routing transit number (ABA).\n   * The following condition must hold: 3(d1+d4+d7) + 7(d2+d5+d8) + (d3+d6+d9) mod10 = 0\n   * Consider 111000025 (which is a valid routing number of Bank of America in Virginia).\n   * Applying the formula, we get: 3(1+0+0) + 7(1+0+2) + (1+0+5) mod 10=0\n   *\n   * @example\n   * <form name=\"form\">\n   *   <label for=\"rtn\">Routing Transit Number (ABA)</label>\n   *   <input type=\"text\" id=\"rtn\" name=\"rtn\" data-ng-model=\"rtn\" ui-bb-bank-validate-rtn-aba-ng />\n   *   <span data-ng-if=\"form.rtn.$error.customRtn\">\n   *     Please input a valid Routing Transit Number\n   *   </span>\n   * </form>\n   */\n  return {\n    restrict: 'A',\n    require: 'ngModel',\n    link: (scope, element, attrs, modelCtrl) => {\n      modelCtrl.$parsers.push((inputValue) => {\n        const transformedInput = inputValue.replace(/[^\\d]/g, '');\n\n        if (transformedInput !== inputValue) {\n          modelCtrl.$setViewValue(transformedInput);\n          modelCtrl.$render();\n        }\n\n        return transformedInput;\n      });\n\n      Object.assign(modelCtrl.$validators, {\n        customRtn: (v) => {\n          if (!v || v.length < 9) {\n            return true;\n          }\n          const left = 3 * (p(v[0]) + p(v[3]) + p(v[6]));\n          const mid = 7 * (p(v[1]) + p(v[4]) + p(v[7]));\n          const right = p(v[2]) + p(v[5]) + p(v[8]);\n\n          return (left + mid + right) % 10 === 0;\n        },\n      });\n    },\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-bank-validations-ng/scripts/rtn-aba.directive.js"],"sourceRoot":""}