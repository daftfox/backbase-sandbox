{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6**************************","webpack:///webpack/bootstrap d0309a746b17cd403690?c295**************************","webpack:///./ui-wm-portfolio-transactions-filter-ng/model.xml","webpack:///external \"ui-bb-dropdown-select-ng\"?4101***","webpack:///external \"vendor-bb-angular-ng-messages\"?7dc7","webpack:///external \"vendor-bb-angular\"?a114******","webpack:///./ui-wm-portfolio-transactions-filter-ng/scripts/index.js","webpack:///external \"lib-bb-event-bus-ng\"","webpack:///./ui-wm-portfolio-transactions-filter-ng/scripts/component.js","webpack:///./ui-wm-portfolio-transactions-filter-ng/scripts/controller.js","webpack:///./ui-wm-portfolio-transactions-filter-ng/scripts/template.html"],"names":["dependencyKeys","uiBBDropdownSelectKey","vendorBbAngularMessagesKey","eventBusModuleKey","angular","module","component","TransactionsFilter","name","TransactionsFilterComponent","template","controller","eventBusKey","TransactionsFilterController","controllerAs","bindings","onFilterApply","onFilterCancel","setFilterOnEvent","filterTimePeriodConfig","filterAssetClasses","filterTransactionCategories","filterAccounts","filterLabels","filterErrors","initialFilterState","NAME_INPUT_VALIDATION_PATTERN","MAX_LENGTH","NUMBER_INPUT_VALIDATION_PATTERN","getStartDate","startDate","Date","setMonth","getMonth","getDate","setDate","defaultInitialFilterState","instrumentName","isin","counterpartyName","counterpartyAccount","timePeriod","endDate","assetClass","id","transactionCategory","account","amountRangeFrom","amountRangeTo","eventBus","$ctrl","state","filter","copy","validation","nameInputValidationPattern","nameInputMaxLength","numberInputValidationPattern","appliedFilter","closeFilter","applyFilters","equals","$filter","isFilterApplied","cancelFilter","clearSelectedFilters","setFilter","selectedAccount","item","accountClone","Object","assign","bindEvents","subscribe","$onInit"],"mappings":"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","file":"ui-wm-portfolio-transactions-filter-ng/scripts/ui-wm-portfolio-transactions-filter-ng.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"ui-bb-dropdown-select-ng\"), require(\"vendor-bb-angular-ng-messages\"), require(\"vendor-bb-angular\"), require(\"lib-bb-event-bus-ng\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ui-wm-portfolio-transactions-filter-ng\", [\"ui-bb-dropdown-select-ng\", \"vendor-bb-angular-ng-messages\", \"vendor-bb-angular\", \"lib-bb-event-bus-ng\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ui-wm-portfolio-transactions-filter-ng\"] = factory(require(\"ui-bb-dropdown-select-ng\"), require(\"vendor-bb-angular-ng-messages\"), require(\"vendor-bb-angular\"), require(\"lib-bb-event-bus-ng\"));\n\telse\n\t\troot[\"ui-wm-portfolio-transactions-filter-ng\"] = factory(root[\"ui-bb-dropdown-select-ng\"], root[\"vendor-bb-angular-ng-messages\"], root[\"vendor-bb-angular\"], root[\"lib-bb-event-bus-ng\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_27__, __WEBPACK_EXTERNAL_MODULE_54__, __WEBPACK_EXTERNAL_MODULE_93__, __WEBPACK_EXTERNAL_MODULE_120__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d0309a746b17cd403690","module.exports = require(\"./scripts/index.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ui-wm-portfolio-transactions-filter-ng/model.xml\n// module id = 0\n// module chunks = 27","module.exports = __WEBPACK_EXTERNAL_MODULE_27__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-dropdown-select-ng\"\n// module id = 27\n// module chunks = 4 5 8 14 27","module.exports = __WEBPACK_EXTERNAL_MODULE_54__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor-bb-angular-ng-messages\"\n// module id = 54\n// module chunks = 8 27","module.exports = __WEBPACK_EXTERNAL_MODULE_93__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor-bb-angular\"\n// module id = 93\n// module chunks = 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37","/**\n * @module ext-portfolio-transactions-filter\n *\n * @description\n * Transactions filter`s module.\n *\n * @example\n * // In an extension:\n * // file: scripts/index.js\n * import uiBbPortfolioTransactionsFilterKey from 'ui-wm-portfolio-transactions-filter-ng';\n *\n * export const dependencyKeys = [\n *   uiBbPortfolioTransactionsFilterKey,\n * ];\n *\n */\nimport eventBusModuleKey from 'lib-bb-event-bus-ng';\nimport angular from 'vendor-bb-angular';\nimport vendorBbAngularMessagesKey from 'vendor-bb-angular-ng-messages';\nimport uiBBDropdownSelectKey from 'ui-bb-dropdown-select-ng';\nimport TransactionsFilter from './component';\n/**\n * @name default\n * @type {string}\n * @description Angular module name\n */\n\n/**\n * @typedef {Object}               initialFilterState  - Initial state of transactions` filter\n * @property {String}              instrumentName      - Name of the instrument in transaction\n * @property {String}              isin                - Instrument/asset international code\n * @property {String}              counterpartyName    - Name of counterparty of the transaction\n * @property {String}              counterpartyAccount - Account id of counterpart in transaction\n * @property {timePeriod}          timePeriod          - Time period of transactions to filter\n * @property {assetClass}          assetClass          - Asset class selected to filter\n * @property {transactionCategory} transactionCategory - Transactions category selected to filter\n * @property {account}             account             - Acount selected to filter\n * @property {Number}              amountRangeFrom     - Amount to filter from\n * @property {Number}              amountRangeTo       - Amount to filter to\n */\n\n /**\n * @typedef {Object}        timePeriod\n * @property {Date}         startDate                  - start date\n * @property {Date}         endDate                    - end date\n */\n\n /**\n * @typedef {Object}        assetClass\n * @property {String}       name                       - asset class name\n * @property {String}       id                         - id of asset class\n */\n\n /**\n * @typedef {Object}        transactionCategory\n * @property {String}       name                       - transaction category name\n * @property {String}       id                         - id of transaction category\n */\n\n /**\n * @typedef {Object}        account\n * @property {String}       name                       - account name\n * @property {String}       id                         - id of account\n */\n\n /**\n * @typedef {Object}        validation\n * @property {String}       nameInputValidationPattern   - validation pattern for name fields\n * @property {String}       nameInputMaxLength           - maximum length for input\n * @property {String}       numberInputValidationPattern - validation pattern for amount\n */\n\nconst dependencyKeys = [\n  uiBBDropdownSelectKey,\n  vendorBbAngularMessagesKey,\n  eventBusModuleKey,\n];\n\nexport default angular\n  .module('ui-wm-portfolio-transactions-filter-ng', dependencyKeys)\n  .component('uiWmPortfolioTransactionsFilter', TransactionsFilter)\n  .name;\n\n\n\n// WEBPACK FOOTER //\n// ./ui-wm-portfolio-transactions-filter-ng/scripts/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_120__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lib-bb-event-bus-ng\"\n// module id = 120\n// module chunks = 27 28 35 36","import { eventBusKey } from 'lib-bb-event-bus-ng';\nimport TransactionsFilterController from './controller';\nimport template from './template.html';\n\n/**\n * @name TransactionsFilterComponent\n * @ngkey transactionsFilter\n * @type {object}\n * @description\n * Transactions filter component.\n *\n * @example\n * <div class=\"col-xs-12\">\n *   <ui-wm-portfolio-transactions-filter\n *   data-on-filter-apply=\"$ctrl.applyFilter($filter)\"\n *   data-on-filter-cancel=\"$ctrl.closeFilter()\"\n *   data-filter-time-period-config=\"ext.helpers.filterTimePeriodConfig\"\n *   data-filter-transaction-categories=\"ext.helpers.transactionCategories\"\n *   data-filter-accounts=\"ext.helpers.accounts\"\n *   data-filter-asset-classes=\"ext.helpers.assetClasses\"\n *   data-filter-btn-label=\"portfolioTransactions.filter\"\n *   data-filter-labels=\"{\n *       instrumentName: ('portfolioTransactions.filter.instrumentName' | i18n),\n *       counterpartyName: ('portfolioTransactions.filter.counterpartyName' | i18n),\n *       counterpartyNameExample: ('portfolioTransactions.filter.counterpartyNameExample' | i18n),\n *       counterpartyAccount: ('portfolioTransactions.filter.counterpartyAccount' | i18n),\n *       counterpartyAccountExample: ('portfolioTransactions.filter.counterpartyAccountEx' | i18n),\n *       instrumentNameExample: ('portfolioTransactions.filter.instrumentNameExample' | i18n),\n *       ISIN: ('portfolioTransactions.filter.ISIN' | i18n),\n *       ISINExample: ('portfolioTransactions.filter.ISINExample' | i18n),\n *       timePeriod: ('portfolioTransactions.filter.timePeriod' | i18n),\n *       assetClass: ('portfolioTransactions.filter.assetClass' | i18n),\n *       transactionCategory: ('portfolioTransactions.filter.transactionCategory' | i18n),\n *       account: ('portfolioTransactions.filter.account' | i18n),\n *       amountRange: ('portfolioTransactions.filter.amountRange' | i18n),\n *       amountRangeFrom: ('portfolioTransactions.filter.amountRangeFrom' | i18n),\n *       amountRangeTo: ('portfolioTransactions.filter.amountRangeTo' | i18n),\n *       amountRangeExample: ('portfolioTransactions.filter.amountRangeExample' | i18n),\n *       clearSelected: ('portfolioTransactions.filter.clearSelected' | i18n),\n *       cancel: ('portfolioTransactions.filter.cancel' | i18n),\n *       applyFilters: ('portfolioTransactions.filter.applyFilters' | i18n)\n *   }\">\n </ui-wm-portfolio-transactions-filter>\n * </div>\n */\n\nconst TransactionsFilterComponent = {\n  template,\n  controller: [eventBusKey, TransactionsFilterController],\n  controllerAs: '$transactionsFilterCtrl',\n  bindings: {\n    onFilterApply: '&',\n    onFilterCancel: '&',\n    setFilterOnEvent: '@',\n    filterTimePeriodConfig: '<',\n    filterAssetClasses: '<',\n    filterTransactionCategories: '<',\n    filterAccounts: '<',\n    filterLabels: '<',\n    filterErrors: '<',\n    initialFilterState: '<',\n  },\n};\n\nexport default TransactionsFilterComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./ui-wm-portfolio-transactions-filter-ng/scripts/component.js","/* global angular */\n\nconst NAME_INPUT_VALIDATION_PATTERN = '^[^&%<>#\"~^\\']*$';\nconst MAX_LENGTH = 100;\nconst NUMBER_INPUT_VALIDATION_PATTERN = '^-?[0-9]+[,|.]?[0-9]{0,2}$';\n\nfunction getStartDate() {\n  const startDate = new Date();\n  startDate.setMonth(startDate.getMonth() - 3);\n  return (startDate.getDate() !== new Date().getDate())\n    ? new Date(startDate.setDate(1))\n    : new Date(startDate.setDate(startDate.getDate() + 1));\n}\n\n/**\n * @name defaultInitialFilterState\n * @type {initialFilterState}\n * @description Initial state of transactions` filter\n */\nexport const defaultInitialFilterState = {\n  instrumentName: '',\n  isin: '',\n  counterpartyName: '',\n  counterpartyAccount: '',\n  timePeriod: {\n    startDate: getStartDate(),\n    endDate: new Date(),\n  },\n  assetClass: {\n    name: 'All',\n    id: null,\n  },\n  transactionCategory: {\n    name: 'All',\n    id: null,\n  },\n  account: {\n    name: 'All',\n    id: null,\n  },\n  amountRangeFrom: null,\n  amountRangeTo: null,\n};\n\n/**\n * @name TransactionsFilterController\n * @ngkey TransactionsFilterController\n * @type {object}\n * @description\n * Portfolio Transactions controller.\n */\nexport default function TransactionsFilterController(eventBus) {\n  const $ctrl = this;\n  const initialFilterState = $ctrl.initialFilterState || defaultInitialFilterState;\n\n  /**\n   * @name TransactionsFilterController#state\n   * @description Controller's state object\n   * @type {object}\n   * @property {object}       filter          - Current state of filter\n   * @property {object}       appliedFilter   - Filter state that was applied to transactions` list\n   * @property {validation}   validation      - Properties related to filer validation\n   */\n  const state = {\n    filter: angular.copy(initialFilterState),\n    validation: {\n      nameInputValidationPattern: NAME_INPUT_VALIDATION_PATTERN,\n      nameInputMaxLength: MAX_LENGTH,\n      numberInputValidationPattern: NUMBER_INPUT_VALIDATION_PATTERN,\n    },\n    appliedFilter: null,\n  };\n\n  /**\n   * @description\n   * Closes filter popover\n   *\n   * @private\n   * @name TransactionsFilterController#closeFilter\n   * @type {function}\n   */\n  const closeFilter = () => {\n    if ($ctrl.onFilterCancel) {\n      $ctrl.onFilterCancel();\n    }\n  };\n\n  /**\n   * @description\n   * Method to apply selected filters. Updates inner state of controller,\n   * invokes components callback 'onFilterApply',\n   * closes filter popover\n   *\n   * @public\n   * @name TransactionsFilterController#applyFilters\n   * @type {function}\n   */\n  const applyFilters = () => {\n    $ctrl.state.appliedFilter = angular.equals($ctrl.state.filter, initialFilterState)\n      ? null\n      : angular.copy($ctrl.state.filter);\n\n    closeFilter();\n\n    if ($ctrl.onFilterApply) {\n      $ctrl.onFilterApply({\n        $filter: $ctrl.state.appliedFilter,\n      });\n    }\n  };\n\n  /**\n   * @description\n   * Informs whether filter is applied to transactions` list\n   *\n   * @public\n   * @name TransactionsFilterController#isFilterApplied\n   * @type {function}\n   */\n  const isFilterApplied = () => $ctrl.state.appliedFilter !== null;\n\n  /**\n   * @description\n   * Resets filter state to state that filter had before current filter popup`s opening,\n   * closes filter popover\n   *\n   * @public\n   * @name TransactionsFilterController#cancelFilter\n   * @type {function}\n   */\n  const cancelFilter = () => {\n    $ctrl.state.filter = angular.copy(\n      $ctrl.state.appliedFilter\n        ? $ctrl.state.appliedFilter\n        : initialFilterState\n    );\n    closeFilter();\n  };\n\n  /**\n   * @description\n   * Resets filter`s state to initial filter`s state\n   *\n   * @public\n   * @name TransactionsFilterController#clearSelectedFilters\n   * @type {function}\n   * Resets filter state to initial state\n   */\n  const clearSelectedFilters = () => {\n    $ctrl.state.filter = angular.copy(initialFilterState);\n  };\n\n  /**\n   * @description\n   * Set filter according to the data passed\n   *\n   * @private\n   * @type {function}\n   */\n  const setFilter = ({ account, instrumentName }) => {\n    $ctrl.state.filter = angular.copy(initialFilterState);\n\n    const selectedAccount = $ctrl.filterAccounts.filter(item => item.id === account.id)[0];\n    const accountClone = angular.copy(selectedAccount);\n\n    Object.assign($ctrl.state.filter, { account: accountClone, instrumentName });\n    $ctrl.applyFilters();\n  };\n\n  /**\n   * @description Adds subscriptions to bus events\n   * @type {function}\n   */\n  const bindEvents = () => {\n    if ($ctrl.setFilterOnEvent) {\n      eventBus.subscribe($ctrl.setFilterOnEvent, setFilter);\n    }\n  };\n\n  const $onInit = () => {\n    bindEvents();\n  };\n\n  Object.assign($ctrl, {\n    state,\n    $onInit,\n    applyFilters,\n    isFilterApplied,\n    cancelFilter,\n    clearSelectedFilters,\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./ui-wm-portfolio-transactions-filter-ng/scripts/controller.js","module.exports = \"<form\\n  name=\\\"transactionsFilterForm\\\"\\n  class=\\\"clearfix\\\"\\n  data-ng-submit=\\\"$transactionsFilterCtrl.applyFilters();\\\"\\n  data-role=\\\"portfolio-transactions-filter\\\"\\n>\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col-12 col-sm-10 col-md-8 col-lg-6\\\">\\n\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-6\\\">\\n          <div\\n            class=\\\"form-group\\\"\\n            data-ng-class=\\\"{\\n              'has-error':\\n                transactionsFilterForm.instrumentName.$error.pattern ||\\n                transactionsFilterForm.instrumentName.$error.maxlength\\n            }\\\"\\n          >\\n            <label data-ng-bind=\\\"$transactionsFilterCtrl.filterLabels.instrumentName\\\"></label>\\n            <input\\n              name=\\\"instrumentName\\\"\\n              class=\\\"form-control\\\"\\n              data-ng-model=\\\"$transactionsFilterCtrl.state.filter.instrumentName\\\"\\n              data-role=\\\"transaction-instrument-name\\\"\\n              data-ng-pattern=\\\"$transactionsFilterCtrl.state.validation.nameInputValidationPattern\\\"\\n              data-ng-maxlength=\\\"$transactionsFilterCtrl.state.validation.nameInputMaxLength\\\"\\n            />\\n            <small\\n              class=\\\"text-muted\\\"\\n              data-ng-hide=\\\"\\n                transactionsFilterForm.instrumentName.$error.pattern ||\\n                transactionsFilterForm.instrumentName.$error.maxlength\\n              \\\"\\n              data-ng-bind=\\\"$transactionsFilterCtrl.filterLabels.instrumentNameExample\\\"\\n            ></small>\\n            <small\\n              data-ng-messages=\\\"transactionsFilterForm.instrumentName.$error\\\"\\n              data-role=\\\"alert\\\"\\n              class=\\\"text-danger\\\"\\n            >\\n              <span\\n                data-ng-message=\\\"pattern\\\"\\n                data-ng-bind=\\\"$transactionsFilterCtrl.filterErrors.instrumentName\\\"\\n              ></span>\\n              <span\\n                data-ng-message=\\\"maxlength\\\"\\n                data-ng-bind=\\\"$transactionsFilterCtrl.filterErrors.maxLength\\\"\\n              ></span>\\n            </small>\\n          </div>\\n        </div>\\n        <div class=\\\"col-6\\\">\\n          <div\\n            class=\\\"form-group\\\"\\n            data-ng-class=\\\"{\\n              'has-error':\\n                transactionsFilterForm.isin.$error.pattern ||\\n                transactionsFilterForm.isin.$error.maxlength\\n            }\\\"\\n          >\\n            <label data-ng-bind=\\\"$transactionsFilterCtrl.filterLabels.ISIN\\\"></label>\\n            <input\\n              name=\\\"isin\\\"\\n              class=\\\"form-control\\\"\\n              data-ng-model=\\\"$transactionsFilterCtrl.state.filter.isin\\\"\\n              data-role=\\\"transaction-isin\\\"\\n              data-ng-pattern=\\\"$transactionsFilterCtrl.state.validation.nameInputValidationPattern\\\"\\n              data-ng-maxlength=\\\"$transactionsFilterCtrl.state.validation.nameInputMaxLength\\\"\\n            />\\n            <small\\n              class=\\\"text-muted\\\"\\n              data-ng-bind=\\\"$transactionsFilterCtrl.filterLabels.ISINExample\\\"\\n              data-ng-hide=\\\"\\n                transactionsFilterForm.isin.$error.pattern ||\\n                transactionsFilterForm.isin.$error.maxlength\\n              \\\"\\n            ></small>\\n            <small\\n              data-ng-messages=\\\"transactionsFilterForm.isin.$error\\\"\\n              data-role=\\\"alert\\\"\\n              class=\\\"text-danger\\\"\\n            >\\n              <span\\n                data-ng-message=\\\"pattern\\\"\\n                data-ng-bind=\\\"$transactionsFilterCtrl.filterErrors.isin\\\"\\n              ></span>\\n              <span\\n                data-ng-message=\\\"maxlength\\\"\\n                data-ng-bind=\\\"$transactionsFilterCtrl.filterErrors.maxLength\\\"\\n              ></span>\\n            </small>\\n          </div>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-6\\\">\\n          <div\\n            class=\\\"form-group\\\"\\n            data-ng-class=\\\"{\\n              'has-error':\\n                transactionsFilterForm.counterpartyName.$error.pattern ||\\n                transactionsFilterForm.counterpartyName.$error.maxlength\\n            }\\\"\\n          >\\n            <label data-ng-bind=\\\"$transactionsFilterCtrl.filterLabels.counterpartyName\\\"></label>\\n            <input\\n              name=\\\"counterpartyName\\\"\\n              class=\\\"form-control\\\"\\n              data-ng-model=\\\"$transactionsFilterCtrl.state.filter.counterpartyName\\\"\\n              data-role=\\\"transaction-counterparty-name\\\"\\n              data-ng-maxlength=\\\"$transactionsFilterCtrl.state.validation.nameInputMaxLength\\\"\\n              data-ng-pattern=\\\"$transactionsFilterCtrl.state.validation.nameInputValidationPattern\\\"\\n            />\\n            <small\\n              class=\\\"text-muted\\\"\\n              data-ng-hide=\\\"\\n                transactionsFilterForm.counterpartyName.$error.pattern ||\\n                transactionsFilterForm.counterpartyName.$error.maxlength\\n              \\\"\\n              data-ng-bind=\\\"$transactionsFilterCtrl.filterLabels.counterpartyNameExample\\\"\\n            ></small>\\n            <small\\n              data-ng-messages=\\\"transactionsFilterForm.counterpartyName.$error\\\"\\n              data-role=\\\"alert\\\"\\n              class=\\\"text-danger\\\"\\n            >\\n              <span\\n                data-ng-message=\\\"pattern\\\"\\n                data-ng-bind=\\\"$transactionsFilterCtrl.filterErrors.counterpartyName\\\"\\n              ></span>\\n              <span\\n                data-ng-message=\\\"maxlength\\\"\\n                data-ng-bind=\\\"$transactionsFilterCtrl.filterErrors.maxLength\\\"\\n              ></span>\\n            </small>\\n          </div>\\n        </div>\\n        <div class=\\\"col-6\\\">\\n          <div\\n            class=\\\"form-group\\\"\\n            data-ng-class=\\\"{\\n              'has-error':\\n                transactionsFilterForm.counterpartyAccount.$error.pattern ||\\n                transactionsFilterForm.counterpartyAccount.$error.maxlength\\n            }\\\"\\n          >\\n            <label data-ng-bind=\\\"$transactionsFilterCtrl.filterLabels.counterpartyAccount\\\"></label>\\n            <input\\n              name=\\\"counterpartyAccount\\\"\\n              class=\\\"form-control\\\"\\n              data-ng-model=\\\"$transactionsFilterCtrl.state.filter.counterpartyAccount\\\"\\n              data-role=\\\"transaction-counterparty-account\\\"\\n              data-ng-maxlength=\\\"$transactionsFilterCtrl.state.validation.nameInputMaxLength\\\"\\n              data-ng-pattern=\\\"$transactionsFilterCtrl.state.validation.nameInputValidationPattern\\\">\\n            <small\\n              class=\\\"text-muted\\\"\\n              data-ng-hide=\\\"\\n                transactionsFilterForm.counterpartyAccount.$error.pattern ||\\n                transactionsFilterForm.counterpartyAccount.$error.maxlength\\n              \\\"\\n              data-ng-bind=\\\"$transactionsFilterCtrl.filterLabels.counterpartyAccountExample\\\"\\n            ></small>\\n            <small\\n              data-ng-messages=\\\"transactionsFilterForm.counterpartyAccount.$error\\\"\\n              data-role=\\\"alert\\\"\\n              class=\\\"text-danger\\\"\\n            >\\n              <span\\n                data-ng-message=\\\"pattern\\\"\\n                data-ng-bind=\\\"$transactionsFilterCtrl.filterErrors.counterpartyAccount\\\"\\n              ></span>\\n              <span\\n                data-ng-message=\\\"maxlength\\\"\\n                data-ng-bind=\\\"$transactionsFilterCtrl.filterErrors.maxLength\\\"\\n              ></span>\\n            </small>\\n          </div>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-6\\\">\\n          <div class=\\\"form-group\\\">\\n            <label data-ng-bind=\\\"$transactionsFilterCtrl.filterLabels.assetClass\\\"></label>\\n            <ui-bb-dropdown-select-ng\\n              data-ng-model=\\\"$transactionsFilterCtrl.state.filter.assetClass\\\"\\n              data-selected-as=\\\"$option.name\\\"\\n            >\\n              <ui-bb-dropdown-option-ng\\n                data-option=\\\"item\\\"\\n                data-role=\\\"transaction-asset-class\\\"\\n                data-ng-repeat=\\\"item in $transactionsFilterCtrl.filterAssetClasses\\\"\\n                class=\\\"list-group-item-text\\\"\\n              >\\n                <a href=\\\"javascript:void(0)\\\">\\n                  {{::$option.name}}\\n                </a>\\n              </ui-bb-dropdown-option-ng>\\n            </ui-bb-dropdown-select-ng>\\n          </div>\\n        </div>\\n        <div class=\\\"col-6\\\">\\n          <div class=\\\"form-group\\\">\\n            <label data-ng-bind=\\\"$transactionsFilterCtrl.filterLabels.transactionCategory\\\"></label>\\n            <ui-bb-dropdown-select-ng\\n              data-ng-model=\\\"$transactionsFilterCtrl.state.filter.transactionCategory\\\"\\n              data-selected-as=\\\"$option.name\\\"\\n            >\\n              <ui-bb-dropdown-option-ng\\n                data-option=\\\"item\\\"\\n                data-role=\\\"transaction-category\\\"\\n                data-ng-repeat=\\\"item in $transactionsFilterCtrl.filterTransactionCategories\\\"\\n                class=\\\"list-group-item-text\\\"\\n              >\\n                <a href=\\\"javascript:void(0)\\\">\\n                  {{::$option.name}}\\n                </a>\\n              </ui-bb-dropdown-option-ng>\\n            </ui-bb-dropdown-select-ng>\\n          </div>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-6\\\">\\n          <div class=\\\"form-group\\\">\\n            <label data-ng-bind=\\\"$transactionsFilterCtrl.filterLabels.timePeriod\\\"></label>\\n            <ui-bb-calendar-popup-ng\\n              data-config=\\\"$transactionsFilterCtrl.filterTimePeriodConfig\\\"\\n              data-role=\\\"transactions-time-period\\\"\\n              data-date-range=\\\"$transactionsFilterCtrl.state.filter.timePeriod\\\"\\n            ></ui-bb-calendar-popup-ng>\\n          </div>\\n        </div>\\n        <div class=\\\"col-6\\\">\\n          <div class=\\\"form-group\\\">\\n            <label data-ng-bind=\\\"$transactionsFilterCtrl.filterLabels.account\\\"></label>\\n            <ui-bb-dropdown-select-ng\\n              data-ng-model=\\\"$transactionsFilterCtrl.state.filter.account\\\"\\n              data-selected-as=\\\"$option.name\\\"\\n            >\\n              <ui-bb-dropdown-option-ng\\n                data-option=\\\"item\\\"\\n                data-role=\\\"transaction-account\\\"\\n                data-ng-repeat=\\\"item in $transactionsFilterCtrl.filterAccounts\\\"\\n                class=\\\"list-group-item-text\\\"\\n              >\\n                <a href=\\\"javascript:void(0)\\\">\\n                  {{::$option.name}}\\n                </a>\\n              </ui-bb-dropdown-option-ng>\\n            </ui-bb-dropdown-select-ng>\\n          </div>\\n        </div>\\n      </div>\\n\\n      <div\\n        class=\\\"form-group\\\"\\n        data-ng-class=\\\"{ 'has-error': transactionsFilterForm.amountTo.$error.required }\\\"\\n      >\\n        <label data-ng-bind=\\\"$transactionsFilterCtrl.filterLabels.amountRange\\\"></label>\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-6\\\">\\n            <input\\n              name=\\\"amountFrom\\\"\\n              class=\\\"form-control\\\"\\n              data-role=\\\"transaction-amount-range-from\\\"\\n              data-ng-model=\\\"$transactionsFilterCtrl.state.filter.amountRangeFrom\\\"\\n              data-ng-required=\\\"$transactionsFilterCtrl.state.filter.amountRangeTo\\\"\\n              data-ng-pattern=\\\"$transactionsFilterCtrl.state.validation.numberInputValidationPattern\\\"\\n              placeholder=\\\"{{$transactionsFilterCtrl.filterLabels.amountRangeFrom}}\\\"\\n            />\\n            <small\\n              class=\\\"text-muted\\\"\\n              data-ng-hide=\\\"\\n                transactionsFilterForm.amountFrom.$error.required ||\\n                transactionsFilterForm.amountFrom.$error.pattern\\n              \\\"\\n              data-ng-bind=\\\"$transactionsFilterCtrl.filterLabels.amountRangeExample\\\"\\n            ></small>\\n            <small\\n              data-ng-messages=\\\"transactionsFilterForm.amountFrom.$error\\\"\\n              data-role=\\\"alert\\\"\\n              class=\\\"text-danger\\\"\\n            >\\n              <span\\n                data-ng-message=\\\"required\\\"\\n                data-ng-bind=\\\"$transactionsFilterCtrl.filterErrors.amountRange\\\"\\n              ></span>\\n              <span\\n                data-ng-message=\\\"pattern\\\"\\n                data-ng-bind=\\\"$transactionsFilterCtrl.filterErrors.onlyNumbers\\\"\\n              ></span>\\n            </small>\\n          </div>\\n          <div class=\\\"col-6\\\">\\n            <input\\n              name=\\\"amountTo\\\"\\n              class=\\\"form-control\\\"\\n              data-role=\\\"transaction-amount-range-to\\\"\\n              data-ng-model=\\\"$transactionsFilterCtrl.state.filter.amountRangeTo\\\"\\n              data-ng-required=\\\"$transactionsFilterCtrl.state.filter.amountRangeFrom\\\"\\n              data-ng-pattern=\\\"$transactionsFilterCtrl.state.validation.numberInputValidationPattern\\\"\\n              placeholder=\\\"{{$transactionsFilterCtrl.filterLabels.amountRangeTo}}\\\"\\n            />\\n            <small\\n              data-ng-messages=\\\"transactionsFilterForm.amountTo.$error\\\"\\n              data-role=\\\"alert\\\"\\n              class=\\\"text-danger\\\"\\n            >\\n              <span\\n                data-ng-message=\\\"required\\\"\\n                data-ng-bind=\\\"$transactionsFilterCtrl.filterErrors.amountRange\\\"\\n              ></span>\\n              <span\\n                data-ng-message=\\\"pattern\\\"\\n                data-ng-bind=\\\"$transactionsFilterCtrl.filterErrors.onlyNumbers\\\"\\n              ></span>\\n            </small>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"float-right\\\">\\n    <button\\n      class=\\\"btn btn-link portfolio-transactions-filter-panel-footer-action\\\"\\n      type=\\\"button\\\"\\n      data-ng-click=\\\"$transactionsFilterCtrl.clearSelectedFilters()\\\"\\n    >\\n      <span data-ng-bind=\\\"$transactionsFilterCtrl.filterLabels.clearSelected\\\"></span>\\n    </button>\\n    <button\\n      class=\\\"btn btn-outline-secondary\\\"\\n      type=\\\"button\\\"\\n      data-ng-click=\\\"$transactionsFilterCtrl.cancelFilter()\\\"\\n    >\\n      <span data-ng-bind=\\\"$transactionsFilterCtrl.filterLabels.cancel\\\"></span>\\n    </button>\\n    <button\\n      class=\\\"btn btn-primary\\\"\\n      data-ng-disabled=\\\"transactionsFilterForm.$invalid\\\"\\n      type=\\\"submit\\\"\\n    >\\n      <span data-ng-bind=\\\"$transactionsFilterCtrl.filterLabels.applyFilters\\\"></span>\\n    </button>\\n  </div>\\n</form>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ui-wm-portfolio-transactions-filter-ng/scripts/template.html\n// module id = 123\n// module chunks = 27"],"sourceRoot":""}