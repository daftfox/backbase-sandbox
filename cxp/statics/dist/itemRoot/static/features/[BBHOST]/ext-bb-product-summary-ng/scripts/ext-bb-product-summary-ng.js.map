{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6*****","webpack:///webpack/bootstrap a983de776e3686600b94?4bc9*****","webpack:///./ext-bb-product-summary-ng/model.xml","webpack:///external \"vendor-bb-angular-ng-aria\"?9d0e***","webpack:///external \"ui-bb-format-amount-ng\"?8f72*","webpack:///external \"ui-bb-loading-indicator-ng\"?8f10*","webpack:///external \"ui-bb-substitute-error-ng\"?f57a*","webpack:///external \"ui-bb-element-dimensions-ng\"?9f26","webpack:///external \"ui-bb-i18n-ng\"?dc01****","webpack:///external \"vendor-bb-uib-popover\"?2eab","webpack:///./ext-bb-product-summary-ng/scripts/index.js","webpack:///external \"vendor-bb-uib-accordion\"","webpack:///external \"ui-bb-account-card-ng\"","webpack:///./ext-bb-product-summary-ng/scripts/helpers.js","webpack:///./ext-bb-product-summary-ng/scripts/hooks.js","webpack:///./ext-bb-product-summary-ng/scripts/product-kind-view.js","webpack:///./ext-bb-product-summary-ng/scripts/sorting-methods.js"],"names":["extHooks","hooks","helpers","extHelpers","dependencyKeys","uibAccordionKey","ngAriaModuleKey","uibPopoverKey","uiBbAccountCardKey","uiBbSubstituteErrorKey","uiBbFormatAmountKey","uiBbElementDimensionsKey","uiBbLoadingIndicatorKey","i18nKey","context","i18nFilter","$filter","productAdditions","buildAdditionalInfo","product","id","additional","pushAddition","name","amount","currency","alias","push","secondaryLabel","secondaryValue","tertiaryLabel","tertiaryValue","filterVisibleProducts","kinds","filter","kind","products","some","e","visible","handleAlias","handleErrors","errors","map","join","processKinds","productKindView","openImportantKinds","maskCardNumber","suffix","defaultViewModel","importantProductKinds","viewModelFactories","currentAccounts","identifier","IBAN","BBAN","primaryValue","bookedBalance","availableBalance","creditLimit","savingsAccounts","accruedInterest","termDeposits","principalAmount","creditCards","cardNumberSuffix","debitCards","loans","investmentAccounts","currentInvestmentValue","openAll","indexOf","length","forEach","Object","assign","isOpen","sort","sortingBy","productNameAsc","aggregatedBalance","productA","productB"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA,0C;;;;;;;ACAA,gD;;;;;;ACAA,gD;;;;;;ACAA,gD;;;;;;ACAA,gD;;;;;;ACAA,gD;;;;;;;ACAA,gD;;;;;;;;;;;ACAA,iD;;;;;;;;;;;;;;;;;;;;;;;;;;AC2CA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;KAAYA,Q;;;;;;AAEZ;;;;;;;AAOO,KAAMC,wBAAQD,QAAd,C,CA/DP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgEO,KAAME,4BAAUC,iBAAhB;;AAEA,KAAMC,0CAAiB,CAC5BC,8BAD4B,EAE5BC,+BAF4B,EAG5BC,4BAH4B,EAI5BC,2BAJ4B,EAK5BC,+BAL4B,EAM5BC,4BAN4B,EAO5BC,iCAP4B,EAQ5BC,gCAR4B,EAS5BC,oBAT4B,CAAvB,C;;;;;;AClEP,iD;;;;;;ACAA,iD;;;;;;;;;;;ACAA,KAAMX,UAAU,SAAVA,OAAU,CAACY,OAAD,EAAa;AAC3B,OAAMC,aAAaD,QAAQE,OAAR,CAAgB,MAAhB,CAAnB;AACA,OAAMC,mBAAmB,EAAzB;;AAEA,UAAO;AACL;;;;;;;;;;AAUAC,0BAAqB,sCAAW;AAC9B,WAAID,iBAAiBE,QAAQC,EAAzB,CAAJ,EAAkC;AAChC,gBAAOH,iBAAiBE,QAAQC,EAAzB,CAAP;AACD;;AAED,WAAMC,aAAa,EAAnB;AACA,WAAMC,eAAe,SAAfA,YAAe,CAACC,IAAD,EAAOC,MAAP,EAAeC,QAAf,EAAyBC,KAAzB,EAAmC;AACtDL,oBAAWM,IAAX,CAAgB;AACdJ,iBAAMR,WAAWQ,IAAX,CADQ;AAEdC,yBAFc;AAGdC,6BAHc;AAIdC,kBAAOX,WAAWW,KAAX;AAJO,UAAhB;AAMD,QAPD;;AASA,WAAIP,QAAQS,cAAR,IAA0BT,QAAQU,cAAtC,EAAsD;AACpDP,sBAAaH,QAAQS,cAArB,EAAqCT,QAAQU,cAA7C,EAA6DV,QAAQM,QAArE;AACD;;AAED,WAAIN,QAAQW,aAAR,IAAyBX,QAAQY,aAArC,EAAoD;AAClDT,sBAAaH,QAAQW,aAArB,EAAoCX,QAAQY,aAA5C,EAA2DZ,QAAQM,QAAnE;AACD;;AAEDR,wBAAiBE,QAAQC,EAAzB,IAA+BC,UAA/B;AACA,cAAOA,UAAP;AACD,MApCI;AAqCL;;;;;;;;;AASAW,4BAAuB;AAAA,cAAUC,MAAMC,MAAN,CAAa;AAAA,gBAAQC,KAAKC,QAAL,CAAcC,IAAd,CAAmB;AAAA,kBAAKC,EAAEC,OAAP;AAAA,UAAnB,CAAR;AAAA,QAAb,CAAV;AAAA,MA9ClB;AA+CL;;;;;;;;;;;AAWAC,kBAAa,qBAACd,KAAD,EAAQH,IAAR;AAAA,cAAkBG,SAASH,IAAT,IAAiBR,WAAW,wBAAX,CAAnC;AAAA,MA1DR;;AA4DL;;;;;;;;;AASA0B,mBAAc,8BAAU;AACtB,WAAI,CAACC,MAAL,EAAa;AACX,gBAAO,IAAP;AACD;AACD,cAAOA,OAAOC,GAAP,CAAW,UAACL,CAAD;AAAA,gBAAOvB,WAAWuB,CAAX,CAAP;AAAA,QAAX,EAAiCM,IAAjC,CAAsC,GAAtC,CAAP;AACD;AA1EI,IAAP;AA4ED,EAhFD;;mBAkFe1C,O;;AAEf;;;;;;;;;;;;;;;;;;ACnFA;;;;;;AAEA;;;;;;;;;AASO,KAAM2C,sCAAe,SAAfA,YAAe,CAACZ,KAAD;AAAA,UAAW,yCAAmBA,KAAnB,EAA0BU,GAA1B,CAA8BG,yBAA9B,CAAX;AAAA,EAArB,C,CAZP,iD;;;;;;;;;;;;SCyHgBC,kB,GAAAA,kB;;AAzHhB;;;;;;AAEA,KAAMC,iBAAiB,SAAjBA,cAAiB,CAACC,MAAD;AAAA,UAAYA,8BAA4BA,MAAxC;AAAA,EAAvB;;AAEA,KAAMC,mBAAmB,SAAnBA,gBAAmB,CAAC/B,OAAD;AAAA,UAAc;AACrCC,SAAID,QAAQC,EADyB;AAErCG,WAAMJ,QAAQI,IAFuB;AAGrCG,YAAOP,QAAQO;AAHsB,IAAd;AAAA,EAAzB;;AAMA;;;;;;AAMO,KAAMyB,wDAAwB,CACnC,iBADmC,EAEnC,iBAFmC,CAA9B;;AAKP,KAAMC,qBAAqB;AACzBC,oBAAiB,yBAAClC,OAAD;AAAA,YAAc;AAC7BC,WAAID,QAAQC,EADiB;AAE7BG,aAAMJ,QAAQI,IAFe;AAG7BG,cAAOP,QAAQO,KAHc;AAI7B4B,mBAAYnC,QAAQoC,IAAR,IAAgBpC,QAAQqC,IAJP;AAK7BC,qBAActC,QAAQuC,aALO;AAM7B7B,uBAAgBV,QAAQwC,gBANK;AAO7B/B,uBAAgB,wBAPa;AAQ7BG,sBAAeZ,QAAQyC,WARM;AAS7B9B,sBAAe,mBATc;AAU7BL,iBAAUN,QAAQM,QAVW;AAW7Bc,gBAASpB,QAAQoB;AAXY,MAAd;AAAA,IADQ;;AAezBsB,oBAAiB,yBAAC1C,OAAD;AAAA,YAAc;AAC7BC,WAAID,QAAQC,EADiB;AAE7BG,aAAMJ,QAAQI,IAFe;AAG7BG,cAAOP,QAAQO,KAHc;AAI7B4B,mBAAYnC,QAAQoC,IAAR,IAAgBpC,QAAQqC,IAJP;AAK7BC,qBAActC,QAAQuC,aALO;AAM7B7B,uBAAgBV,QAAQ2C,eANK;AAO7BlC,uBAAgB,6BAPa;AAQ7BH,iBAAUN,QAAQM,QARW;AAS7Bc,gBAASpB,QAAQoB;AATY,MAAd;AAAA,IAfQ;;AA2BzBwB,iBAAc,sBAAC5C,OAAD;AAAA,YAAc;AAC1BC,WAAID,QAAQC,EADc;AAE1BG,aAAMJ,QAAQI,IAFY;AAG1BG,cAAOP,QAAQO,KAHW;AAI1B+B,qBAActC,QAAQ6C,eAJI;AAK1BnC,uBAAgBV,QAAQ2C,eALE;AAM1BlC,uBAAgB,6BANU;AAO1BH,iBAAUN,QAAQM,QAPQ;AAQ1Bc,gBAASpB,QAAQoB;AARS,MAAd;AAAA,IA3BW;;AAsCzB0B,gBAAa,qBAAC9C,OAAD;AAAA,YAAc;AACzBC,WAAID,QAAQC,EADa;AAEzBG,aAAMJ,QAAQI,IAFW;AAGzBG,cAAOP,QAAQO,KAHU;AAIzB4B,mBAAYN,eAAe7B,QAAQ+C,gBAAvB,CAJa;AAKzBT,qBAActC,QAAQuC,aALG;AAMzB7B,uBAAgBV,QAAQyC,WANC;AAOzBhC,uBAAgB,mBAPS;AAQzBG,sBAAeZ,QAAQwC,gBARE;AASzB7B,sBAAe,wBATU;AAUzBL,iBAAUN,QAAQM,QAVO;AAWzBc,gBAASpB,QAAQoB;AAXQ,MAAd;AAAA,IAtCY;;AAoDzB4B,eAAY,oBAAChD,OAAD;AAAA,YAAc;AACxBC,WAAID,QAAQC,EADY;AAExBG,aAAMJ,QAAQI,IAFU;AAGxBG,cAAOP,QAAQO,KAHS;AAIxB4B,mBAAYN,eAAe7B,QAAQ+C,gBAAvB,CAJY;AAKxB3B,gBAASpB,QAAQoB;AALO,MAAd;AAAA,IApDa;;AA4DzB6B,UAAO,eAACjD,OAAD;AAAA,YAAc;AACnBC,WAAID,QAAQC,EADO;AAEnBG,aAAMJ,QAAQI,IAFK;AAGnBG,cAAOP,QAAQO,KAHI;AAInB+B,qBAActC,QAAQuC,aAJH;AAKnBjC,iBAAUN,QAAQM,QALC;AAMnBc,gBAASpB,QAAQoB;AANE,MAAd;AAAA,IA5DkB;;AAqEzB8B,uBAAoB,4BAAClD,OAAD;AAAA,YAAc;AAChCC,WAAID,QAAQC,EADoB;AAEhCG,aAAMJ,QAAQI,IAFkB;AAGhCG,cAAOP,QAAQO,KAHiB;AAIhC+B,qBAActC,QAAQmD,sBAJU;AAKhC7C,iBAAUN,QAAQM,QALc;AAMhCc,gBAASpB,QAAQoB;AANe,MAAd;AAAA;AArEK,EAA3B;;AA+EA;;;;;;;;;AASA,KAAMO,kBAAkB,SAAlBA,eAAkB,CAAC3B,OAAD;AAAA,UACtBiC,mBAAmBjC,QAAQgB,IAA3B,EAAiChB,OAAjC,KAA6C+B,iBAAiB/B,OAAjB,CADvB;AAAA,EAAxB;;AAGA;;;;;;;;;AASO,UAAS4B,kBAAT,CAA4Bd,KAA5B,EAAmC;AACxC,OAAMsC,UACJtC,MAAMC,MAAN,CAAa,UAACC,IAAD;AAAA,YAAUgB,sBAAsBqB,OAAtB,CAA8BrC,KAAKf,EAAnC,KAA0C,CAApD;AAAA,IAAb,EAAoEqD,MAApE,KAA+E,CADjF;;AAGAxC,SAAMyC,OAAN,CAAc,UAACvC,IAAD,EAAU;AACtB,SAAIoC,WAAW,CAAC,EAAEpB,sBAAsBqB,OAAtB,CAA8BrC,KAAKf,EAAnC,IAAyC,CAA3C,CAAhB,EAA+D;AAC7DuD,cAAOC,MAAP,CAAczC,IAAd,EAAoB,EAAE0C,QAAQ,IAAV,EAApB;AACD;AACF,IAJD;AAKA,UAAO5C,KAAP;AACD;;AAED;;;;;;;;;;mBASe,UAACE,IAAD;AAAA,UAAW;AACxBf,SAAIe,KAAKf,EADe;AAExBG,WAAMY,KAAKZ,IAFa;AAGxBG,YAAOS,KAAKT,KAHY;AAIxBU,eAAUD,KAAKC,QAAL,CACPO,GADO,CACHG,eADG,EAEPgC,IAFO,CAEFC,yBAAUC,cAFR,CAJc;AAOxBC,wBAAmB9C,KAAK8C,iBAPA;AAQxBxD,eAAUU,KAAKV,QARS;AASxBoD,aAAQ1C,KAAK0C,MATW;AAUxBtC,cAASJ,KAAKC,QAAL,CAAcG;AAVC,IAAX;AAAA,E;;AAaf;;;;;;;AAOA;;;;;;;;;;;;;;;;;;;;;;AClKA;;;mBAGe;AACb;;;;;;;;;AASAyC,mBAAgB,wBAACE,QAAD,EAAWC,QAAX,EAAwB;AACtC,SAAID,SAAS3D,IAAT,GAAgB4D,SAAS5D,IAA7B,EAAmC,OAAO,CAAC,CAAR;AACnC,SAAI2D,SAAS3D,IAAT,GAAgB4D,SAAS5D,IAA7B,EAAmC,OAAO,CAAP;AACnC,YAAO,CAAP;AACD;AAdY,E","file":"ext-bb-product-summary-ng/scripts/ext-bb-product-summary-ng.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vendor-bb-angular-ng-aria\"), require(\"ui-bb-format-amount-ng\"), require(\"ui-bb-loading-indicator-ng\"), require(\"ui-bb-substitute-error-ng\"), require(\"ui-bb-element-dimensions-ng\"), require(\"ui-bb-i18n-ng\"), require(\"vendor-bb-uib-popover\"), require(\"vendor-bb-uib-accordion\"), require(\"ui-bb-account-card-ng\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ext-bb-product-summary-ng\", [\"vendor-bb-angular-ng-aria\", \"ui-bb-format-amount-ng\", \"ui-bb-loading-indicator-ng\", \"ui-bb-substitute-error-ng\", \"ui-bb-element-dimensions-ng\", \"ui-bb-i18n-ng\", \"vendor-bb-uib-popover\", \"vendor-bb-uib-accordion\", \"ui-bb-account-card-ng\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ext-bb-product-summary-ng\"] = factory(require(\"vendor-bb-angular-ng-aria\"), require(\"ui-bb-format-amount-ng\"), require(\"ui-bb-loading-indicator-ng\"), require(\"ui-bb-substitute-error-ng\"), require(\"ui-bb-element-dimensions-ng\"), require(\"ui-bb-i18n-ng\"), require(\"vendor-bb-uib-popover\"), require(\"vendor-bb-uib-accordion\"), require(\"ui-bb-account-card-ng\"));\n\telse\n\t\troot[\"ext-bb-product-summary-ng\"] = factory(root[\"vendor-bb-angular-ng-aria\"], root[\"ui-bb-format-amount-ng\"], root[\"ui-bb-loading-indicator-ng\"], root[\"ui-bb-substitute-error-ng\"], root[\"ui-bb-element-dimensions-ng\"], root[\"ui-bb-i18n-ng\"], root[\"vendor-bb-uib-popover\"], root[\"vendor-bb-uib-accordion\"], root[\"ui-bb-account-card-ng\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_14__, __WEBPACK_EXTERNAL_MODULE_29__, __WEBPACK_EXTERNAL_MODULE_30__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a983de776e3686600b94","module.exports = require(\"./scripts/index.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ext-bb-product-summary-ng/model.xml\n// module id = 0\n// module chunks = 5","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor-bb-angular-ng-aria\"\n// module id = 2\n// module chunks = 0 1 2 3 5 10 13 14","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-format-amount-ng\"\n// module id = 3\n// module chunks = 0 1 5 7 12 17 19","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-loading-indicator-ng\"\n// module id = 4\n// module chunks = 0 4 5 13","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-substitute-error-ng\"\n// module id = 5\n// module chunks = 0 1 5 10 12 13 14","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-element-dimensions-ng\"\n// module id = 6\n// module chunks = 0 5","module.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-i18n-ng\"\n// module id = 8\n// module chunks = 0 1 2 4 5 6 7 8 9 10 11 12 13 14","module.exports = __WEBPACK_EXTERNAL_MODULE_14__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor-bb-uib-popover\"\n// module id = 14\n// module chunks = 1 5","/**\n * @module ext-bb-product-summary-ng\n *\n * @description\n * Default extension for product summary widget.\n *\n * @requires vendor-bb-uib-accordion\n * @requires ui-bb-account-card-ng\n * @requires ui-bb-substitute-error-ng\n * @requires ui-bb-format-amount-ng\n * @requires vendor-bb-uib-popover\n *\n * @example\n * <!-- payment widget model.xml -->\n * <property name=\"extension\" viewHint=\"text-input,admin\">\n *  <value type=\"string\">ext-bb-product-summary-ng</value>\n * </property>\n *\n * Usage of ui-bb-account-card-ng component in template\n *\n * <ui-bb-account-card-ng\n *   account-name=\"$ctrl.payment.from.name\"\n *   account-number=\"$ctrl.payment.from.identifier\"\n *   amount=\"$ctrl.payment.from.amount\"\n *   currency=\"$ctrl.payment.from.currency\"\n *   show-avatar=\"true\">\n * </ui-bb-account-card-ng>\n *\n * Usage of ui-bb-format-amount-ng component in template\n *\n * <ui-bb-format-amount\n * amount=\"$option.amount\"\n * currency=\"$option.currency\"\n * wrap\n * no-map\n * ></ui-bb-format-amount>\n *\n * where\n * amount {string} Amount string\n * currency {string} Currency code string\n * wrap Condition to process values as HTML or not\n * noMap Condition to stop looking for currency mapping in the currency-map\n */\nimport uibAccordionKey from 'vendor-bb-uib-accordion';\nimport ngAriaModuleKey from 'vendor-bb-angular-ng-aria';\nimport uibPopoverKey from 'vendor-bb-uib-popover';\nimport uiBbAccountCardKey from 'ui-bb-account-card-ng';\nimport uiBbSubstituteErrorKey from 'ui-bb-substitute-error-ng';\nimport uiBbFormatAmountKey from 'ui-bb-format-amount-ng';\nimport uiBbElementDimensionsKey from 'ui-bb-element-dimensions-ng';\nimport uiBbLoadingIndicatorKey from 'ui-bb-loading-indicator-ng';\nimport i18nKey from 'ui-bb-i18n-ng';\n\nimport extHelpers from './helpers';\nimport * as extHooks from './hooks';\n\n/**\n * @name Hooks\n * @type {object}\n *\n * @description\n * Hooks for widget-bb-product-summary-ng\n */\nexport const hooks = extHooks;\nexport const helpers = extHelpers;\n\nexport const dependencyKeys = [\n  uibAccordionKey,\n  ngAriaModuleKey,\n  uibPopoverKey,\n  uiBbAccountCardKey,\n  uiBbSubstituteErrorKey,\n  uiBbFormatAmountKey,\n  uiBbElementDimensionsKey,\n  uiBbLoadingIndicatorKey,\n  i18nKey,\n];\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bb-product-summary-ng/scripts/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_29__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor-bb-uib-accordion\"\n// module id = 29\n// module chunks = 5","module.exports = __WEBPACK_EXTERNAL_MODULE_30__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-account-card-ng\"\n// module id = 30\n// module chunks = 5","const helpers = (context) => {\n  const i18nFilter = context.$filter('i18n');\n  const productAdditions = [];\n\n  return {\n    /**\n     * @description\n     * Builds AdditionalInfo array out of ProductView object.\n     * Result can be passed to account card component\n     *\n     * @name buildAdditionalInfo\n     * @type {function}\n     * @param {ProductView} product\n     * @returns {AdditionalInfo[]}\n     */\n    buildAdditionalInfo: product => {\n      if (productAdditions[product.id]) {\n        return productAdditions[product.id];\n      }\n\n      const additional = [];\n      const pushAddition = (name, amount, currency, alias) => {\n        additional.push({\n          name: i18nFilter(name),\n          amount,\n          currency,\n          alias: i18nFilter(alias),\n        });\n      };\n\n      if (product.secondaryLabel || product.secondaryValue) {\n        pushAddition(product.secondaryLabel, product.secondaryValue, product.currency);\n      }\n\n      if (product.tertiaryLabel || product.tertiaryValue) {\n        pushAddition(product.tertiaryLabel, product.tertiaryValue, product.currency);\n      }\n\n      productAdditions[product.id] = additional;\n      return additional;\n    },\n    /**\n     * @description\n     * Filters products by visibility\n     *\n     * @name filterVisibleProducts\n     * @type {function}\n     * @param {object[]} products\n     * @returns {object} products - filtered products\n     */\n    filterVisibleProducts: kinds => (kinds.filter(kind => kind.products.some(e => e.visible))),\n    /**\n     * @description\n     * Handles displaying a value for alias depending on what is available\n     * from the product.\n     *\n     * @name handleAlias\n     * @type {function}\n     * @param {string} name\n     * @param {string} alias\n     * @returns {string} alias || name || fallback message\n     */\n    handleAlias: (alias, name) => (alias || name || i18nFilter('product.label.no.alias')),\n\n    /**\n     * @description\n     * Handles one or multiple errors messages, mapping error key with propper message\n     *\n     * @name handleErrors\n     * @type {function}\n     * @param {array} errors\n     * @returns {string} message\n     */\n    handleErrors: errors => {\n      if (!errors) {\n        return null;\n      }\n      return errors.map((e) => i18nFilter(e)).join(' ');\n    },\n  };\n};\n\nexport default helpers;\n\n/**\n * @typedef {Object} AdditionalInfo\n * @property {?string} name Additional info label\n * @property {?number} amount Additional info row's amount\n * @property {?string} currency ISO currency code\n */\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bb-product-summary-ng/scripts/helpers.js","/* eslint-disable import/prefer-default-export */\nimport productKindView, { openImportantKinds } from './product-kind-view';\n\n/**\n * @name processKinds\n * @description\n * Hook for processing product kinds after initialization.\n *\n * @type {function}\n * @param kinds {ProductKind[]} ProductKinds to process\n * @returns {ProductKindView[]}\n */\nexport const processKinds = (kinds) => openImportantKinds(kinds).map(productKindView);\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bb-product-summary-ng/scripts/hooks.js","import sortingBy from './sorting-methods';\n\nconst maskCardNumber = (suffix) => suffix && `XXXX-XXXX-XXXX-${suffix}`;\n\nconst defaultViewModel = (product) => ({\n  id: product.id,\n  name: product.name,\n  alias: product.alias,\n});\n\n/**\n * @description\n * List of product kinds that will be expanded on widget initialization\n *\n * @type {string[]}\n */\nexport const importantProductKinds = [\n  'currentAccounts',\n  'savingsAccounts',\n];\n\nconst viewModelFactories = {\n  currentAccounts: (product) => ({\n    id: product.id,\n    name: product.name,\n    alias: product.alias,\n    identifier: product.IBAN || product.BBAN,\n    primaryValue: product.bookedBalance,\n    secondaryValue: product.availableBalance,\n    secondaryLabel: 'label.availableBalance',\n    tertiaryValue: product.creditLimit,\n    tertiaryLabel: 'label.creditLimit',\n    currency: product.currency,\n    visible: product.visible,\n  }),\n\n  savingsAccounts: (product) => ({\n    id: product.id,\n    name: product.name,\n    alias: product.alias,\n    identifier: product.IBAN || product.BBAN,\n    primaryValue: product.bookedBalance,\n    secondaryValue: product.accruedInterest,\n    secondaryLabel: 'label.accruedInterestAmount',\n    currency: product.currency,\n    visible: product.visible,\n  }),\n\n  termDeposits: (product) => ({\n    id: product.id,\n    name: product.name,\n    alias: product.alias,\n    primaryValue: product.principalAmount,\n    secondaryValue: product.accruedInterest,\n    secondaryLabel: 'label.accruedInterestAmount',\n    currency: product.currency,\n    visible: product.visible,\n  }),\n\n  creditCards: (product) => ({\n    id: product.id,\n    name: product.name,\n    alias: product.alias,\n    identifier: maskCardNumber(product.cardNumberSuffix),\n    primaryValue: product.bookedBalance,\n    secondaryValue: product.creditLimit,\n    secondaryLabel: 'label.creditLimit',\n    tertiaryValue: product.availableBalance,\n    tertiaryLabel: 'label.availableBalance',\n    currency: product.currency,\n    visible: product.visible,\n  }),\n\n  debitCards: (product) => ({\n    id: product.id,\n    name: product.name,\n    alias: product.alias,\n    identifier: maskCardNumber(product.cardNumberSuffix),\n    visible: product.visible,\n  }),\n\n  loans: (product) => ({\n    id: product.id,\n    name: product.name,\n    alias: product.alias,\n    primaryValue: product.bookedBalance,\n    currency: product.currency,\n    visible: product.visible,\n  }),\n\n  investmentAccounts: (product) => ({\n    id: product.id,\n    name: product.name,\n    alias: product.alias,\n    primaryValue: product.currentInvestmentValue,\n    currency: product.currency,\n    visible: product.visible,\n  }),\n};\n\n/**\n * @description\n * Prepare the fields of a Product into a form ready for display to the User\n *\n * @inner\n * @type {function}\n * @param {object} product The source Product from the API\n * @returns {ProductView}\n */\nconst productKindView = (product) =>\n  viewModelFactories[product.kind](product) || defaultViewModel(product);\n\n/**\n * @description\n * Check important kind option and determine which ProductKind should be opened on init\n *\n * @inner\n * @type {function}\n * @param {ProductKind[]} Array of ProductKinds\n * @returns {ProductKind[]}\n */\nexport function openImportantKinds(kinds) {\n  const openAll =\n    kinds.filter((kind) => importantProductKinds.indexOf(kind.id) >= 0).length === 0;\n\n  kinds.forEach((kind) => {\n    if (openAll || !!(importantProductKinds.indexOf(kind.id) + 1)) {\n      Object.assign(kind, { isOpen: true });\n    }\n  });\n  return kinds;\n}\n\n/**\n * @description\n * Prepare the fields of a Product Kind into a form ready for display to the User\n *\n * @private\n * @type {function}\n * @param {object} kind The source ProductKind from the API\n * @returns {ProductKindView}\n */\nexport default (kind) => ({\n  id: kind.id,\n  name: kind.name,\n  alias: kind.alias,\n  products: kind.products\n    .map(productKindView)\n    .sort(sortingBy.productNameAsc),\n  aggregatedBalance: kind.aggregatedBalance,\n  currency: kind.currency,\n  isOpen: kind.isOpen,\n  visible: kind.products.visible,\n});\n\n/**\n * @typedef {Object} ProductKindView\n * @property {string} id The Product Kind identifier\n * @property {string} name The name of the Kind, suitable for display to users\n * @property {Array.<ProductView>} products The products of this Kind\n */\n\n/**\n * @typedef {Object} ProductView\n * @property {string} id The internal Product Identifier\n * @property {string} name The product's name, suitable for display to users\n * @property {?string} identifier The identifier of the Product from the user's perspective\n * @property {?string} primaryValue The most important associated value to be displayed\n * @property {?string} secondaryValue A secondary associated value to be displayed\n * @property {?string} secondaryLabel A label to describe the secondary value\n * @property {?string} tertiaryValue A tertiary associated value to be displayed\n * @property {?string} tertiaryLabel A label to describe the tertiary value\n * @property {?string} currency ISO currency code\n */\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bb-product-summary-ng/scripts/product-kind-view.js","/**\n * Sorting methods for products\n */\nexport default {\n  /**\n   * @name productNameAsc\n   * @description\n   * Sort products alphabetically by name, ascending\n   * @type {function}\n   * @param {Object} productA\n   * @param {Object} productB\n   * @returns {('-1'|'0'|'1')} result\n   */\n  productNameAsc: (productA, productB) => {\n    if (productA.name < productB.name) return -1;\n    if (productA.name > productB.name) return 1;\n    return 0;\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bb-product-summary-ng/scripts/sorting-methods.js"],"sourceRoot":""}