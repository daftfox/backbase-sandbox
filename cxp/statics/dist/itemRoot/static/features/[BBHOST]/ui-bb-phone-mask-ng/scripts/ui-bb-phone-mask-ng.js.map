{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6*******","webpack:///webpack/bootstrap f3d2485eec67eb2fdf62?1eb6*******","webpack:///./ui-bb-phone-mask-ng/model.xml","webpack:///external \"vendor-bb-angular\"?a114","webpack:///./ui-bb-phone-mask-ng/scripts/index.js","webpack:///./ui-bb-phone-mask-ng/scripts/directive.js","webpack:///./ui-bb-phone-mask-ng/scripts/helpers.js"],"names":["angular","module","directive","name","uiBbPhoneMask","nonDigitRegExp","restrict","require","link","scope","element","attrs","ctrl","format","numberLengthValidator","replace","length","$formatters","push","value","helpers","mask","$parsers","masked","$setViewValue","$render","Object","assign","$validators","phoneMask","modelValue","$isEmpty","val","isString","String","newValue","numberInput","maskInput","match"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;ACtCA,0C;;;;;;;ACAA,iD;;;;;;;;;;;;;ACAA;;;;AACA;;;;;;mBAEeA,0BACZC,MADY,CACL,qBADK,EACkB,EADlB,EAEZC,SAFY,CAEF,eAFE,EAEe,CAACA,mBAAD,CAFf,EAGZC,I;;;;;;;;;;;;mBCKqBC,a;;AAXxB;;;;;;AAEA,KAAMC,iBAAiB,KAAvB;;AAEA;;;;;;;AAOe,UAASD,aAAT,GAAyB;AACtC,UAAO;AACLE,eAAU,GADL;AAELC,cAAS,SAFJ;AAGLC,SAHK,gBAGAC,KAHA,EAGOC,OAHP,EAGgBC,KAHhB,EAGuBC,IAHvB,EAG6B;AAChC,WAAMC,SAASF,MAAMP,aAArB;AACA,WAAMU,wBAAwBD,OAAOE,OAAP,CAAeV,cAAf,EAA+B,EAA/B,EAAmCW,MAAjE;;AAEAJ,YAAKK,WAAL,CAAiBC,IAAjB,CAAsB,UAACC,KAAD;AAAA,gBAAWC,kBAAQC,IAAR,CAAaR,MAAb,EAAqBM,KAArB,CAAX;AAAA,QAAtB;;AAEAP,YAAKU,QAAL,CAAcJ,IAAd,CAAmB,UAACC,KAAD,EAAW;AAC5B,aAAMI,SAASH,kBAAQC,IAAR,CAAaR,MAAb,EAAqBM,KAArB,CAAf;AACAP,cAAKY,aAAL,CAAmBD,MAAnB;AACAX,cAAKa,OAAL;AACA,gBAAOF,OAAOR,OAAP,CAAeV,cAAf,EAA+B,EAA/B,CAAP;AACD,QALD;;AAOAqB,cAAOC,MAAP,CAAcf,KAAKgB,WAAnB,EAAgC;AAC9BC,oBAAW,mBAACC,UAAD;AAAA,kBACT,CAAClB,KAAKmB,QAAL,CAAcD,UAAd,CAAD,IAA8BA,WAAWd,MAAX,KAAsBF,qBAD3C;AAAA;AADmB,QAAhC;AAID;AApBI,IAAP;AAsBD,E;;;;;;;;;;;;;AClCD;;;;;;mBAEe;AACb;;;;;;;AAOAO,OARa,gBAQRR,MARQ,EAQAmB,GARA,EAQK;AAChB,SAAI,CAAChC,0BAAQiC,QAAR,CAAiBD,GAAjB,CAAL,EAA4B;AAC1B,cAAO,EAAP;AACD;;AAED,SAAMb,QAAQe,OAAOF,GAAP,EAAYjB,OAAZ,CAAoB,KAApB,EAA2B,EAA3B,CAAd;AACA,SAAIoB,WAAW,EAAf;;AAEA,UAAK,IAAIC,cAAc,CAAlB,EAAqBC,YAAY,CAAtC,EAAyCA,YAAYxB,OAAOG,MAA5D,GAAqE;AACnE,WAAI,CAACG,MAAMiB,WAAN,CAAL,EAAyB;AACvB;AACD;AACD,WAAIvB,OAAOwB,SAAP,EAAkBC,KAAlB,CAAwB,IAAxB,CAAJ,EAAmC;AACjCH,qBAAYtB,OAAOwB,SAAP,CAAZ;AACD,QAFD,MAEO;AACLF,qBAAYhB,MAAMiB,WAAN,CAAZ;AACAA;AACD;AACDC;AACD;;AAED,YAAOF,QAAP;AACD;AA9BY,E","file":"ui-bb-phone-mask-ng/scripts/ui-bb-phone-mask-ng.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vendor-bb-angular\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ui-bb-phone-mask-ng\", [\"vendor-bb-angular\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ui-bb-phone-mask-ng\"] = factory(require(\"vendor-bb-angular\"));\n\telse\n\t\troot[\"ui-bb-phone-mask-ng\"] = factory(root[\"vendor-bb-angular\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_47__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f3d2485eec67eb2fdf62","module.exports = require(\"./scripts/index.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ui-bb-phone-mask-ng/model.xml\n// module id = 0\n// module chunks = 8","module.exports = __WEBPACK_EXTERNAL_MODULE_47__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor-bb-angular\"\n// module id = 47\n// module chunks = 7 8 9 10 11","import angular from 'vendor-bb-angular';\nimport directive from './directive';\n\nexport default angular\n  .module('ui-bb-phone-mask-ng', [])\n  .directive('uiBbPhoneMask', [directive])\n  .name;\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-phone-mask-ng/scripts/index.js","import helpers from './helpers';\n\nconst nonDigitRegExp = /\\D/g;\n\n/**\n * @module ui-bb-phone-mask-ng\n * @name uiBbPhoneMask\n * @type {function}\n * @description Directive for masking phone number\n * @return {object}\n */\nexport default function uiBbPhoneMask() {\n  return {\n    restrict: 'A',\n    require: 'ngModel',\n    link(scope, element, attrs, ctrl) {\n      const format = attrs.uiBbPhoneMask;\n      const numberLengthValidator = format.replace(nonDigitRegExp, '').length;\n\n      ctrl.$formatters.push((value) => helpers.mask(format, value));\n\n      ctrl.$parsers.push((value) => {\n        const masked = helpers.mask(format, value);\n        ctrl.$setViewValue(masked);\n        ctrl.$render();\n        return masked.replace(nonDigitRegExp, '');\n      });\n\n      Object.assign(ctrl.$validators, {\n        phoneMask: (modelValue) =>\n          !ctrl.$isEmpty(modelValue) && modelValue.length === numberLengthValidator,\n      });\n    },\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-phone-mask-ng/scripts/directive.js","import angular from 'vendor-bb-angular';\n\nexport default {\n  /**\n   * @name mask\n   * @type {function}\n   * @param {string} format Format of the input\n   * @param {string} val Value of the input\n   * @return {string} Formatted value\n   */\n  mask(format, val) {\n    if (!angular.isString(val)) {\n      return '';\n    }\n\n    const value = String(val).replace(/\\D/g, '');\n    let newValue = '';\n\n    for (let numberInput = 0, maskInput = 0; maskInput < format.length;) {\n      if (!value[numberInput]) {\n        break;\n      }\n      if (format[maskInput].match(/\\D/)) {\n        newValue += format[maskInput];\n      } else {\n        newValue += value[numberInput];\n        numberInput++;\n      }\n      maskInput++;\n    }\n\n    return newValue;\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-phone-mask-ng/scripts/helpers.js"],"sourceRoot":""}