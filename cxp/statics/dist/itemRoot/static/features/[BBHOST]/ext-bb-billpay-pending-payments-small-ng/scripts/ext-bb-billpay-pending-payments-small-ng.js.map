{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6*****","webpack:///webpack/bootstrap f3d2485eec67eb2fdf62?1eb6*****","webpack:///./ext-bb-billpay-pending-payments-small-ng/model.xml","webpack:///external \"vendor-bb-angular-ng-aria\"?9d0e****","webpack:///external \"ui-bb-i18n-ng\"?dc01****","webpack:///external \"ui-bb-format-amount-ng\"?8f72****","webpack:///external \"ui-bb-loading-overlay-ng\"?3561****","webpack:///external \"ui-bb-substitute-error-ng\"?f57a***","webpack:///external \"ui-bb-notification-stripe-ng\"?0663**","webpack:///external \"ui-bb-modal-ng\"?53b9**","webpack:///external \"vendor-bb-uib-dropdown\"?68ee*","webpack:///external \"vendor-bb-uib-tooltip\"?1524","webpack:///./ext-bb-billpay-pending-payments-small-ng/scripts/index.js","webpack:///./ext-bb-billpay-pending-payments-small-ng/scripts/hooks.js","webpack:///./ext-bb-billpay-pending-payments-small-ng/scripts/helpers.js","webpack:///./ext-bb-billpay-pending-payments-small-ng/scripts/intents.js"],"names":["default","dependencyKeys","ngAriaKey","uiBbI18nKey","uiBbFormatAmountKey","uiBbLoadingOverlayKey","uiBbNotificationStripeKey","uibDropdownKey","uiBbSubstituteErrorKey","uibTooltipKey","uiBbModalKey","events","removeTimeFromStringDate","date","length","substring","transformPayment","payment","paymentDate","payeeDisplayName","payeeNickName","payeeName","Helpers","templates","list","billpayViewPaymentsService","router","isEditPaymentDisabled","status","recurring","isDeletePaymentDisabled","template","getRoute","getCurrencyCode","paymentsTableHeader","editPayment","intents","editSinglePayment","id","deletePayment","$ctrl","openDeleteDialog","getLoadingErrorMessageKey","error","message","editPaymentTooltip","deletePaymentTooltip","Intents","stateContainer","handleResponse","processResponse","paymentId","setState","getState","newPaymentIds","showSuccessMessage"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA,0C;;;;;;;;;ACAA,gD;;;;;;;;;ACAA,gD;;;;;;ACAA,gD;;;;;;ACAA,iD;;;;;;;;ACAA,iD;;;;;;;;;;;;;ACAA,iD;;;;;;ACAA,iD;;;;;;;;;;ACAA,iD;;;;;;;;;;;;;;;ACAA,iD;;;;;;;;;;;;;;;;;;2CC8BSA,O;;;;;;;;;6CAEAA,O;;;;;;;;;6CAEAA,O;;;;AA1BT;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEO,KAAMC,0CAAiB,CAC5BC,+BAD4B,EAE5BC,oBAF4B,EAG5BC,4BAH4B,EAI5BC,8BAJ4B,EAK5BC,kCAL4B,EAM5BC,6BAN4B,EAO5BC,+BAP4B,EAQ5BC,4BAR4B,EAS5BC,qBAT4B,CAAvB,C,CAlBP;;;;;;;;AAoCO,KAAMC,0BAAS,EAAf,C;;;;;;;;;;;ACpCP,KAAMC,2BACJ,SADIA,wBACJ;AAAA,UAASC,QAAQA,KAAKC,MAAL,IAAe,EAAvB,GAA4BD,KAAKE,SAAL,CAAe,CAAf,EAAkB,EAAlB,CAA5B,GAAoDF,IAA7D;AAAA,EADF;;AAGA;;;;;mBAKe;AACb;;;;;;;AAOAG,qBAAkB,0BAACC,OAAD;AAAA,8BACbA,OADa;AAEhB;AACAC,oBAAaN,yBAAyBK,QAAQC,WAAjC,CAHG;AAIhBC,yBAAkBF,QAAQG,aAAR,IAAyBH,QAAQI;AAJnC;AAAA;AARL,E;;;;;;;;;;;mBCDSC,O;AAPxB,KAAMC,YAAY;AAChBC,SAAM;AADU,EAAlB;;AAIA;;;AAGe,UAASF,OAAT,OAAyD;AAAA,OAAtCG,0BAAsC,QAAtCA,0BAAsC;AAAA,OAAVC,MAAU,QAAVA,MAAU;;AACtE;;;;;;;;;;AAUA,OAAMC,wBAAwB,SAAxBA,qBAAwB;AAAA,SAAGC,MAAH,SAAGA,MAAH;AAAA,SAAWC,SAAX,SAAWA,SAAX;AAAA,YAA2BA,aAAaD,WAAW,SAAnD;AAAA,IAA9B;;AAEA;;;;;;;;;AASA,OAAME,0BAA0B,SAA1BA,uBAA0B;AAAA,SAAGF,MAAH,SAAGA,MAAH;AAAA,YAAgBA,WAAW,SAA3B;AAAA,IAAhC;;AAEA;;;;AAIA,UAAO;AACL;;;;;;AAMA,SAAIG,QAAJ,GAAe;AACb,cAAOR,UAAUG,OAAOM,QAAP,EAAV,CAAP;AACD,MATI;;AAWL;;;;;;AAMAC,oBAjBK,6BAiBa;AAChB,cAAOR,2BAA2BQ,eAA3B,EAAP;AACD,MAnBI;;AAoBL;;;;;AAKAC,0BAAqB,CACnB,qBADmB,EAEnB,qBAFmB,EAGnB,yBAHmB,CAzBhB;;AA+BL;;;;;;;;AAQAC,kBAAa,qBAACC,OAAD,EAAUnB,OAAV,EAAsB;AACjC,WAAI,CAACU,sBAAsBV,OAAtB,CAAL,EAAqC;AACnCmB,iBAAQC,iBAAR,CAA0BpB,QAAQqB,EAAlC;AACD;AACF,MA3CI;;AA6CL;;;;;;;;AAQAC,oBAAe,uBAACC,KAAD,EAAQvB,OAAR,EAAoB;AACjC,WAAI,CAACa,wBAAwBb,OAAxB,CAAL,EAAuC;AACrCuB,eAAMC,gBAAN,CAAuBxB,OAAvB;AACD;AACF,MAzDI;;AA2DL;;;;;;;;AAQAyB,gCAA2B;AAAA,WAAGC,KAAH,SAAGA,KAAH;AAAA,cAAgBA,QAAQA,MAAMC,OAAd,GAAwB,EAAxC;AAAA,MAnEtB;;AAqEL;;;;;;;;;AASAjB,iDA9EK;;AAgFL;;;;;;;;AAQAG,qDAxFK;;AA0FL;;;;;;;;AAQAe,yBAAoB;AAAA,WAAGhB,SAAH,SAAGA,SAAH;AAAA,cACjBA,YACG,yCADH,GAEG,qCAHc;AAAA,MAlGf;;AAuGL;;;;;;;;AAQAiB,2BAAsB;AAAA,WAAGjB,SAAH,SAAGA,SAAH;AAAA,cACnBA,YACG,2CADH,GAEG,qCAHgB;AAAA;AA/GjB,IAAP;AAoHD,E;;;;;;;;;;;mBCvJuBkB,O;AAAT,UAASA,OAAT,OAAqD;AAAA,OAAlCC,cAAkC,QAAlCA,cAAkC;AAAA,OAAlBC,cAAkB,QAAlBA,cAAkB;;AAClE;;;;;;;;;AASA,OAAMC,kBAAkB,SAAlBA,eAAkB,QAA2B;AAAA,SAAxBtB,MAAwB,SAAxBA,MAAwB;AAAA,SAAhBuB,SAAgB,SAAhBA,SAAgB;;AACjD,SAAIvB,WAAW,SAAX,IAAwBuB,SAA5B,EAAuC;AACrCH,sBAAeI,QAAf,mBACKJ,eAAeK,QAAf,EADL;AAEEC,wBAAe,CAACH,SAAD,CAFjB;AAGEI,6BAAoB;AAHtB;AAKD;AACF,IARD;;AAUA,UAAO;AACL;;;;;;AAMAlB,wBAAmBY,eAAe,oCAAf,EAAqDC,eAArD;AAPd,IAAP;AASD,E","file":"ext-bb-billpay-pending-payments-small-ng/scripts/ext-bb-billpay-pending-payments-small-ng.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vendor-bb-angular-ng-aria\"), require(\"ui-bb-i18n-ng\"), require(\"ui-bb-format-amount-ng\"), require(\"ui-bb-loading-overlay-ng\"), require(\"ui-bb-substitute-error-ng\"), require(\"ui-bb-notification-stripe-ng\"), require(\"ui-bb-modal-ng\"), require(\"vendor-bb-uib-dropdown\"), require(\"vendor-bb-uib-tooltip\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ext-bb-billpay-pending-payments-small-ng\", [\"vendor-bb-angular-ng-aria\", \"ui-bb-i18n-ng\", \"ui-bb-format-amount-ng\", \"ui-bb-loading-overlay-ng\", \"ui-bb-substitute-error-ng\", \"ui-bb-notification-stripe-ng\", \"ui-bb-modal-ng\", \"vendor-bb-uib-dropdown\", \"vendor-bb-uib-tooltip\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ext-bb-billpay-pending-payments-small-ng\"] = factory(require(\"vendor-bb-angular-ng-aria\"), require(\"ui-bb-i18n-ng\"), require(\"ui-bb-format-amount-ng\"), require(\"ui-bb-loading-overlay-ng\"), require(\"ui-bb-substitute-error-ng\"), require(\"ui-bb-notification-stripe-ng\"), require(\"ui-bb-modal-ng\"), require(\"vendor-bb-uib-dropdown\"), require(\"vendor-bb-uib-tooltip\"));\n\telse\n\t\troot[\"ext-bb-billpay-pending-payments-small-ng\"] = factory(root[\"vendor-bb-angular-ng-aria\"], root[\"ui-bb-i18n-ng\"], root[\"ui-bb-format-amount-ng\"], root[\"ui-bb-loading-overlay-ng\"], root[\"ui-bb-substitute-error-ng\"], root[\"ui-bb-notification-stripe-ng\"], root[\"ui-bb-modal-ng\"], root[\"vendor-bb-uib-dropdown\"], root[\"vendor-bb-uib-tooltip\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_9__, __WEBPACK_EXTERNAL_MODULE_10__, __WEBPACK_EXTERNAL_MODULE_13__, __WEBPACK_EXTERNAL_MODULE_21__, __WEBPACK_EXTERNAL_MODULE_22__, __WEBPACK_EXTERNAL_MODULE_27__, __WEBPACK_EXTERNAL_MODULE_37__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f3d2485eec67eb2fdf62","module.exports = require(\"./scripts/index.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ext-bb-billpay-pending-payments-small-ng/model.xml\n// module id = 0\n// module chunks = 5","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor-bb-angular-ng-aria\"\n// module id = 4\n// module chunks = 0 1 2 3 4 5","module.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-i18n-ng\"\n// module id = 8\n// module chunks = 0 1 2 3 4 5","module.exports = __WEBPACK_EXTERNAL_MODULE_9__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-format-amount-ng\"\n// module id = 9\n// module chunks = 0 1 2 3 4 5","module.exports = __WEBPACK_EXTERNAL_MODULE_10__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-loading-overlay-ng\"\n// module id = 10\n// module chunks = 0 1 2 3 4 5","module.exports = __WEBPACK_EXTERNAL_MODULE_13__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-substitute-error-ng\"\n// module id = 13\n// module chunks = 0 2 3 4 5","module.exports = __WEBPACK_EXTERNAL_MODULE_21__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-notification-stripe-ng\"\n// module id = 21\n// module chunks = 1 2 4 5","module.exports = __WEBPACK_EXTERNAL_MODULE_22__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-modal-ng\"\n// module id = 22\n// module chunks = 1 2 4 5","module.exports = __WEBPACK_EXTERNAL_MODULE_27__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor-bb-uib-dropdown\"\n// module id = 27\n// module chunks = 2 4 5","module.exports = __WEBPACK_EXTERNAL_MODULE_37__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor-bb-uib-tooltip\"\n// module id = 37\n// module chunks = 4 5","/**\n * @module ext-bb-billpay-pending-payments-ng\n *\n * @description\n * Default extension for widget-bb-billpay-view-payments-ng\n *\n * @requires vendor-bb-angular-ng-aria\n */\nimport ngAriaKey from 'vendor-bb-angular-ng-aria';\nimport uiBbI18nKey from 'ui-bb-i18n-ng';\nimport uiBbFormatAmountKey from 'ui-bb-format-amount-ng';\nimport uiBbLoadingOverlayKey from 'ui-bb-loading-overlay-ng';\nimport uiBbNotificationStripeKey from 'ui-bb-notification-stripe-ng';\nimport uibDropdownKey from 'vendor-bb-uib-dropdown';\nimport uiBbSubstituteErrorKey from 'ui-bb-substitute-error-ng';\nimport uibTooltipKey from 'vendor-bb-uib-tooltip';\nimport uiBbModalKey from 'ui-bb-modal-ng';\n\nexport const dependencyKeys = [\n  ngAriaKey,\n  uiBbI18nKey,\n  uiBbFormatAmountKey,\n  uiBbLoadingOverlayKey,\n  uiBbNotificationStripeKey,\n  uibDropdownKey,\n  uiBbSubstituteErrorKey,\n  uibTooltipKey,\n  uiBbModalKey,\n];\n\nexport { default as hooks } from './hooks';\n\nexport { default as helpers } from './helpers';\n\nexport { default as intents } from './intents';\n\nexport const events = {};\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bb-billpay-pending-payments-small-ng/scripts/index.js","const removeTimeFromStringDate =\n  date => (date && date.length >= 10 ? date.substring(0, 10) : date);\n\n/**\n * @name Hooks\n * @type {Object}\n * @description Hooks for widget-bb-billpay-view-payments-ng\n */\nexport default {\n  /**\n   * @name Hooks#transformPayment\n   * @type {function}\n   * @description Perform any transformations required to prepare the Payment item for display\n   * @param {module:model-bb-billpay-ng.Payment} payment\n   * @return {Object} transformed payment\n   */\n  transformPayment: (payment) => ({\n    ...payment,\n    // remove time from server date so that there is no TZ conversion\n    paymentDate: removeTimeFromStringDate(payment.paymentDate),\n    payeeDisplayName: payment.payeeNickName || payment.payeeName,\n  }),\n};\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bb-billpay-pending-payments-small-ng/scripts/hooks.js","const templates = {\n  list: '#ext-bb-billpay-pending-payments-small-ng/table.ng.html',\n};\n\n/**\n * @constructor Helpers\n */\nexport default function Helpers({ billpayViewPaymentsService, router }) {\n  /**\n   * @name isEditPaymentDisabled\n   * @inner\n   * @type {function}\n   * @description Disable editing of payments that are recurring or not pending\n   * @param {object} payment\n   * @param {string} payment.status\n   * @param {boolean} payment.recurring\n   * @return {boolean}\n   */\n  const isEditPaymentDisabled = ({ status, recurring }) => recurring || status !== 'PENDING';\n\n  /**\n   * @name isDeletePaymentDisabled\n   * @inner\n   * @type {function}\n   * @description Disable deleting of payments that are not pending\n   * @param {object} payment\n   * @param {string} payment.status\n   * @return {boolean}\n   */\n  const isDeletePaymentDisabled = ({ status }) => status !== 'PENDING';\n\n  /**\n   * @name Helpers\n   * @type {Object}\n   */\n  return {\n    /**\n     * @name Helpers#template\n     * @type {function}\n     * @description returns a string of the template matching the current route\n     * @return {string}\n     */\n    get template() {\n      return templates[router.getRoute()];\n    },\n\n    /**\n     * @name Helpers#getCurrencyCode\n     * @type {function}\n     * @description get the currency code from service\n     * @return {string}\n     */\n    getCurrencyCode() {\n      return billpayViewPaymentsService.getCurrencyCode();\n    },\n    /**\n     * @name Helpers#paymentsTableHeader\n     * @type {string[]}\n     * @description list of header label translation keys for payments table\n     */\n    paymentsTableHeader: [\n      'table.header.pay-to',\n      'table.header.amount',\n      'table.header.deliver-by',\n    ],\n\n    /**\n     * @name Helpers#editPayment\n     * @type {function}\n     * @description Either fire the intent to edit the single payment or do nothing to a recurring\n     *   payment\n     * @param {object} intents Available intents functions\n     * @param {object} payment\n     */\n    editPayment: (intents, payment) => {\n      if (!isEditPaymentDisabled(payment)) {\n        intents.editSinglePayment(payment.id);\n      }\n    },\n\n    /**\n     * @name Helpers#deletePayment\n     * @type {function}\n     * @description Either fire the intent to edit the single payment or do nothing to a recurring\n     *   payment\n     * @param {{openDeleteDialog}} $ctrl\n     * @param {object} payment\n     */\n    deletePayment: ($ctrl, payment) => {\n      if (!isDeletePaymentDisabled(payment)) {\n        $ctrl.openDeleteDialog(payment);\n      }\n    },\n\n    /**\n     * @name Helpers#getLoadingErrorMessageKey\n     * @type {function}\n     * @description get any error message\n     * @param {ViewState} state\n     * @param {Object} state.error\n     * @return {string} message from error or empty string\n     */\n    getLoadingErrorMessageKey: ({ error }) => (error ? error.message : ''),\n\n    /**\n     * @name Helpers#isEditPaymentDisabled\n     * @type {function}\n     * @description Disable editing of payments that are recurring or not pending\n     * @param {object} payment\n     * @param {string} payment.status\n     * @param {boolean} payment.recurring\n     * @return {boolean}\n     */\n    isEditPaymentDisabled,\n\n    /**\n     * @name Helpers#isDeletePaymentDisabled\n     * @type {function}\n     * @description Disable deleting of payments that are not pending\n     * @param {object} payment\n     * @param {string} payment.status\n     * @return {boolean}\n     */\n    isDeletePaymentDisabled,\n\n    /**\n     * @name Helpers#editPaymentTooltip\n     * @type {function}\n     * @description Tooltip key when not allowed to edit a payment\n     * @param {object} payment\n     * @param {boolean} payment.recurring\n     * @return {string} - tooltip key\n     */\n    editPaymentTooltip: ({ recurring }) =>\n      (recurring\n        ? 'tooltip.recurring-payment.edit.disabled'\n        : 'tooltip.payment.in-process.disabled'),\n\n    /**\n     * @name Helpers#deletePaymentTooltip\n     * @type {function}\n     * @description Tooltip key when not allowed to delete a payment\n     * @param {object} payment\n     * @param {boolean} payment.recurring\n     * @return {string} - tooltip key\n     */\n    deletePaymentTooltip: ({ recurring }) =>\n      (recurring\n        ? 'tooltip.recurring-payment.delete.disabled'\n        : 'tooltip.payment.in-process.disabled'),\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bb-billpay-pending-payments-small-ng/scripts/helpers.js","export default function Intents({ stateContainer, handleResponse }) {\n  /**\n   * @name processResponse\n   * @type {function}\n   * @description Callback function to run when the response from the intent is handled\n   * @param {object} data\n   * @param {string} data.status String to give status, e.g. success, failure, cancelled\n   * @param {string} [data.paymentId] Optional payload of the id of a payment acted on\n   * @inner\n   */\n  const processResponse = ({ status, paymentId }) => {\n    if (status === 'success' && paymentId) {\n      stateContainer.setState({\n        ...stateContainer.getState(),\n        newPaymentIds: [paymentId],\n        showSuccessMessage: true,\n      });\n    }\n  };\n\n  return {\n    /**\n     * @name Intents#editSinglePayment\n     * @type {function}\n     * @description Intent to navigate to and return from editing a single payment.\n     * @param {string} id The payment ID to be edited\n     */\n    editSinglePayment: handleResponse('intent.rb.billpay.single-bill.edit', processResponse),\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bb-billpay-pending-payments-small-ng/scripts/intents.js"],"sourceRoot":""}