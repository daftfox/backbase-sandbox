{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6***","webpack:///webpack/bootstrap d0309a746b17cd403690?c295***","webpack:///./ext-wm-allocations-ranges-ng/model.xml","webpack:///external \"ui-bb-loading-indicator-ng\"?8f10***","webpack:///external \"ui-bb-i18n-ng\"?dc01***","webpack:///external \"ui-bb-empty-state-ng\"?88ee***","webpack:///external \"ui-bb-format-amount-ng\"?8f72***","webpack:///external \"lib-bb-model-errors\"?7567***","webpack:///external \"lib-wm-colorset\"?5f86**","webpack:///external \"lib-bb-styles\"?c155*","webpack:///./ext-wm-allocations-ranges-ng/scripts/index.js","webpack:///external \"ui-wm-chartjs-ranges-ng\"","webpack:///./ext-wm-allocations-ranges-ng/scripts/helpers.js","webpack:///./ext-wm-allocations-ranges-ng/scripts/constants.js"],"names":["helpers","extHelpers","dependencyKeys","uiBbLoadingIndicatorKey","i18nKey","uiBbEmptyStateKey","uiWmChartjsRangesKey","uiBbFormatAmountKey","errors","E_AUTH","message","title","icon","E_CONNECTIVITY","E_USER","E_UNEXPECTED","stateContainer","$filter","numberFilter","isAllocationsAvailable","createSelector","state","allocations","data","length","getAllocationsRangesOptions","minX","maxX","responsive","scales","xAxes","gridLines","zeroLineColor","ZERO_LINE_ACTIVE_COLOR","TRANSPARENT","stacked","ticks","min","max","stepSize","STEP_SIZE","fontColor","DEFAULT_FONT_COLOR","fontSize","FONT_SIZE","yAxes","barPercentage","BAR_PERCENTAGE","legend","display","getAllocationsRangesData","emptyData","rangesData","labels","slice","sort","item1","item2","allocationPct","name","forEach","recommendedRange","allocation","allocationMaxPct","allocationMinPct","push","minValue","Math","map","item","maxValue","maxRangesValue","floor","ceil","datasets","backgroundColor","RANGES_BAR_BACKGROUND","options","getCustomTooltip","tooltipModel","tooltipWrap","series","tooltipEl","querySelector","arrow","opacity","classList","remove","contains","add","index","dataPoints","datasetIndex","xAlign","titleWrapper","innerHTML","circleWrapper","style","color","labelColors","valuationCurrency","valuation","currencyCode","valuationWrapper","amount","percentageWrapper","value","rangesWrapper","rangeValuesWrapper","Object","assign","left","caretX","offsetWidth","POPOVER_SHIFT","top","caretY","transform","offsetHeight","getAllocationsDotsOptions","callback","tooltips","enabled","mode","custom","getAllocationsDotsData","array","label","hoverRadius","HOVER_RADIUS","x","y","r","DOT_RADIUS","isClass","route","getError","code"],"mappings":"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","file":"ext-wm-allocations-ranges-ng/scripts/ext-wm-allocations-ranges-ng.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"ui-bb-loading-indicator-ng\"), require(\"ui-bb-i18n-ng\"), require(\"ui-bb-empty-state-ng\"), require(\"ui-bb-format-amount-ng\"), require(\"lib-bb-model-errors\"), require(\"lib-wm-colorset\"), require(\"lib-bb-styles\"), require(\"ui-wm-chartjs-ranges-ng\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ext-wm-allocations-ranges-ng\", [\"ui-bb-loading-indicator-ng\", \"ui-bb-i18n-ng\", \"ui-bb-empty-state-ng\", \"ui-bb-format-amount-ng\", \"lib-bb-model-errors\", \"lib-wm-colorset\", \"lib-bb-styles\", \"ui-wm-chartjs-ranges-ng\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ext-wm-allocations-ranges-ng\"] = factory(require(\"ui-bb-loading-indicator-ng\"), require(\"ui-bb-i18n-ng\"), require(\"ui-bb-empty-state-ng\"), require(\"ui-bb-format-amount-ng\"), require(\"lib-bb-model-errors\"), require(\"lib-wm-colorset\"), require(\"lib-bb-styles\"), require(\"ui-wm-chartjs-ranges-ng\"));\n\telse\n\t\troot[\"ext-wm-allocations-ranges-ng\"] = factory(root[\"ui-bb-loading-indicator-ng\"], root[\"ui-bb-i18n-ng\"], root[\"ui-bb-empty-state-ng\"], root[\"ui-bb-format-amount-ng\"], root[\"lib-bb-model-errors\"], root[\"lib-wm-colorset\"], root[\"lib-bb-styles\"], root[\"ui-wm-chartjs-ranges-ng\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_9__, __WEBPACK_EXTERNAL_MODULE_15__, __WEBPACK_EXTERNAL_MODULE_22__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d0309a746b17cd403690","module.exports = require(\"./scripts/index.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ext-wm-allocations-ranges-ng/model.xml\n// module id = 0\n// module chunks = 3","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-loading-indicator-ng\"\n// module id = 2\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-i18n-ng\"\n// module id = 3\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-empty-state-ng\"\n// module id = 4\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-format-amount-ng\"\n// module id = 6\n// module chunks = 0 1 2 3 5 6 7 8 9 10 11 12 13 14","module.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lib-bb-model-errors\"\n// module id = 8\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 21","module.exports = __WEBPACK_EXTERNAL_MODULE_9__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lib-wm-colorset\"\n// module id = 9\n// module chunks = 0 1 2 3 7 8","module.exports = __WEBPACK_EXTERNAL_MODULE_15__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lib-bb-styles\"\n// module id = 15\n// module chunks = 1 2 3 4 5 14 15","/**\n * @module ext-wm-allocations-ranges-ng\n *\n * @description\n * Ranges chart extension for allocations widget.\n *\n * @requires ui-wm-chartjs-ranges-ng\n * @example\n * <!-- allocations widget model.xml -->\n * <property name=\"extension\" viewHint=\"text-input,admin\">\n *  <value type=\"string\">ext-wm-allocations-ranges-ng</value>\n * </property>\n */\n\nimport uiBbLoadingIndicatorKey from 'ui-bb-loading-indicator-ng';\nimport i18nKey from 'ui-bb-i18n-ng';\nimport uiBbEmptyStateKey from 'ui-bb-empty-state-ng';\nimport uiWmChartjsRangesKey from 'ui-wm-chartjs-ranges-ng';\nimport uiBbFormatAmountKey from 'ui-bb-format-amount-ng';\n\nimport extHelpers from './helpers';\n\nexport const helpers = extHelpers;\n\nexport const dependencyKeys = [\n  uiBbLoadingIndicatorKey,\n  i18nKey,\n  uiBbEmptyStateKey,\n  uiWmChartjsRangesKey,\n  uiBbFormatAmountKey,\n];\n\n/**\n * Allocation type definition\n * @typedef {Object} Allocation\n * @property {string}\n */\n\n\n\n// WEBPACK FOOTER //\n// ./ext-wm-allocations-ranges-ng/scripts/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_22__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-wm-chartjs-ranges-ng\"\n// module id = 22\n// module chunks = 3","import { E_AUTH, E_CONNECTIVITY, E_UNEXPECTED, E_USER } from 'lib-bb-model-errors';\nimport { getColorByIndex } from 'lib-wm-colorset';\n\nimport {\n  POPOVER_SHIFT,\n  FONT_SIZE,\n  TRANSPARENT,\n  DEFAULT_FONT_COLOR,\n  ZERO_LINE_ACTIVE_COLOR,\n  RANGES_BAR_BACKGROUND,\n  STEP_SIZE,\n  BAR_PERCENTAGE,\n  DOT_RADIUS,\n  HOVER_RADIUS,\n} from './constants';\n\n/**\n * @description\n * Map of error code to message, title and icon to display to user\n *\n * @public\n * @name errors\n * @type {object.<E_AUTH | E_CONNECTIVITY | E_UNEXPECTED | E_USER, errorMessageDescriptor>}\n */\nconst errors = {\n  [E_AUTH]: {\n    message: 'model.error.auth.message',\n    title: 'model.error.auth.title',\n    icon: 'fa-sign-in-alt',\n  },\n  [E_CONNECTIVITY]: {\n    message: 'model.error.connectivity.message',\n    title: 'model.error.connectivity.title',\n    icon: 'fa-exclamation-triangle',\n  },\n  [E_USER]: {\n    message: 'model.error.user.message',\n    title: 'model.error.user.title',\n    icon: 'fa-user',\n  },\n  [E_UNEXPECTED]: {\n    message: 'model.error.unexpected.message',\n    title: 'model.error.unexpected.title',\n    icon: 'fa-server',\n  },\n};\n\nexport default ({ stateContainer, $filter }) => {\n  const numberFilter = $filter('number');\n\n  /**\n   * @description\n   * Checks if allocations' data is available\n   *\n   * @name isAllocationsAvailable\n   * @type {function}\n   * @returns {boolean} returns true if allocations data is present\n   */\n  const isAllocationsAvailable =\n    stateContainer.createSelector(state => state.allocations.data.allocations.length > 0);\n\n  /**\n   * @name getAllocationsRangesOptions\n   * @type {function}\n   * @inner\n   *\n   * @description\n   * Options for ranges chart\n   *\n   * @param {number} minX Minimal value of dataset\n   * @param {number} maxX Maximal value of chart\n   * @returns {object} Options for ranges chart\n   */\n  const getAllocationsRangesOptions = (minX, maxX) => ({\n    responsive: true,\n    scales: {\n      xAxes: [{\n        gridLines: {\n          zeroLineColor: minX < 0 ? ZERO_LINE_ACTIVE_COLOR : TRANSPARENT,\n        },\n        stacked: true,\n        ticks: {\n          min: minX,\n          max: maxX,\n          stepSize: STEP_SIZE,\n          fontColor: DEFAULT_FONT_COLOR,\n          fontSize: FONT_SIZE,\n        },\n      }],\n      yAxes: [{\n        stacked: true,\n        barPercentage: BAR_PERCENTAGE,\n        ticks: {\n          fontColor: DEFAULT_FONT_COLOR,\n          fontSize: FONT_SIZE,\n        },\n      }],\n    },\n    legend: { display: false },\n  });\n\n  /**\n   * @description\n   * Gets allocations data and transforms it for ranges chart\n   *\n   * @name getAllocationsRangesData\n   * @type {function}\n   * @returns {array} Allocations' data transformed for ranges chart\n   */\n  const getAllocationsRangesData = stateContainer.createSelector(state => {\n    const emptyData = [];\n    const rangesData = [];\n    const labels = [];\n\n    state.allocations.data.allocations\n      .slice()\n      .sort((item1, item2) => {\n        if (item1.allocationPct === item2.allocationPct) {\n          if (item1.name < item2.name) return -1;\n          if (item1.name > item2.name) return 1;\n          return 0;\n        }\n        return item2.allocationPct - item1.allocationPct;\n      })\n      .forEach(allocation => {\n        const recommendedRange = allocation.allocationMaxPct - allocation.allocationMinPct;\n        emptyData.push(allocation.allocationMinPct);\n        rangesData.push(recommendedRange > 0 ? recommendedRange : 0);\n        labels.push(allocation.name);\n      });\n\n    const minValue = Math.min(\n      ...state.allocations.data.allocations.map(item => item.allocationPct)\n    );\n    const maxValue = Math.max(\n      ...state.allocations.data.allocations.map(item => item.allocationPct)\n    );\n    const maxRangesValue = Math.max(\n      ...state.allocations.data.allocations.map(item => item.allocationMaxPct || 0)\n    );\n    const minX = minValue >= 0 ? 0 : Math.floor(minValue / 10) * 10;\n    const maxX = Math.ceil(Math.max(maxValue, maxRangesValue) / 10) * 10;\n\n    return {\n      data: {\n        labels,\n        datasets: [\n          {\n            data: emptyData,\n            backgroundColor: TRANSPARENT,\n          },\n          {\n            data: rangesData,\n            backgroundColor: RANGES_BAR_BACKGROUND,\n          },\n        ],\n      },\n      options: getAllocationsRangesOptions(minX, maxX),\n    };\n  });\n\n  /**\n   * @description\n   * Sets styling and content for custom tooltip\n   *\n   * @name getCustomTooltip\n   * @type {function}\n   * @param {object} tooltipModel Chartjs model of selected item\n   * @param {object} tooltipWrap Tooltip element link\n   * @param {array} series Array of chart data\n   * @returns {void}\n   */\n  const getCustomTooltip = (tooltipModel, tooltipWrap, series) => {\n    const tooltipEl = tooltipWrap.querySelector('.popover');\n    const arrow = tooltipEl.querySelector('.arrow');\n\n    if (tooltipModel.opacity === 0) {\n      tooltipEl.classList.remove('show');\n      if (!tooltipEl.classList.contains('d-none')) {\n        tooltipEl.classList.add('d-none');\n      }\n      return;\n    }\n\n    const index = tooltipModel.dataPoints[0].datasetIndex;\n    const item = series[index];\n\n    tooltipEl.classList.remove('bs-popover-right');\n    tooltipEl.classList.remove('bs-popover-left');\n    tooltipEl.classList.add(`bs-popover-${tooltipModel.xAlign === 'left' ? 'right' : 'left'}`);\n\n    const titleWrapper = tooltipWrap.querySelector('.popover-title-content');\n    titleWrapper.innerHTML = item.name;\n\n    const circleWrapper = tooltipWrap.querySelector('.popover-title-circle');\n    circleWrapper.style.color = tooltipModel.labelColors[0].backgroundColor;\n\n    const valuationCurrency = tooltipWrap.querySelector('.popover-currency');\n    valuationCurrency.innerHTML = item.valuation.currencyCode;\n\n    const valuationWrapper = tooltipWrap.querySelector('.popover-valuation');\n    valuationWrapper.innerHTML = numberFilter(item.valuation.amount, 2);\n\n    const percentageWrapper = tooltipWrap.querySelector('.popover-percentage');\n    percentageWrapper.innerHTML = `${numberFilter(item.value, 2)}%`;\n\n    const rangesWrapper = tooltipWrap.querySelector('.popover-ranges');\n    const rangeValuesWrapper = tooltipWrap.querySelector('.popover-range');\n    if (!item.min && !item.max) {\n      Object.assign(rangesWrapper.style, { display: 'none' });\n    } else {\n      Object.assign(rangesWrapper.style, { display: 'block' });\n      rangeValuesWrapper.innerHTML = `${numberFilter(item.min)}% - ${numberFilter(item.max)}%`;\n    }\n\n    tooltipEl.classList.remove('d-none');\n\n    let left;\n    if (tooltipModel.xAlign === 'right') {\n      left = `${tooltipModel.caretX - tooltipEl.offsetWidth - POPOVER_SHIFT}px`;\n    } else {\n      left = `${tooltipModel.caretX + POPOVER_SHIFT}px`;\n    }\n\n    Object.assign(tooltipEl.style, {\n      left,\n      top: `${tooltipModel.caretY}px`,\n      transform: 'translateY(-50%)',\n    });\n    Object.assign(arrow.style, {\n      top: `${(tooltipEl.offsetHeight / 2)}px`,\n      transform: 'translateY(-50%)',\n    });\n    tooltipEl.classList.add('show');\n  };\n\n  /**\n   * @name getAllocationsDotsOptions\n   * @type {function}\n   * @inner\n   *\n   * @description\n   * Options for dots chart\n   *\n   * @param {number} minX Minimal value of dataset\n   * @param {number} maxX Maximal value of chart\n   * @param {array} series Current dataset\n   * @returns {object} Options for dots chart\n   */\n  const getAllocationsDotsOptions = (minX, maxX, series) => ({\n    title: {\n      display: false,\n    },\n    legend: {\n      display: false,\n    },\n    scales: {\n      xAxes: [{\n        gridLines: {\n          display: false,\n          color: TRANSPARENT,\n        },\n        ticks: {\n          fontColor: TRANSPARENT,\n          min: minX,\n          max: maxX,\n          stepSize: STEP_SIZE,\n        },\n      }],\n      yAxes: [{\n        gridLines: {\n          display: false,\n          color: TRANSPARENT,\n        },\n        ticks: {\n          min: 0,\n          max: series.length,\n          fontColor: TRANSPARENT,\n          stepSize: 1,\n          callback: (value) => {\n            if (!series[value]) {\n              return null;\n            }\n            return series[value].name;\n          },\n        },\n      }],\n    },\n    tooltips: {\n      enabled: false,\n      mode: 'nearest',\n      custom: getCustomTooltip,\n    },\n  });\n\n  /**\n   * @description\n   * Gets allocations data and transforms it for dots chart\n   *\n   * @name getAllocationsDotsData\n   * @type {function}\n   * @returns {array} Allocations' data transformed for dots chart\n   */\n  const getAllocationsDotsData = stateContainer.createSelector(state => {\n    const series = [];\n    const labels = [];\n    const datasets = [];\n\n    state.allocations.data.allocations\n      .slice()\n      .sort((item1, item2) => {\n        if (item1.allocationPct === item2.allocationPct) {\n          if (item1.name < item2.name) return 1;\n          if (item1.name > item2.name) return -1;\n          return 0;\n        }\n        return item1.allocationPct - item2.allocationPct;\n      })\n      .forEach((item, index, array) => {\n        series.push({\n          name: item.name,\n          min: item.allocationMinPct,\n          max: item.allocationMaxPct,\n          value: item.allocationPct,\n          valuation: item.valuation,\n        });\n\n        labels.push('');\n\n        datasets.push({\n          label: item.name,\n          backgroundColor:\n            getColorByIndex(array.length - 1 - index),\n          hoverRadius: HOVER_RADIUS,\n          data: [{ x: item.allocationPct, y: index + 0.5, r: DOT_RADIUS }],\n        });\n      });\n\n    const minValue = Math.min(...series.map(item => item.value));\n    const minX = minValue >= 0 ? 0 : Math.floor(minValue / 10) * 10;\n    const maxValue = Math.max(...series.map(item => item.value));\n    const maxRangesValue = Math.max(...series.map(item => item.max || 0));\n    const maxX = Math.ceil(Math.max(maxValue, maxRangesValue) / 10) * 10;\n\n    return {\n      data: {\n        series,\n        labels,\n        datasets,\n      },\n      options: getAllocationsDotsOptions(minX, maxX, series),\n    };\n  });\n\n  /**\n   * @description\n   * Checks if asset-classes is selected\n   *\n   * @name isClass\n   * @type {function}\n   * @returns {boolean}\n   */\n  const isClass = stateContainer.createSelector(state => state.route.name === 'asset-classes');\n\n  /**\n   * @description\n   * Returns error object by error code\n   *\n   * @public\n   * @name getError\n   * @type {Object}\n   * @returns {errorMessageDescriptor} Descriptor of the error\n   */\n  const getError = (code) => errors[code];\n\n\n  return {\n    isAllocationsAvailable,\n    isClass,\n    getAllocationsRangesData,\n    getAllocationsDotsData,\n    getError,\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./ext-wm-allocations-ranges-ng/scripts/helpers.js","import getStyle from 'lib-bb-styles';\n\nexport const POPOVER_SHIFT = 20;\nexport const FONT_SIZE = 13;\nexport const TRANSPARENT = 'transparent';\nexport const DEFAULT_FONT_COLOR = getStyle('.btn-outline-dark', 'color');\nexport const ZERO_LINE_ACTIVE_COLOR = getStyle('.btn-danger', 'backgroundColor');\nexport const RANGES_BAR_BACKGROUND = getStyle('.btn-outline-secondary', 'color');\nexport const STEP_SIZE = 10;\nexport const BAR_PERCENTAGE = 0.7;\nexport const DOT_RADIUS = 8;\nexport const HOVER_RADIUS = 0;\n\n\n\n// WEBPACK FOOTER //\n// ./ext-wm-allocations-ranges-ng/scripts/constants.js"],"sourceRoot":""}