{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6*****","webpack:///webpack/bootstrap ae100f90e7d971b83ff6?df48*****","webpack:///./lib-bb-event-bus-ng/model.xml","webpack:///external \"vendor-bb-angular\"?a114*","webpack:///./lib-bb-event-bus-ng/scripts/index.js","webpack:///external \"lib-bb-event-bus\""],"names":["moduleKey","eventBusKey","safeApply","scope","fn","args","phase","$root","$$phase","$apply","module","provider","widget","undefined","setWidget","widgetInstance","$get","$rootScope","service","subscribe","topic","callback","publish","name"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;ACtCA,0C;;;;;;;ACAA,gD;;;;;;;;;;;;;;ACuBA;;;;AAEA;;;;;;AAzBA;;;;;;;;;;;;;;;;;;;;;;;AA2BA,KAAMA,YAAY,kBAAlB;AACA;;;;;AAKO,KAAMC,oCAAc,2BAApB;;AAEP;;;;;;AAMA,KAAMC,YAAY,SAAZA,SAAY,CAACC,KAAD,EAAQC,EAAR;AAAA,UAAe,YAAa;AAAA,uCAATC,IAAS;AAATA,WAAS;AAAA;;AAC5C,SAAMC,QAAQH,MAAMI,KAAN,CAAYC,OAA1B;AACA,SAAIF,UAAU,QAAV,IAAsBA,UAAU,SAApC,EAA+C;AAC7C,WAAIF,MAAO,OAAOA,EAAP,KAAe,UAA1B,EAAuC;AACrCA,6BAAMC,IAAN;AACD;AACF,MAJD,MAIO;AACLF,aAAMM,MAAN,CAAa;AAAA,gBAAML,oBAAMC,IAAN,CAAN;AAAA,QAAb;AACD;AACF,IATiB;AAAA,EAAlB;;AAWA;;;;;mBAKe,0BACZK,MADY,CACLV,SADK,EACM,EADN;;AAGb;;;;AAHa,EAOZW,QAPY,CAOHV,WAPG,EAOU,CAAC,YAAM;AAC5B,OAAIW,SAASC,SAAb;;AAEA,UAAO;AACL;;;;;;AAMAC,gBAAW,mBAACC,cAAD,EAAoB;AAC7BH,gBAASG,cAAT;AACD,MATI;;AAWL;;;;;AAKAC,WAAM,CAAC,YAAD,EAAe,UAACC,UAAD,EAAgB;AACnC,WAAMC,UAAU,6BAAON,MAAP,CAAhB;;AAEA,WAAMO,YAAY,SAAZA,SAAY,CAACC,KAAD,EAAQC,QAAR;AAAA,gBAChBH,QAAQC,SAAR,CACEC,KADF,EAEElB,UAAUe,UAAV,EAAsBI,QAAtB,CAFF,CADgB;AAAA,QAAlB;;AAMA,cAAO;AACLF,6BADK;AAELG,kBAASJ,QAAQI;AAFZ,QAAP;AAID,MAbK;AAhBD,IAAP;AA+BD,EAlCsB,CAPV,EA2CZC,I;;;;;;;ACpGH,iD","file":"lib-bb-event-bus-ng/scripts/lib-bb-event-bus-ng.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vendor-bb-angular\"), require(\"lib-bb-event-bus\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"lib-bb-event-bus-ng\", [\"vendor-bb-angular\", \"lib-bb-event-bus\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"lib-bb-event-bus-ng\"] = factory(require(\"vendor-bb-angular\"), require(\"lib-bb-event-bus\"));\n\telse\n\t\troot[\"lib-bb-event-bus-ng\"] = factory(root[\"vendor-bb-angular\"], root[\"lib-bb-event-bus\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_15__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ae100f90e7d971b83ff6","module.exports = require(\"./scripts/index.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib-bb-event-bus-ng/model.xml\n// module id = 0\n// module chunks = 5","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor-bb-angular\"\n// module id = 5\n// module chunks = 3 5 6 7 8 9 10 12 16 19 22 24 26 27","/**\n * @module lib-bb-event-bus-ng\n *\n * @description Event bus module, angular wrapper around CXP's gadgets.pubsub.\n *\n * @example\n * import bbEventBusModuleKey, { eventBusKey } from 'lib-bb-event-bus-ng';\n *\n * angular.module('MyModule', [bbEventBusModuleKey])\n *   .controller('Controller1', [eventBusKey, (eventBus) => ({\n *     $onInit: () => {\n *       eventBus.publish('example.event', { msg: 'Hello' });\n *     },\n *   })])\n *   .controller('Controller2', [eventBusKey, (eventBus) => ({\n *     $onInit: () => {\n *       eventBus.subscribe('example.event', ({ msg }) => {\n *         console.log(`Controller 1 says ${msg}`);\n *       });\n *     },\n *   })])\n */\n\nimport ng from 'vendor-bb-angular';\n\nimport pubSub from 'lib-bb-event-bus';\n\nconst moduleKey = 'lib-bb-event-bus';\n/**\n * @name eventBusKey\n * @type {string}\n * @description Injector name of [EventBus](#EventBus) instance\n */\nexport const eventBusKey = 'lib-bb-event-bus:eventBus';\n\n/**\n * Checks the current phase before executing the function\n * @inner\n * @param scope - angular scope\n * @returns {function(*=)}\n */\nconst safeApply = (scope, fn) => (...args) => {\n  const phase = scope.$root.$$phase;\n  if (phase === '$apply' || phase === '$digest') {\n    if (fn && (typeof(fn) === 'function')) {\n      fn(...args);\n    }\n  } else {\n    scope.$apply(() => fn(...args));\n  }\n};\n\n/**\n * @name default\n * @type {string}\n * @description Angular module name\n */\nexport default ng\n  .module(moduleKey, [])\n\n  /**\n   * @name EventBusProvider\n   * @type {object}\n   */\n  .provider(eventBusKey, [() => {\n    let widget = undefined;\n\n    return {\n      /**\n       * @name EventBusProvider#setWidget\n       * @type {function}\n       * @param {Object} portalWidget portal client widget instance (a.k.a __WIDGET__)\n       * @return {void}\n       */\n      setWidget: (widgetInstance) => {\n        widget = widgetInstance;\n      },\n\n      /**\n       * @name EventBusProvider#$get\n       * @type {function}\n       * @return {EventBus} An [EventBus](#EventBus) service\n       */\n      $get: ['$rootScope', ($rootScope) => {\n        const service = pubSub(widget);\n\n        const subscribe = (topic, callback) =>\n          service.subscribe(\n            topic,\n            safeApply($rootScope, callback)\n          );\n\n        return {\n          subscribe,\n          publish: service.publish,\n        };\n      }],\n    };\n  }])\n\n  .name;\n\n\n\n// WEBPACK FOOTER //\n// ./lib-bb-event-bus-ng/scripts/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_15__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lib-bb-event-bus\"\n// module id = 15\n// module chunks = 5 16 17"],"sourceRoot":""}