{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6************","webpack:///webpack/bootstrap 70daa42420248d0dae68?ba28************","webpack:///./model-bb-select-context-ng/model.xml","webpack:///external \"vendor-bb-angular\"?a114*****","webpack:///external \"data-bb-cxp-authentication-http-ng\"?7509*","webpack:///./model-bb-select-context-ng/scripts/index.js","webpack:///external \"data-bb-accessgroups-http-ng\"","webpack:///./model-bb-select-context-ng/scripts/select-context.js","webpack:///external \"lib-bb-model-errors\""],"names":["moduleKey","modelSelectContextKey","angular","module","accessGroupsDataModuleKey","cXPAuthenticationDataModuleKey","factory","accessGroupsDataKey","cXPAuthenticationDataKey","Model","name","selectContextModel","Promise","accessData","cxpData","getServiceAgreements","getAccessgroupsUsercontextServiceagreements","params","then","data","resp","totalItems","parseInt","headers","catch","httpErrorResponse","getLegalEntities","id","getAccessgroupsUsercontextServiceagreementsLegalentities","selectUserContext","serviceAgreementId","legalEntityId","postAccessgroupsUsercontextRecord","status","logout","postLogout","getProfile","res"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;ACtCA,0C;;;;;;;ACAA,gD;;;;;;;ACAA,iD;;;;;;;;;;;;;;ACqBA;;;;AAEA;;;;AAIA;;;;AAIA;;;;;;AA/BA;;;;;;;;;;;;;;;;;;;;;AAiCA,KAAMA,YAAY,4BAAlB;AACO,KAAMC,wDAA2BD,SAA3B,WAAN;;mBAEQE,0BACZC,MADY,CACLH,SADK,EACM,CACjBI,kCADiB,EAEjBC,uCAFiB,CADN,EAMZC,OANY,CAMJL,qBANI,EAMmB,CAC9B,IAD8B,EAE9BM,6CAF8B,EAG9BC,uDAH8B;AAI9B;AACAC,wBAL8B,CANnB,EAcZC,I;;;;;;;AClDH,iD;;;;;;;;;;;;mBCYwBC,kB;;AAZxB;;AAEA;;;;;;;;;;AAUe,UAASA,kBAAT,CAA4BC,OAA5B,EAAqCC,UAArC,EAAiDC,OAAjD,EAA0D;AACvE;;;;;;;;;;AAUA,OAAMC,uBAAuB,SAAvBA,oBAAuB;AAAA,YAAUF,WACpCG,2CADoC,CACQC,MADR,EAEpCC,IAFoC,CAE/B;AAAA,cAAS;AACbC,eAAMC,KAAKD,IADE;AAEbE,qBAAYC,SAASF,KAAKG,OAAL,CAAa,eAAb,CAAT,EAAwC,EAAxC,KAA+C;AAF9C,QAAT;AAAA,MAF+B,EAMpCC,KANoC,CAM9B,6BAAqB;AAC1B,aAAM,qCAAcC,iBAAd,CAAN;AACD,MARoC,CAAV;AAAA,IAA7B;;AAUA;;;;;;;;;;;AAWA,OAAMC,mBAAmB,SAAnBA,gBAAmB,CAACC,EAAD,EAAKV,MAAL;AAAA,YAAgBJ,WACtCe,wDADsC,CACmBD,EADnB,EACuBV,MADvB,EAEtCC,IAFsC,CAEjC;AAAA,cAAS;AACbC,eAAMC,KAAKD,IADE;AAEbE,qBAAYC,SAASF,KAAKG,OAAL,CAAa,eAAb,CAAT,EAAwC,EAAxC,KAA+C;AAF9C,QAAT;AAAA,MAFiC,EAMtCC,KANsC,CAMhC,6BAAqB;AAC1B,aAAM,qCAAcC,iBAAd,CAAN;AACD,MARsC,CAAhB;AAAA,IAAzB;;AAUA;;;;;;;;;;;AAWA,OAAMI,oBAAoB,SAApBA,iBAAoB,CAACC,kBAAD,EAAqBC,aAArB;AAAA,YAAuClB,WAC9DmB,iCAD8D,CAC5B,EAAEF,sCAAF,EAAsBC,4BAAtB,EAD4B,EAE9Db,IAF8D,CAEzD;AAAA,cAAQE,KAAKa,MAAL,KAAgB,GAAxB;AAAA,MAFyD,EAG9DT,KAH8D,CAGxD,6BAAqB;AAC1B,aAAM,qCAAcC,iBAAd,CAAN;AACD,MAL8D,CAAvC;AAAA,IAA1B;;AAOA;;;;;;;;;AASA,OAAMS,SAAS,SAATA,MAAS;AAAA,YACbpB,QAAQqB,UAAR,EADa;AAAA,IAAf;;AAGA;;;;;;;;;AASA,OAAMC,aAAa,SAAbA,UAAa;AAAA,YACjBtB,QAAQsB,UAAR,GACGlB,IADH,CACQ;AAAA,cAAOmB,IAAIlB,IAAX;AAAA,MADR,CADiB;AAAA,IAAnB;;AAIA;;;;AAIA,UAAO;AACLJ,+CADK;AAELW,uCAFK;AAGLG,yCAHK;AAILK,mBAJK;AAKLE;AALK,IAAP;AAOD,E;;;;;;;AC5GD,iD","file":"model-bb-select-context-ng/scripts/model-bb-select-context-ng.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vendor-bb-angular\"), require(\"data-bb-cxp-authentication-http-ng\"), require(\"data-bb-accessgroups-http-ng\"), require(\"lib-bb-model-errors\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"model-bb-select-context-ng\", [\"vendor-bb-angular\", \"data-bb-cxp-authentication-http-ng\", \"data-bb-accessgroups-http-ng\", \"lib-bb-model-errors\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"model-bb-select-context-ng\"] = factory(require(\"vendor-bb-angular\"), require(\"data-bb-cxp-authentication-http-ng\"), require(\"data-bb-accessgroups-http-ng\"), require(\"lib-bb-model-errors\"));\n\telse\n\t\troot[\"model-bb-select-context-ng\"] = factory(root[\"vendor-bb-angular\"], root[\"data-bb-cxp-authentication-http-ng\"], root[\"data-bb-accessgroups-http-ng\"], root[\"lib-bb-model-errors\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_37__, __WEBPACK_EXTERNAL_MODULE_44__, __WEBPACK_EXTERNAL_MODULE_46__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 70daa42420248d0dae68","module.exports = require(\"./scripts/index.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./model-bb-select-context-ng/model.xml\n// module id = 0\n// module chunks = 13","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor-bb-angular\"\n// module id = 2\n// module chunks = 0 9 10 11 12 13 14 15 16 17 18 19 21 22","module.exports = __WEBPACK_EXTERNAL_MODULE_37__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"data-bb-cxp-authentication-http-ng\"\n// module id = 37\n// module chunks = 10 12 13","/**\n * @module model-bb-select-context-ng\n *\n * @description\n * Model for widget-bb-select-context-ng\n *\n * @example\n * import modelSelectContextModuleKey, { modelSelectContextKey } from 'model-bb-select-context-ng';\n *\n * angular\n *   .module('ExampleModule', [\n *     modelSelectContextModuleKey,\n *   ])\n *   .factory('someFactory', [\n *     modelSelectContextKey,\n *     // into\n *     function someFactory(selectContextModel) {\n *       // ...\n *     },\n *   ]);\n */\nimport angular from 'vendor-bb-angular';\n\nimport accessGroupsDataModuleKey, {\n  accessGroupsDataKey,\n} from 'data-bb-accessgroups-http-ng';\n\nimport cXPAuthenticationDataModuleKey, {\n  cXPAuthenticationDataKey,\n} from 'data-bb-cxp-authentication-http-ng';\n\nimport Model from './select-context';\n\nconst moduleKey = 'model-bb-select-context-ng';\nexport const modelSelectContextKey = `${moduleKey}:model`;\n\nexport default angular\n  .module(moduleKey, [\n    accessGroupsDataModuleKey,\n    cXPAuthenticationDataModuleKey,\n  ])\n\n  .factory(modelSelectContextKey, [\n    '$q',\n    accessGroupsDataKey,\n    cXPAuthenticationDataKey,\n    /* into */\n    Model,\n  ])\n\n  .name;\n\n\n\n// WEBPACK FOOTER //\n// ./model-bb-select-context-ng/scripts/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_44__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"data-bb-accessgroups-http-ng\"\n// module id = 44\n// module chunks = 13","import { fromHttpError } from 'lib-bb-model-errors';\n\n/**\n * Model factory for model-bb-select-context-ng\n *\n * @inner\n * @type {function}\n * @param {Object} Promise    An ES2015 compatible `Promise` object.\n * @param {Object} accessData Access data module\n *\n * @return {Object}\n */\nexport default function selectContextModel(Promise, accessData, cxpData) {\n  /**\n   * @name selectContextModel#getServiceAgreements\n   * @type {function}\n   *\n   * @description\n   * Get list of Service Agreements\n   *\n   * @param  {object} params Params to send to the request\n   * @returns {Promise.<ServiceAgreements, ModelError>} A Promise\n   */\n  const getServiceAgreements = params => accessData\n    .getAccessgroupsUsercontextServiceagreements(params)\n    .then(resp => ({\n      data: resp.data,\n      totalItems: parseInt(resp.headers('x-total-count'), 10) || 0,\n    }))\n    .catch(httpErrorResponse => {\n      throw fromHttpError(httpErrorResponse);\n    });\n\n  /**\n   * @name selectContextModel#getLegalEntities\n   * @type {function}\n   *\n   * @description\n   * Get list of available Legal Entities for selected Service Agreement\n   *\n   * @param {string} id     Service Agreement ID\n   * @param {Object} params Search parameters\n   * @returns {Promise.<LegalEntities, ModelError>} A Promise\n   */\n  const getLegalEntities = (id, params) => accessData\n    .getAccessgroupsUsercontextServiceagreementsLegalentities(id, params)\n    .then(resp => ({\n      data: resp.data,\n      totalItems: parseInt(resp.headers('x-total-count'), 10) || 0,\n    }))\n    .catch(httpErrorResponse => {\n      throw fromHttpError(httpErrorResponse);\n    });\n\n  /**\n   * @name selectContextModel#selectUserContext\n   * @type {function}\n   *\n   * @description\n   * Request user context with selected Service Agreement and Legal Entity\n   *\n   * @param {string} serviceAgreementId\n   * @param {string} legalEntityId\n   * @returns {Promise}\n   */\n  const selectUserContext = (serviceAgreementId, legalEntityId) => accessData\n    .postAccessgroupsUsercontextRecord({ serviceAgreementId, legalEntityId })\n    .then(resp => resp.status === 204)\n    .catch(httpErrorResponse => {\n      throw fromHttpError(httpErrorResponse);\n    });\n\n  /**\n   * @name selectContextModel#logout\n   * @type {function}\n   *\n   * @description\n   * Makes a logout request\n   *\n   * @returns {Promise}\n   */\n  const logout = () =>\n    cxpData.postLogout();\n\n  /**\n   * @name selectContextModel#getProfile\n   * @type {function}\n   *\n   * @description\n   * Retrieves profile information\n   *\n   * @returns {Promise}\n   */\n  const getProfile = () =>\n    cxpData.getProfile()\n      .then(res => res.data);\n\n  /**\n   * @name selectContextModel\n   * @type {Object}\n   */\n  return {\n    getServiceAgreements,\n    getLegalEntities,\n    selectUserContext,\n    logout,\n    getProfile,\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./model-bb-select-context-ng/scripts/select-context.js","module.exports = __WEBPACK_EXTERNAL_MODULE_46__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lib-bb-model-errors\"\n// module id = 46\n// module chunks = 13"],"sourceRoot":""}