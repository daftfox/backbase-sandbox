{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6*","webpack:///webpack/bootstrap eb1a3c706fc83c476bc2?9b81*","webpack:///./ui-bb-budget-card-ng/model.xml","webpack:///external \"vendor-bb-angular\"?a114","webpack:///./ui-bb-budget-card-ng/scripts/index.js","webpack:///external \"ui-bb-format-amount-ng\"","webpack:///./ui-bb-budget-card-ng/scripts/component.js","webpack:///./ui-bb-budget-card-ng/scripts/controller.js","webpack:///./ui-bb-budget-card-ng/scripts/constants.js"],"names":["angular","module","uiBbFormatAmountKey","component","name","uiBbBudgetCardNg","controller","uiBbBudgetCardController","bindings","labels","budgetIcon","chartWrapperClass","chartColorLevel","spent","spendingLimit","spentPercentage","availableAmount","onUpdate","onDelete","template","$scope","$element","$window","$timeout","$ctrl","animationStart","getRotatingElements","leftElToRotate","querySelector","CHART_SLICE_CLASSES","CLASS_CHART_SLICE_LEFT","rightElToRotate","CLASS_CHART_SLICE_RIGHT","checkAmountAnimationDelay","percentage","calculateRotationAngle","Math","round","toggleFullSliceRotation","slice","classList","contains","remove","add","styleBudgetChart","CHART_LEVEL","WARNING","chartColor","CARD_COLOR_CLASSES","CLASS_CHART_WARNING","amountColor","CLASS_LABEL_WARNING","DANGER","wrapperClass","CLASS_CHART_DANGER_BRIGHT","CLASS_CHART_DANGER","CLASS_LABEL_DANGER","amountSpentColor","CLASS_CHART_SUCCESS","CLASS_LABEL_SUCCESS","animateAmountLeft","timestamp","progress","animateAvailableAmount","parseInt","amount","$digest","requestAnimationFrame","checkChartAnimationDelay","animateChart","perc","isRightSide","resetChart","value","doAnimations","$onInit","$watch","Object","assign","SUCCESS"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;ACtCA,0C;;;;;;;ACAA,iD;;;;;;;;;;;;;ACgBA;;;;AACA;;;;AAEA;;;;;;AAEA;;;;;mBAKeA,0BACZC,MADY,CACL,sBADK,EACmB,CAC9BC,4BAD8B,CADnB,EAIZC,SAJY,CAIF,kBAJE,EAIkBA,mBAJlB,EAKZC,I,EA/BH;;;;;;;;;;;;;;;;;;;;;ACAA,iD;;;;;;;;;;;;;AC4BA;;;;;;AAEA,KAAMC,mBAAmB;AACvBC,eAAY,CACV,QADU,EAEV,UAFU,EAGV,SAHU,EAIV,UAJU,EAKVC,oBALU,CADW;AAQvBC,aAAU;AACRC,aAAQ,GADA;AAERC,iBAAY,GAFJ;AAGRC,wBAAmB,GAHX;AAIRC,sBAAiB,GAJT;AAKRC,YAAO,GALC;AAMRC,oBAAe,GANP;AAORC,sBAAiB,GAPT;AAQRC,sBAAiB,GART;AASRC,eAAU,IATF;AAURC,eAAU;AAVF,IARa;AAoBvBC;AApBuB,EAAzB,C,CA9BA;;;;;;;;;;;;;;;;;;;;;;;;;;;;mBAqJed,gB;;;;;;;;;;;;;ACrJf;;AAEA;AACA;;;;;;;;AAQA,KAAME,2BAA2B,SAASA,wBAAT,CAC/Ba,MAD+B,EAE/BC,QAF+B,EAG/BC,OAH+B,EAI/BC,QAJ+B,EAK/B;AACA,OAAMC,QAAQ,IAAd;;AAEA;;;;;;;;;AASA,OAAIC,iBAAiB,IAArB;;AAEA;;;;;;;;;;AAUA,OAAMC,sBAAsB,SAAtBA,mBAAsB;AAAA,YAAO;AACjCC,uBAAgBN,SAAS,CAAT,EAAYO,aAAZ,OAA8BC,+BAAoBC,sBAAlD,CADiB;AAEjCC,wBAAiBV,SAAS,CAAT,EAAYO,aAAZ,OAA8BC,+BAAoBG,uBAAlD;AAFgB,MAAP;AAAA,IAA5B;;AAKA;;;;;;;;;;;;AAYA,OAAMC,4BAA4B,SAA5BA,yBAA4B;AAAA,YAChCC,aAAa,EAAb,GAAkB,GAAlB,GAAwB,GADQ;AAAA,IAAlC;;AAIA;;;;;;;;;;;;AAYA,OAAMC,yBAAyB,SAAzBA,sBAAyB;AAAA,YAC7BC,KAAKC,KAAL,CAAW,OAAO,CAACH,aAAa,EAAb,GAAkBA,UAAlB,GAAgCA,aAAa,EAA9C,IAAqD,GAA5D,CAAX,CAD6B;AAAA,IAA/B;;AAGA;;;;;;;;;;;;AAYA,OAAMI,0BAA0B,SAA1BA,uBAA0B;AAAA,YAC9BC,MAAMC,SAAN,CAAgBC,QAAhB,CAAyB,kBAAzB,IACIF,MAAMC,SAAN,CAAgBE,MAAhB,CAAuB,kBAAvB,CADJ,GAEIH,MAAMC,SAAN,CAAgBG,GAAhB,CAAoB,kBAApB,CAH0B;AAAA,IAAhC;;AAMA;;;;;;;;;;;AAWA,OAAMC,mBAAmB,SAAnBA,gBAAmB,GAAM;AAC7B,aAAQpB,MAAMZ,eAAd;AACE,YAAKiC,uBAAYC,OAAjB;AACEtB,eAAMuB,UAAN,GAAmBC,8BAAmBC,mBAAtC;AACAzB,eAAM0B,WAAN,GAAoBF,8BAAmBG,mBAAvC;AACA;AACF,YAAKN,uBAAYO,MAAjB;AACE5B,eAAM6B,YAAN,GACK7B,MAAMb,iBADX,SACgCqC,8BAAmBM,yBADnD;;AAGA9B,eAAMuB,UAAN,GAAmBC,8BAAmBO,kBAAtC;AACA/B,eAAM0B,WAAN,GAAoBF,8BAAmBQ,kBAAvC;AACAhC,eAAMiC,gBAAN,GAAyBT,8BAAmBQ,kBAA5C;AACA;AACF;AACEhC,eAAMuB,UAAN,GAAmBC,8BAAmBU,mBAAtC;AACAlC,eAAM0B,WAAN,GAAoBF,8BAAmBW,mBAAvC;AAfJ;AAiBD,IAlBD;;AAoBA;;;;;;;;;;;;AAYA,OAAMC,oBAAoB,SAApBA,iBAAoB,CAACC,SAAD,EAAe;AACvC,SAAI,CAACrC,MAAMR,eAAX,EAA4B;AAC1B;AACD;;AAED,SAAI,CAACS,cAAL,EAAqB;AACnBA,wBAAiBoC,SAAjB;AACD;;AAED,SAAMC,WAAWD,YAAYpC,cAA7B;;AAEA,SAAID,MAAMuC,sBAAN,IAAgCC,SAASxC,MAAMR,eAAN,CAAsBiD,MAA/B,EAAuC,EAAvC,CAApC,EAAgF;AAC9EzC,aAAMuC,sBAAN,GAA+BvC,MAAMR,eAAN,CAAsBiD,MAArD;AACA;AACD;;AAEDzC,WAAMuC,sBAAN,IAAgC,CAAhC;AACA3C,YAAO8C,OAAP;;AAEA,SAAIJ,WAAW7B,0BAA0BT,MAAMT,eAAhC,CAAf,EAAiE;AAC/DO,eAAQ6C,qBAAR,CAA8BP,iBAA9B;AACD,MAFD,MAEO;AACLpC,aAAMuC,sBAAN,GAA+BvC,MAAMR,eAAN,CAAsBiD,MAArD;AACA7C,cAAO8C,OAAP;AACD;AACF,IAzBD;;AA2BA;;;;;;;;;;;;AAYA,OAAME,2BAA2B,SAA3BA,wBAA2B;AAAA,YAC/BlC,aAAa,EAAb,GAAkB,GAAlB,GAAwB,GADO;AAAA,IAAjC;;AAIA;;;;;;;;;;;AAWA,OAAMmC,eAAe,SAAfA,YAAe,GAAM;AACzB,SAAMC,OAAON,SAASxC,MAAMT,eAAf,EAAgC,EAAhC,CAAb;AACA,SAAMwD,cAAcD,QAAQ,CAAR,IAAaA,OAAO,EAAxC;;AAFyB,gCAGmB5C,qBAHnB;AAAA,SAGjBC,cAHiB,wBAGjBA,cAHiB;AAAA,SAGDI,eAHC,wBAGDA,eAHC;;AAKzB,SAAIuC,SAAS,EAAb,EAAiB;AACfhC,+BAAwBX,cAAxB;AACD,MAFD,MAEO,IAAI4C,WAAJ,EAAiB;AACtB5C,sBAAea,SAAf,CACGG,GADH,eACmBR,uBAAuBmC,IAAvB,CADnB,WACuD,iBADvD;AAED,MAHM,MAGA,IAAI,CAACC,WAAD,IAAgBD,OAAO,GAA3B,EAAgC;AACrChC,+BAAwBX,cAAxB;AACAA,sBAAea,SAAf,CAAyBG,GAAzB,CAA6B,iBAA7B;;AAEApB,gBAAS,YAAM;AACbe,iCAAwBX,cAAxB;AACAA,wBAAea,SAAf,CAAyBG,GAAzB,CAA6B,aAA7B;;AAEA,aAAI2B,OAAO,GAAX,EAAgB;AACdvC,2BAAgBS,SAAhB,CAA0BG,GAA1B,CAA8B,kBAA9B,EAAkD,iBAAlD;AACD,UAFD,MAEO;AACLZ,2BAAgBS,SAAhB,CACGG,GADH,eACmBR,uBAAuBmC,IAAvB,CADnB,WACuD,iBADvD;AAED;AACF,QAVD,EAUGF,yBAAyBE,IAAzB,CAVH;AAWD;AACF,IA1BD;;AA4BA;;;;;;;;AAQA,OAAME,aAAa,SAAbA,UAAa,GAAM;AACvBhD,WAAMiC,gBAAN,GAAyB,IAAzB;AACAjC,WAAM6B,YAAN,GAAqB7B,MAAMb,iBAA3B;;AAFuB,iCAGqBe,qBAHrB;AAAA,SAGfC,cAHe,yBAGfA,cAHe;AAAA,SAGCI,eAHD,yBAGCA,eAHD;;AAIvBJ,oBAAea,SAAf,CAAyBiC,KAAzB,GAAiC1C,gBAAgBS,SAAhB,CAA0BiC,KAA1B,GAAkC,EAAnE;AACAlD,cAAS,YAAM;AACbI,sBAAea,SAAf,CAAyBG,GAAzB,CAA6Bd,+BAAoBC,sBAAjD;AACAH,sBAAea,SAAf,CAAyBG,GAAzB,CAA6BnB,MAAMuB,UAAnC;AACAhB,uBAAgBS,SAAhB,CAA0BG,GAA1B,CAA8Bd,+BAAoBG,uBAAlD;AACAD,uBAAgBS,SAAhB,CAA0BG,GAA1B,CAA8BnB,MAAMuB,UAApC;AACD,MALD;AAMD,IAXD;;AAaA;;;;;;;;;AASA,OAAM2B,eAAe,SAAfA,YAAe,GAAM;AACzB;AACAF;;AAEAlD,aAAQ6C,qBAAR,CAA8BP,iBAA9B;AACArC,cAAS8C,YAAT;AACAzB;AACD,IAPD;;AASA;;;;;;;AAOA,OAAM+B,UAAU,SAAVA,OAAU,GAAM;AACpBvD,YAAOwD,MAAP,CAAc,8BAAd,EAA8CF,YAA9C;AACD,IAFD;;AAIAG,UAAOC,MAAP,CAActD,KAAd,EAAqB;AACnBmD,qBADmB;;AAGnB;;;;;;;AAOAZ,6BAAwBvC,MAAMV,aAAN,GAAsBU,MAAMV,aAAN,CAAoBmD,MAA1C,GAAmD,IAVxD;;AAYnB;;;;;;;AAOAlB,iBAAY,EAnBO;;AAqBnB;;;;;;;AAOAG,kBAAa,EA5BM;;AA8BnB;;;;;;;AAOAO,uBAAkB;AArCC,IAArB;AAuCD,EAzSD;;mBA2SelD,wB;;;;;;;;;;;;ACtTf;;;;;;;;AAQO,KAAMsC,oCAAc;AACzBkC,YAAS,SADgB;AAEzBjC,YAAS,SAFgB;AAGzBM,WAAQ;AAHiB,EAApB;;AAMP;;;;;;;;AAQO,KAAMvB,oDAAsB;AACjCC,2BAAwB,kBADS;AAEjCE,4BAAyB;AAFQ,EAA5B;;AAKP;;;;;;;;AAQO,KAAMgB,kDAAqB;AAChCW,wBAAqB,cADW;AAEhCD,wBAAqB,YAFW;;AAIhCP,wBAAqB,cAJW;AAKhCF,wBAAqB,YALW;;AAOhCO,uBAAoB,aAPY;AAQhCD,uBAAoB,WARY;AAShCD,8BAA2B;AATK,EAA3B,C","file":"ui-bb-budget-card-ng/scripts/ui-bb-budget-card-ng.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vendor-bb-angular\"), require(\"ui-bb-format-amount-ng\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ui-bb-budget-card-ng\", [\"vendor-bb-angular\", \"ui-bb-format-amount-ng\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ui-bb-budget-card-ng\"] = factory(require(\"vendor-bb-angular\"), require(\"ui-bb-format-amount-ng\"));\n\telse\n\t\troot[\"ui-bb-budget-card-ng\"] = factory(root[\"vendor-bb-angular\"], root[\"ui-bb-format-amount-ng\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_17__, __WEBPACK_EXTERNAL_MODULE_26__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap eb1a3c706fc83c476bc2","module.exports = require(\"./scripts/index.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ui-bb-budget-card-ng/model.xml\n// module id = 0\n// module chunks = 2","module.exports = __WEBPACK_EXTERNAL_MODULE_17__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor-bb-angular\"\n// module id = 17\n// module chunks = 1 2 3","/**\n * @module ui-bb-budget-card-ng\n *\n * @example\n * // In an extension:\n * // file: scripts/index.js\n * import uiBbBudgetCardNg from 'ui-bb-budget-card-ng';\n *\n * export const dependencyKeys = [\n *   uiBbBudgetCardNg,\n * ];\n *\n * // file: templates/template.ng.html\n * <ui-bb-budget-card-ng class=\"col-12\" />\n */\n\nimport angular from 'vendor-bb-angular';\nimport uiBbFormatAmountKey from 'ui-bb-format-amount-ng';\n\nimport component from './component';\n\n/**\n * @description The angular module name\n * @name default\n * @type {string}\n */\nexport default angular\n  .module('ui-bb-budget-card-ng', [\n    uiBbFormatAmountKey,\n  ])\n  .component('uiBbBudgetCardNg', component)\n  .name;\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-budget-card-ng/scripts/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_26__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-format-amount-ng\"\n// module id = 26\n// module chunks = 2","/**\n * @name uiBbBudgetCardNg\n * @type {object}\n * @description\n * Component used to display data using a lightweight chart\n *\n * @property {object} labels Contains translated component labels\n * @property {string} labels.title Title label\n * @property {string} labels.spent Spent label\n * @property {string} labels.chart Chart's center label\n * @property {string} labels.limit Limit label\n * @property {string} labels.edit Edit button label\n * @property {string} labels.delete Delete button label\n * @property {string} budgetIcon Font awesome icon class\n * @property {string} chartWrapperClass It sets a class on the chart wrapper\n * @property {string} chartColorLevel Sets the color level of the chart - success, warning, danger\n * @property {object} spent Amount object that is passed to the format ui component\n * @property {object} spendingLimit Spending limit object that is passed to the format ui component\n * @property {number} spentPercentage The percentage of the chart\n * @property {object} availableAmount Available amount object that is passed\n * to the format ui component\n * @property {?function} onUpdate Function to be called after click on Edit button. If not provided,\n * button will be hidden. If delete handler is also not provided, whole dropdown will be hidden\n * @property {?function} onDelete Function to be called after click on Delete button.\n * If not provided, button will be hidden. If edit handler is also not provided,\n * whole dropdown will be hidden\n */\n\nimport uiBbBudgetCardController from './controller';\n\nconst uiBbBudgetCardNg = {\n  controller: [\n    '$scope',\n    '$element',\n    '$window',\n    '$timeout',\n    uiBbBudgetCardController,\n  ],\n  bindings: {\n    labels: '=',\n    budgetIcon: '@',\n    chartWrapperClass: '@',\n    chartColorLevel: '@',\n    spent: '=',\n    spendingLimit: '=',\n    spentPercentage: '@',\n    availableAmount: '=',\n    onUpdate: '&?',\n    onDelete: '&?',\n  },\n  template: `\n    <div class=\"budget-card-container card\">\n      <div class=\"budget-card-title card-header text-center px-0\">\n        <i class=\"transaction-type-icon budget-card-category-icon\"\n          data-ng-class=\"$ctrl.budgetIcon\"\n          aria-hidden=\"true\"\n        ></i>\n\n        <label class=\"m-0\" data-ng-bind=\"$ctrl.labels.title\"></label>\n\n        <div data-ng-if=\"$ctrl.onUpdate || $ctrl.onDelete\"\n          class=\"float-right\" uib-dropdown keyboard-nav\n        >\n          <button\n            uib-dropdown-toggle\n            class=\"budget-card-options-btn btn btn-link py-0 pl-0\"\n            data-label=\"Options\"\n          >\n            <i class=\"fa fa-ellipsis-v\" aria-hidden=\"true\" data-role=\"more-actions\"></i>\n          </button>\n          <div\n            class=\"dropdown-menu dropdown-menu-right\"\n            uib-dropdown-menu role=\"menu\"\n            aria-labelledby=\"simple-btn-keyboard-nav\"\n          >\n            <a href=\"javascript:void(0)\"\n              class=\"dropdown-item\"\n              data-ng-if=\"$ctrl.onUpdate\"\n              data-ng-bind=\"$ctrl.labels.edit\"\n              data-ng-click=\"$ctrl.onUpdate()\"\n            ></a>\n            <a href=\"javascript:void(0)\"\n              class=\"dropdown-item\"\n              data-ng-if=\"$ctrl.onDelete\"\n              data-ng-bind=\"$ctrl.labels.delete\"\n              data-ng-click=\"$ctrl.onDelete()\"\n            ></a>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"budget-card-body card-body text-center\">\n        <div class=\"budget-card-chart progress-indicator donut rotate-anticlockwise mb-3\"\n          data-ng-class=\"$ctrl.wrapperClass\"\n        >\n          <div class=\"donut-left-slice\"\n            data-ng-class=\"$ctrl.chartColor\"\n          ></div>\n          <div class=\"donut-right-slice\"\n            data-ng-class=\"$ctrl.chartColor\"\n          ></div>\n          <div class=\"progress-indicator-donut-overlay\">\n            <div class=\"d-table\">\n              <div class=\"d-table-cell\"\n                data-ng-class=\"$ctrl.amountColor\"\n              >\n                <h4 class=\"label-amount-left\">\n                  <ui-bb-format-amount-ng class=\"amount-regular-color amount-integer\"\n                    data-amount=\"$ctrl.animateAvailableAmount\"\n                    data-currency=\"$ctrl.availableAmount.currencyCode\"\n                    data-wrap\n                  ></ui-bb-format-amount-ng>\n                </h4>\n\n                <div data-ng-bind=\"$ctrl.labels.chart\"></div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"budget-amount-group\"\n          data-ng-class=\"$ctrl.amountSpentColor\"\n        >\n          <span class=\"budget-amount-label\"\n            data-ng-class=\"$ctrl.amountSpentColor\"\n            data-ng-bind=\"$ctrl.labels.spent\"\n          ></span>\n          <ui-bb-format-amount-ng class=\"budget-amount amount-regular-color amount-integer\"\n            data-amount=\"$ctrl.spent.amount\"\n            data-currency=\"$ctrl.spent.currencyCode\"\n            data-wrap\n          ></ui-bb-format-amount-ng>\n        </div>\n\n        <div class=\"budget-amount-group\">\n          <span class=\"budget-amount-label\"\n            data-ng-bind=\"$ctrl.labels.limit\"\n          ></span>\n          <ui-bb-format-amount-ng class=\"budget-amount amount-regular-color amount-integer\"\n            data-amount=\"$ctrl.spendingLimit.amount\"\n            data-currency=\"$ctrl.spendingLimit.currencyCode\"\n            data-wrap\n          ></ui-bb-format-amount-ng>\n        </div>\n      </div>\n    </div>\n  `,\n};\n\nexport default uiBbBudgetCardNg;\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-budget-card-ng/scripts/component.js","import { CHART_LEVEL, CARD_COLOR_CLASSES, CHART_SLICE_CLASSES } from './constants';\n\n/* global angular, document */\n/**\n * @name uiBbBudgetCardController\n * @ngkey uiBbBudgetCardController\n * @type {function}\n *\n * @description\n * Card chart controller\n */\nconst uiBbBudgetCardController = function uiBbBudgetCardController(\n  $scope,\n  $element,\n  $window,\n  $timeout\n) {\n  const $ctrl = this;\n\n  /**\n   * @description\n   * Holder for the timestamp\n   *\n   * @inner\n   *\n   * @name animationStart\n   * @type {number}\n   */\n  let animationStart = null;\n\n  /**\n   * @name getRotatingElements\n   * @type {function}\n   *\n   * @description\n   * Returns rotating elements from DOM\n   *\n   * @inner\n   * @returns {object} Object with left and right rotating element\n   */\n  const getRotatingElements = () => ({\n    leftElToRotate: $element[0].querySelector(`.${CHART_SLICE_CLASSES.CLASS_CHART_SLICE_LEFT}`),\n    rightElToRotate: $element[0].querySelector(`.${CHART_SLICE_CLASSES.CLASS_CHART_SLICE_RIGHT}`),\n  });\n\n  /**\n   * @name checkAmountAnimationDelay\n   * @type {function}\n   *\n   * @description\n   * Helper function used to get the amount animation delay\n   *\n   * @inner\n   *\n   * @param {percentage} percentage of the full circle\n   * @returns {number}\n   */\n  const checkAmountAnimationDelay = percentage => (\n    percentage < 50 ? 300 : 600\n  );\n\n  /**\n   * @name calculateRotationAngle\n   * @type {function}\n   *\n   * @description\n   * Helper function used to calculate the rotation angle\n   *\n   * @inner\n   *\n   * @param {percentage} percentage of the full circle\n   * @returns {number}\n   */\n  const calculateRotationAngle = percentage =>\n    Math.round(360 * ((percentage < 50 ? percentage : (percentage - 50)) / 100));\n\n  /**\n   * @name toggleFullSliceRotation\n   * @type {function}\n   *\n   * @description\n   * Helper function used to tougle the class 'rotate-n-180-deg'\n   *\n   * @inner\n   *\n   * @param {slice} DOM element\n   * @returns {void}\n   */\n  const toggleFullSliceRotation = slice => (\n    slice.classList.contains('rotate-n-180-deg')\n      ? slice.classList.remove('rotate-n-180-deg')\n      : slice.classList.add('rotate-n-180-deg')\n  );\n\n  /**\n   * @name styleBudgetChart\n   * @type {function}\n   *\n   * @description\n   * Helper function used to style the budget chart\n   *\n   * @inner\n   *\n   * @returns {void}\n   */\n  const styleBudgetChart = () => {\n    switch ($ctrl.chartColorLevel) {\n      case CHART_LEVEL.WARNING:\n        $ctrl.chartColor = CARD_COLOR_CLASSES.CLASS_CHART_WARNING;\n        $ctrl.amountColor = CARD_COLOR_CLASSES.CLASS_LABEL_WARNING;\n        break;\n      case CHART_LEVEL.DANGER:\n        $ctrl.wrapperClass =\n          `${$ctrl.chartWrapperClass} ${CARD_COLOR_CLASSES.CLASS_CHART_DANGER_BRIGHT}`;\n\n        $ctrl.chartColor = CARD_COLOR_CLASSES.CLASS_CHART_DANGER;\n        $ctrl.amountColor = CARD_COLOR_CLASSES.CLASS_LABEL_DANGER;\n        $ctrl.amountSpentColor = CARD_COLOR_CLASSES.CLASS_LABEL_DANGER;\n        break;\n      default:\n        $ctrl.chartColor = CARD_COLOR_CLASSES.CLASS_CHART_SUCCESS;\n        $ctrl.amountColor = CARD_COLOR_CLASSES.CLASS_LABEL_SUCCESS;\n    }\n  };\n\n  /**\n   * @name animateAmountLeft\n   * @type {function}\n   *\n   * @description\n   * Helper function used to animate number counting\n   *\n   * @inner\n   *\n   * @param {timestamp} current timestamp\n   * @returns {void}\n   */\n  const animateAmountLeft = (timestamp) => {\n    if (!$ctrl.availableAmount) {\n      return;\n    }\n\n    if (!animationStart) {\n      animationStart = timestamp;\n    }\n\n    const progress = timestamp - animationStart;\n\n    if ($ctrl.animateAvailableAmount <= parseInt($ctrl.availableAmount.amount, 10)) {\n      $ctrl.animateAvailableAmount = $ctrl.availableAmount.amount;\n      return;\n    }\n\n    $ctrl.animateAvailableAmount -= 2;\n    $scope.$digest();\n\n    if (progress < checkAmountAnimationDelay($ctrl.spentPercentage)) {\n      $window.requestAnimationFrame(animateAmountLeft);\n    } else {\n      $ctrl.animateAvailableAmount = $ctrl.availableAmount.amount;\n      $scope.$digest();\n    }\n  };\n\n  /**\n   * @name checkChartAnimationDelay\n   * @type {function}\n   *\n   * @description\n   * Helper function used to get the chart animation delay\n   *\n   * @inner\n   *\n   * @param {percentage} percentage of the full circle\n   * @returns {number}\n   */\n  const checkChartAnimationDelay = percentage => (\n    percentage < 50 ? 600 : 300\n  );\n\n  /**\n   * @name animateChart\n   * @type {function}\n   *\n   * @description\n   * Helper function used to animate donat chart\n   *\n   * @inner\n   *\n   * @returns {void}\n   */\n  const animateChart = () => {\n    const perc = parseInt($ctrl.spentPercentage, 10);\n    const isRightSide = perc >= 0 && perc < 50;\n    const { leftElToRotate, rightElToRotate } = getRotatingElements();\n\n    if (perc === 50) {\n      toggleFullSliceRotation(leftElToRotate);\n    } else if (isRightSide) {\n      leftElToRotate.classList\n        .add(`rotate-n-${calculateRotationAngle(perc)}-deg`, 'transition-base');\n    } else if (!isRightSide || perc > 100) {\n      toggleFullSliceRotation(leftElToRotate);\n      leftElToRotate.classList.add('transition-base');\n\n      $timeout(() => {\n        toggleFullSliceRotation(leftElToRotate);\n        leftElToRotate.classList.add('reset-slice');\n\n        if (perc > 100) {\n          rightElToRotate.classList.add('rotate-n-180-deg', 'transition-base');\n        } else {\n          rightElToRotate.classList\n            .add(`rotate-n-${calculateRotationAngle(perc)}-deg`, 'transition-base');\n        }\n      }, checkChartAnimationDelay(perc));\n    }\n  };\n\n  /**\n   * @description\n   * Resets chart slices classes to initial state\n   *\n   * @name Controller#resetChart\n   * @type {function}\n   * @inner\n   */\n  const resetChart = () => {\n    $ctrl.amountSpentColor = null;\n    $ctrl.wrapperClass = $ctrl.chartWrapperClass;\n    const { leftElToRotate, rightElToRotate } = getRotatingElements();\n    leftElToRotate.classList.value = rightElToRotate.classList.value = '';\n    $timeout(() => {\n      leftElToRotate.classList.add(CHART_SLICE_CLASSES.CLASS_CHART_SLICE_LEFT);\n      leftElToRotate.classList.add($ctrl.chartColor);\n      rightElToRotate.classList.add(CHART_SLICE_CLASSES.CLASS_CHART_SLICE_RIGHT);\n      rightElToRotate.classList.add($ctrl.chartColor);\n    });\n  };\n\n  /**\n   * @description\n   * Trigger all chart related animations (circle, amount)\n   * and apply correct color\n   *\n   * @name Controller#doAnimations\n   * @type {function}\n   * @inner\n   */\n  const doAnimations = () => {\n    // reset classes if they have been appended already (chart update)\n    resetChart();\n\n    $window.requestAnimationFrame(animateAmountLeft);\n    $timeout(animateChart);\n    styleBudgetChart();\n  };\n\n  /**\n   * AngularJS Lifecycle hook used to initialize the controller\n   *\n   * @name Controller#$onInit\n   * @type {function}\n   * @returns {void}\n   */\n  const $onInit = () => {\n    $scope.$watch('$ctrl.availableAmount.amount', doAnimations);\n  };\n\n  Object.assign($ctrl, {\n    $onInit,\n\n    /**\n     * @description\n     * Animated available amount\n     *\n     * @name animateAvailableAmount\n     * @type {number}\n     */\n    animateAvailableAmount: $ctrl.spendingLimit ? $ctrl.spendingLimit.amount : null,\n\n    /**\n     * @description\n     * Chart color\n     *\n     * @name chartColor\n     * @type {string}\n     */\n    chartColor: '',\n\n    /**\n     * @description\n     * Amount color\n     *\n     * @name amountColor\n     * @type {string}\n     */\n    amountColor: '',\n\n    /**\n     * @description\n     * Amount spent color\n     *\n     * @name amountSpentColor\n     * @type {string}\n     */\n    amountSpentColor: '',\n  });\n};\n\nexport default uiBbBudgetCardController;\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-budget-card-ng/scripts/controller.js","/**\n * @name ChartLevel\n * @description\n * A set of constants which defines the color level\n * of the chart\n *\n * @type {object}\n */\nexport const CHART_LEVEL = {\n  SUCCESS: 'success',\n  WARNING: 'warning',\n  DANGER: 'danger',\n};\n\n/**\n * @name CHART_SLICE_CLASSES\n * @description\n * A set of constants which defines CSS classes of\n * chart moving slices\n *\n * @type {object}\n */\nexport const CHART_SLICE_CLASSES = {\n  CLASS_CHART_SLICE_LEFT: 'donut-left-slice',\n  CLASS_CHART_SLICE_RIGHT: 'donut-right-slice',\n};\n\n/**\n * @name CARD_COLOR_CLASSES\n * @description\n * A set of constants which defines the color level\n * classes used to style the chart\n *\n * @type {object}\n */\nexport const CARD_COLOR_CLASSES = {\n  CLASS_LABEL_SUCCESS: 'text-success',\n  CLASS_CHART_SUCCESS: 'bg-success',\n\n  CLASS_LABEL_WARNING: 'text-warning',\n  CLASS_CHART_WARNING: 'bg-warning',\n\n  CLASS_LABEL_DANGER: 'text-danger',\n  CLASS_CHART_DANGER: 'bg-danger',\n  CLASS_CHART_DANGER_BRIGHT: 'bg-danger',\n};\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-budget-card-ng/scripts/constants.js"],"sourceRoot":""}